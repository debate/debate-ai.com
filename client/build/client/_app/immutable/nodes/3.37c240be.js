import{S as Dt,i as Ut,s as Bt,d as q,v as Lt,p as _,y as V,c as A,q as v,r as w,z as C,l as m,f as R,u as d,x as p,G as Se,g as ne,H as c,W as Ye,I as Le,J as ao,A as Ae,K as de,Z as Ot,m as uo,P as vt,Q as pt,o as ct,V as at,T as ut,k as oe,B as ze,h as me,j as qe,C as xe,D as $e,E as et,F as tt,_ as fo,a0 as ho,e as ft,U as Vt,X as mo,Y as _o}from"../chunks/index.13108eec.js";import{c as Ze,p as Fe,g as Xe}from"../chunks/pocketbase.36d0cda3.js";import{p as mt}from"../chunks/stores.14178e32.js";import{T as Ft,S as Gt,H as Ht}from"../chunks/HoverDropdown.f8215f3d.js";const K="src/lib/EditModal.svelte";function gt(o){let e,t,l,s,n,r,a,u,i,f,g,k,y,P,S,U=o[10]/1e6+"",T,W,X,L,J,$,E,Z,x,b,I,z,h,G,ce,_e,le,Re,we,O,he,ie,N,Y,ae,se,re,ke,M,B,te,Me,ue,ve,Ne,ee,Ee,Ie,Te,Pe,je,Ue,Je,Ke,Be,Qe,H,D,j,fe;const ye={c:function(){e=_("div"),t=_("div"),l=_("h3"),s=V("Edit Profile"),n=A(),r=_("button"),a=_("img"),i=A(),f=_("div"),g=A(),k=_("p"),y=V("Profile Picture "),P=_("span"),S=V("(Max "),T=V(U),W=V("Mb)"),X=A(),L=_("div"),J=_("img"),E=A(),Z=_("div"),x=_("div"),b=_("div"),I=_("p"),z=V("Preview:"),h=A(),G=_("p"),ce=V(o[5]),_e=V("Mb"),Re=A(),we=_("img"),he=A(),ie=_("label"),N=_("input"),Y=V(`
					Upload File`),ae=A(),se=_("p"),re=V("Name"),ke=A(),M=_("div"),B=_("div"),te=_("label"),Me=V("First"),ue=A(),ve=_("input"),Ne=A(),ee=_("div"),Ee=_("label"),Ie=V("Last"),Te=A(),Pe=_("input"),je=A(),Ue=_("p"),Je=V("Bio"),Ke=A(),Be=_("textarea"),Qe=A(),H=_("button"),D=V("Save Changes"),this.h()},l:function(De){e=v(De,"DIV",{class:!0});var be=w(e);t=v(be,"DIV",{class:!0});var Q=w(t);l=v(Q,"H3",{class:!0});var Ve=w(l);s=C(Ve,"Edit Profile"),Ve.forEach(m),n=R(Q),r=v(Q,"BUTTON",{});var We=w(r);a=v(We,"IMG",{src:!0,alt:!0,class:!0}),We.forEach(m),i=R(Q),f=v(Q,"DIV",{class:!0}),w(f).forEach(m),g=R(Q),k=v(Q,"P",{class:!0});var Oe=w(k);y=C(Oe,"Profile Picture "),P=v(Oe,"SPAN",{class:!0});var Ge=w(P);S=C(Ge,"(Max "),T=C(Ge,U),W=C(Ge,"Mb)"),Ge.forEach(m),Oe.forEach(m),X=R(Q),L=v(Q,"DIV",{class:!0});var Ce=w(L);J=v(Ce,"IMG",{src:!0,alt:!0,class:!0}),E=R(Ce),Z=v(Ce,"DIV",{class:!0});var He=w(Z);x=v(He,"DIV",{class:!0});var ot=w(x);b=v(ot,"DIV",{});var nt=w(b);I=v(nt,"P",{class:!0});var Mt=w(I);z=C(Mt,"Preview:"),Mt.forEach(m),h=R(nt),G=v(nt,"P",{class:!0});var dt=w(G);ce=C(dt,o[5]),_e=C(dt,"Mb"),dt.forEach(m),nt.forEach(m),Re=R(ot),we=v(ot,"IMG",{src:!0,alt:!0,class:!0}),ot.forEach(m),he=R(He),ie=v(He,"LABEL",{class:!0});var ht=w(ie);N=v(ht,"INPUT",{type:!0,accept:!0,class:!0}),Y=C(ht,`
					Upload File`),ht.forEach(m),He.forEach(m),Ce.forEach(m),ae=R(Q),se=v(Q,"P",{class:!0});var At=w(se);re=C(At,"Name"),At.forEach(m),ke=R(Q),M=v(Q,"DIV",{class:!0});var lt=w(M);B=v(lt,"DIV",{class:!0});var st=w(B);te=v(st,"LABEL",{for:!0,class:!0});var Rt=w(te);Me=C(Rt,"First"),Rt.forEach(m),ue=R(st),ve=v(st,"INPUT",{class:!0,maxlength:!0}),st.forEach(m),Ne=R(lt),ee=v(lt,"DIV",{class:!0});var rt=w(ee);Ee=v(rt,"LABEL",{for:!0,class:!0});var Nt=w(Ee);Ie=C(Nt,"Last"),Nt.forEach(m),Te=R(rt),Pe=v(rt,"INPUT",{class:!0,maxlength:!0}),rt.forEach(m),lt.forEach(m),je=R(Q),Ue=v(Q,"P",{class:!0});var jt=w(Ue);Je=C(jt,"Bio"),jt.forEach(m),Ke=R(Q),Be=v(Q,"TEXTAREA",{class:!0,rows:!0,maxlength:!0}),w(Be).forEach(m),Qe=R(Q),H=v(Q,"BUTTON",{class:!0});var Tt=w(H);D=C(Tt,"Save Changes"),Tt.forEach(m),Q.forEach(m),be.forEach(m),this.h()},h:function(){d(l,"class","text-center text-lg font-semibold mb-4 "),p(l,K,25,2,679),Se(a.src,u="/close.svg")||d(a,"src",u),d(a,"alt","Close modal"),d(a,"class","absolute top-4 right-4 bg-neutral-600 rounded-full h-8 p-2"),p(a,K,27,3,782),p(r,K,26,2,751),d(f,"class","w-[500px] h-[1px] bg-neutral-700 mb-4 -ml-5"),p(f,K,33,2,921),d(P,"class","text-sm text-neutral-400"),p(P,K,35,19,1050),d(k,"class","font-semibold mb-4 text-neutral-300"),p(k,K,34,2,983),Se(J.src,$=o[2])||d(J,"src",$),d(J,"alt","Profile Icon"),d(J,"class","w-32 h-32 bg-white rounded-full object-cover"),p(J,K,38,3,1193),d(I,"class","font-semibold text-neutral-300"),p(I,K,46,6,1412),d(G,"class",le=o[5]>o[10]/1e6?"text-red-400 font-semibold text-sm":"text-neutral-400 text-sm"),p(G,K,47,6,1473),p(b,K,45,5,1400),Se(we.src,O="/profile.svg")||d(we,"src",O),d(we,"alt","Profile Icon"),d(we,"class","w-12 h-12 bg-white rounded-full object-cover"),p(we,K,55,5,1664),d(x,"class","flex space-x-8"),p(x,K,44,4,1366),d(N,"type","file"),d(N,"accept",".png, .jpg, .jpeg"),d(N,"class","hidden"),p(N,K,65,5,2002),d(ie,"class","hover:cursor-pointer bg-[#378E8B] rounded-md p-2 font-semibold flex justify-center items-center w-36 hover:bg-[#2d7e7b] text-white text-sm"),p(ie,K,62,4,1832),d(Z,"class","flex flex-col items-center space-y-6"),p(Z,K,43,3,1311),d(L,"class","flex justify-around items-center my-4"),p(L,K,37,2,1138),d(se,"class","font-semibold mb-4 text-neutral-300"),p(se,K,75,2,2174),d(te,"for","firstName"),d(te,"class","text-neutral-400 font-semibold mb-2 text-sm"),p(te,K,78,4,2303),d(ve,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),d(ve,"maxlength","24"),p(ve,K,79,4,2396),d(B,"class","flex flex-col flex-1"),p(B,K,77,3,2264),d(Ee,"for","lastName"),d(Ee,"class","text-neutral-400 font-semibold mb-2 text-sm"),p(Ee,K,82,4,2540),d(Pe,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),d(Pe,"maxlength","24"),p(Pe,K,83,4,2631),d(ee,"class","flex flex-col flex-1"),p(ee,K,81,3,2501),d(M,"class","flex space-x-4"),p(M,K,76,2,2232),d(Ue,"class","font-semibold mb-4 text-neutral-300"),p(Ue,K,86,2,2743),d(Be,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),d(Be,"rows","4"),d(Be,"maxlength","512"),p(Be,K,87,2,2800),d(H,"class","rounded-md bg-[#378E8B] hover:bg-[#2d7e7b] p-2 px-4"),p(H,K,93,2,2919),d(t,"class","relative bg-[#333333] w-[500px] rounded-md text-white p-5 flex flex-col"),p(t,K,24,1,591),d(e,"class","absolute left-0 top-0 w-screen h-screen bg-black/20 z-50 flex justify-center items-center overflow-y-auto"),p(e,K,21,0,468)},m:function(De,be){ne(De,e,be),c(e,t),c(t,l),c(l,s),c(t,n),c(t,r),c(r,a),c(t,i),c(t,f),c(t,g),c(t,k),c(k,y),c(k,P),c(P,S),c(P,T),c(P,W),c(t,X),c(t,L),c(L,J),c(L,E),c(L,Z),c(Z,x),c(x,b),c(b,I),c(I,z),c(b,h),c(b,G),c(G,ce),c(G,_e),c(x,Re),c(x,we),o[11](we),c(Z,he),c(Z,ie),c(ie,N),c(ie,Y),c(t,ae),c(t,se),c(se,re),c(t,ke),c(t,M),c(M,B),c(B,te),c(te,Me),c(B,ue),c(B,ve),Ye(ve,o[7]),c(M,Ne),c(M,ee),c(ee,Ee),c(Ee,Ie),c(ee,Te),c(ee,Pe),Ye(Pe,o[8]),c(t,je),c(t,Ue),c(Ue,Je),c(t,Ke),c(t,Be),Ye(Be,o[9]),c(t,Qe),c(t,H),c(H,D),j||(fe=[Le(r,"click",function(){ao(o[1])&&o[1].apply(this,arguments)},!1,!1,!1,!1),Le(N,"change",o[12]),Le(ve,"input",o[13]),Le(Pe,"input",o[14]),Le(Be,"input",o[15]),Le(H,"click",o[16],!1,!1,!1,!1)],j=!0)},p:function(De,[be]){o=De,be&4&&!Se(J.src,$=o[2])&&d(J,"src",$),be&32&&Ae(ce,o[5]),be&32&&le!==(le=o[5]>o[10]/1e6?"text-red-400 font-semibold text-sm":"text-neutral-400 text-sm")&&d(G,"class",le),be&128&&ve.value!==o[7]&&Ye(ve,o[7]),be&256&&Pe.value!==o[8]&&Ye(Pe,o[8]),be&512&&Ye(Be,o[9])},i:de,o:de,d:function(De){De&&m(e),o[11](null),j=!1,Ot(fe)}};return q("SvelteRegisterBlock",{block:ye,id:gt.name,type:"component",source:"",ctx:o}),ye}function vo(o,e,t){let{$$slots:l={},$$scope:s}=e;Lt("EditModal",l,[]);let{onSave:n}=e,{onClose:r}=e,{currentAvatar:a}=e,u,i="",f=0,g=1e6,k,y,P,S;o.$$.on_mount.push(function(){n===void 0&&!("onSave"in e||o.$$.bound[o.$$.props.onSave])&&console.warn("<EditModal> was created without expected prop 'onSave'"),r===void 0&&!("onClose"in e||o.$$.bound[o.$$.props.onClose])&&console.warn("<EditModal> was created without expected prop 'onClose'"),a===void 0&&!("currentAvatar"in e||o.$$.bound[o.$$.props.currentAvatar])&&console.warn("<EditModal> was created without expected prop 'currentAvatar'")});const U=["onSave","onClose","currentAvatar"];Object.keys(e).forEach(E=>{!~U.indexOf(E)&&E.slice(0,2)!=="$$"&&E!=="slot"&&console.warn(`<EditModal> was created with unknown prop '${E}'`)});function T(E){uo[E?"unshift":"push"](()=>{k=E,t(6,k),t(3,u),t(4,i)})}function W(){u=this.files,t(3,u)}function X(){y=this.value,t(7,y)}function L(){P=this.value,t(8,P)}function J(){S=this.value,t(9,S)}const $=()=>n(y||"",P||"",S||"",i||"");return o.$$set=E=>{"onSave"in E&&t(0,n=E.onSave),"onClose"in E&&t(1,r=E.onClose),"currentAvatar"in E&&t(2,a=E.currentAvatar)},o.$capture_state=()=>({onSave:n,onClose:r,currentAvatar:a,profilePicture:u,currentPicture:i,fileSize:f,maxFileSize:g,previewPhoto:k,firstName:y,lastName:P,bioText:S}),o.$inject_state=E=>{"onSave"in E&&t(0,n=E.onSave),"onClose"in E&&t(1,r=E.onClose),"currentAvatar"in E&&t(2,a=E.currentAvatar),"profilePicture"in E&&t(3,u=E.profilePicture),"currentPicture"in E&&t(4,i=E.currentPicture),"fileSize"in E&&t(5,f=E.fileSize),"maxFileSize"in E&&t(10,g=E.maxFileSize),"previewPhoto"in E&&t(6,k=E.previewPhoto),"firstName"in E&&t(7,y=E.firstName),"lastName"in E&&t(8,P=E.lastName),"bioText"in E&&t(9,S=E.bioText)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&24&&u&&(t(4,i=u[0]),i&&(t(5,f=Math.round((i==null?void 0:i.size)/1e3)/1e3),t(6,k.src=URL.createObjectURL(i),k)))},[n,r,a,u,i,f,k,y,P,S,g,T,W,X,L,J,$]}class zt extends Dt{constructor(e){super(e),Ut(this,e,vo,gt,Bt,{onSave:0,onClose:1,currentAvatar:2}),q("SvelteRegisterComponent",{component:this,tagName:"EditModal",options:e,id:gt.name})}get onSave(){throw new Error("<EditModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSave(e){throw new Error("<EditModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onClose(){throw new Error("<EditModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onClose(e){throw new Error("<EditModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentAvatar(){throw new Error("<EditModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentAvatar(e){throw new Error("<EditModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ge="src/lib/SmallPost.svelte";function Ct(o,e,t){const l=o.slice();return l[23]=e[t],l}function bt(o){var s;let e,t;e=new Gt({props:{onDelete:o[18],showDelete:((s=o[11])==null?void 0:s.id)===o[1]},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(r){$e(e.$$.fragment,r)},m:function(r,a){et(e,r,a),t=!0},p:function(r,a){var i;const u={};a&129&&(u.onDelete=r[18]),a&2050&&(u.showDelete=((i=r[11])==null?void 0:i.id)===r[1]),e.$set(u)},i:function(r){t||(oe(e.$$.fragment,r),t=!0)},o:function(r){me(e.$$.fragment,r),t=!1},d:function(r){tt(e,r)}};return q("SvelteRegisterBlock",{block:l,id:bt.name,type:"if",source:"(40:1) {#if showPostDropdown}",ctx:o}),l}function qt(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/heart.svg")||d(e,"src",t),d(e,"alt","Dot Dot Dot"),d(e,"class","w-4 hover:cursor-pointer"),p(e,ge,66,15,1888)},m:function(n,r){ne(n,e,r)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:qt.name,type:"else",source:"(67:8) {:else}",ctx:o}),l}function Xt(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/heart-full.svg")||d(e,"src",t),d(e,"alt","Dot Dot Dot"),d(e,"class","w-4 hover:cursor-pointer"),p(e,ge,62,20,1774)},m:function(n,r){ne(n,e,r)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:Xt.name,type:"if",source:"(63:5) {#if userLiked}",ctx:o}),l}function wt(o){let e,t;e=new Ht({props:{$$slots:{default:[Jt]},$$scope:{ctx:o}},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(n){$e(e.$$.fragment,n)},m:function(n,r){et(e,n,r),t=!0},i:function(n){t||(oe(e.$$.fragment,n),t=!0)},o:function(n){me(e.$$.fragment,n),t=!1},d:function(n){tt(e,n)}};return q("SvelteRegisterBlock",{block:l,id:wt.name,type:"if",source:"(94:3) {#if showLikesDropdown}",ctx:o}),l}function Jt(o){let e;const t={c:function(){e=V("(call back to page and show load state while gathering most recent likes)")},l:function(s){e=C(s,"(call back to page and show load state while gathering most recent likes)")},m:function(s,n){ne(s,e,n)},d:function(s){s&&m(e)}};return q("SvelteRegisterBlock",{block:t,id:Jt.name,type:"slot",source:"(95:3) <HoverDropdown>",ctx:o}),t}function Kt(o){let e,t,l=o[12];ut(l);let s=[];for(let a=0;a<l.length;a+=1)s[a]=kt(Ct(o,l,a));const n=a=>me(s[a],1,1,()=>{s[a]=null}),r={c:function(){e=_("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l:function(u){e=v(u,"DIV",{class:!0});var i=w(e);for(let f=0;f<s.length;f+=1)s[f].l(i);i.forEach(m),this.h()},h:function(){d(e,"class","flex space-x-2 mb-4 flex-wrap"),p(e,ge,101,3,2772)},m:function(u,i){ne(u,e,i);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);t=!0},p:function(u,i){if(i&4096){l=u[12],ut(l);let f;for(f=0;f<l.length;f+=1){const g=Ct(u,l,f);s[f]?(s[f].p(g,i),oe(s[f],1)):(s[f]=kt(g),s[f].c(),oe(s[f],1),s[f].m(e,null))}for(ze(),f=l.length;f<s.length;f+=1)n(f);qe()}},i:function(u){if(!t){for(let i=0;i<l.length;i+=1)oe(s[i]);t=!0}},o:function(u){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)me(s[i]);t=!1},d:function(u){u&&m(e),fo(s,u)}};return q("SvelteRegisterBlock",{block:r,id:Kt.name,type:"if",source:"(101:2) {#if tagArr.length > 0}",ctx:o}),r}function kt(o){let e,t;e=new Ft({props:{label:o[23]},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(n){$e(e.$$.fragment,n)},m:function(n,r){et(e,n,r),t=!0},p:de,i:function(n){t||(oe(e.$$.fragment,n),t=!0)},o:function(n){me(e.$$.fragment,n),t=!1},d:function(n){tt(e,n)}};return q("SvelteRegisterBlock",{block:l,id:kt.name,type:"each",source:"(103:4) {#each tagArr as tag}",ctx:o}),l}function Et(o){var re;let e,t,l,s,n,r,a,u,i,f,g,k,y,P,S,U,T,W,X,L,J,$,E,Z,x,b,I,z=((re=o[6])==null?void 0:re.length)+"",h,G,ce,_e,le,Re,we,O=o[9]&&bt(o);function he(ke,M){return ke[8]?Xt:qt}let ie=he(o),N=ie(o),Y=o[10]&&wt(o),ae=o[12].length>0&&Kt(o);const se={c:function(){e=_("div"),O&&O.c(),t=A(),l=_("div"),s=_("div"),n=_("div"),r=_("img"),u=A(),i=_("div"),f=_("button"),g=V(o[4]),k=A(),y=_("h4"),P=V(o[5]),S=A(),U=_("div"),T=_("button"),N.c(),W=A(),X=_("button"),L=_("img"),$=A(),E=_("p"),Z=V(o[3]),x=A(),b=_("div"),I=_("p"),h=V(z),G=V(" likes"),ce=A(),Y&&Y.c(),_e=A(),ae&&ae.c(),this.h()},l:function(M){e=v(M,"DIV",{class:!0});var B=w(e);O&&O.l(B),t=R(B),l=v(B,"DIV",{class:!0});var te=w(l);s=v(te,"DIV",{class:!0});var Me=w(s);n=v(Me,"DIV",{class:!0});var ue=w(n);r=v(ue,"IMG",{src:!0,alt:!0,class:!0}),u=R(ue),i=v(ue,"DIV",{class:!0});var ve=w(i);f=v(ve,"BUTTON",{class:!0});var Ne=w(f);g=C(Ne,o[4]),Ne.forEach(m),k=R(ve),y=v(ve,"H4",{class:!0});var ee=w(y);P=C(ee,o[5]),ee.forEach(m),ve.forEach(m),ue.forEach(m),S=R(Me),U=v(Me,"DIV",{class:!0});var Ee=w(U);T=v(Ee,"BUTTON",{});var Ie=w(T);N.l(Ie),Ie.forEach(m),W=R(Ee),X=v(Ee,"BUTTON",{class:!0});var Te=w(X);L=v(Te,"IMG",{src:!0,alt:!0,class:!0}),Te.forEach(m),Ee.forEach(m),Me.forEach(m),$=R(te),E=v(te,"P",{class:!0});var Pe=w(E);Z=C(Pe,o[3]),Pe.forEach(m),x=R(te),b=v(te,"DIV",{class:!0});var je=w(b);I=v(je,"P",{class:!0});var Ue=w(I);h=C(Ue,z),G=C(Ue," likes"),Ue.forEach(m),ce=R(je),Y&&Y.l(je),je.forEach(m),_e=R(te),ae&&ae.l(te),te.forEach(m),B.forEach(m),this.h()},h:function(){Se(r.src,a=o[2])||d(r,"src",a),d(r,"alt","Profile Icon"),d(r,"class","h-10 w-10 object-cover mr-3 hover:cursor-pointer rounded-full bg-white"),p(r,ge,45,4,1206),d(f,"class","font-semibold hover:underline cursor-pointer text-left"),p(f,ge,51,5,1387),d(y,"class","text-sm text-neutral-300"),p(y,ge,57,5,1604),d(i,"class","flex flex-col"),p(i,ge,50,4,1354),d(n,"class","flex items-center"),p(n,ge,44,3,1170),p(T,ge,61,4,1710),Se(L.src,J="/dots.svg")||d(L,"src",J),d(L,"alt","Dot Dot Dot"),d(L,"class","w-4 hover:cursor-pointer"),p(L,ge,76,5,2156),d(X,"class","w-8 h-8 flex items-center justify-center rounded-full hover:bg-neutral-600"),p(X,ge,72,4,2014),d(U,"class","flex space-x-2"),p(U,ge,60,3,1677),d(s,"class","flex items-center justify-between mb-2"),p(s,ge,43,2,1114),d(E,"class","mb-4"),p(E,ge,81,2,2267),d(I,"class","hover:underline cursor-pointer"),p(I,ge,86,3,2384),d(b,"class","relative text-sm flex text-neutral-300 justify-between mb-4"),p(b,ge,85,2,2307),d(l,"class","bg-[#333333] w-[500px] rounded-md drop-shadow-md text-white p-5"),p(l,ge,42,1,1034),d(e,"class","relative"),p(e,ge,38,0,886)},m:function(M,B){ne(M,e,B),O&&O.m(e,null),c(e,t),c(e,l),c(l,s),c(s,n),c(n,r),c(n,u),c(n,i),c(i,f),c(f,g),c(i,k),c(i,y),c(y,P),c(s,S),c(s,U),c(U,T),N.m(T,null),c(U,W),c(U,X),c(X,L),c(l,$),c(l,E),c(E,Z),c(l,x),c(l,b),c(b,I),c(I,h),c(I,G),c(b,ce),Y&&Y.m(b,null),c(l,_e),ae&&ae.m(l,null),le=!0,Re||(we=[Le(f,"click",o[19],!1,!1,!1,!1),Le(T,"click",o[20],!1,!1,!1,!1),Le(X,"click",o[13],!1,!1,!1,!1),Le(I,"pointerenter",o[21],!1,!1,!1,!1),Le(I,"pointerleave",o[22],!1,!1,!1,!1)],Re=!0)},p:function(M,[B]){var te;M[9]?O?(O.p(M,B),B&512&&oe(O,1)):(O=bt(M),O.c(),oe(O,1),O.m(e,t)):O&&(ze(),me(O,1,1,()=>{O=null}),qe()),(!le||B&4&&!Se(r.src,a=M[2]))&&d(r,"src",a),(!le||B&16)&&Ae(g,M[4]),(!le||B&32)&&Ae(P,M[5]),ie!==(ie=he(M))&&(N.d(1),N=ie(M),N&&(N.c(),N.m(T,null))),(!le||B&8)&&Ae(Z,M[3]),(!le||B&64)&&z!==(z=((te=M[6])==null?void 0:te.length)+"")&&Ae(h,z),M[10]?Y?B&1024&&oe(Y,1):(Y=wt(M),Y.c(),oe(Y,1),Y.m(b,null)):Y&&(ze(),me(Y,1,1,()=>{Y=null}),qe()),M[12].length>0&&ae.p(M,B)},i:function(M){le||(oe(O),oe(Y),oe(ae),le=!0)},o:function(M){me(O),me(Y),me(ae),le=!1},d:function(M){M&&m(e),O&&O.d(),N.d(),Y&&Y.d(),ae&&ae.d(),Re=!1,Ot(we)}};return q("SvelteRegisterBlock",{block:se,id:Et.name,type:"component",source:"",ctx:o}),se}function po(o,e,t){let l;vt(Ze,"currentUser"),pt(o,Ze,h=>t(11,l=h));let{$$slots:s={},$$scope:n}=e;Lt("SmallPost",s,[]);let{id:r}=e,{authorId:a}=e,{authorAvatar:u}=e,{content:i}=e,{tags:f}=e,{author:g}=e,{date:k}=e,{likes:y=[]}=e,{onLike:P}=e,{onUnlike:S}=e,{onDelete:U}=e,T=[],W=!1,X=!1,L=!1;function J(){t(9,X=!X)}function $(h){W?S(h):P(h)}ct(()=>{}),at(()=>{l!=null&&t(8,W=y.includes(l.id))}),o.$$.on_mount.push(function(){r===void 0&&!("id"in e||o.$$.bound[o.$$.props.id])&&console.warn("<SmallPost> was created without expected prop 'id'"),a===void 0&&!("authorId"in e||o.$$.bound[o.$$.props.authorId])&&console.warn("<SmallPost> was created without expected prop 'authorId'"),u===void 0&&!("authorAvatar"in e||o.$$.bound[o.$$.props.authorAvatar])&&console.warn("<SmallPost> was created without expected prop 'authorAvatar'"),i===void 0&&!("content"in e||o.$$.bound[o.$$.props.content])&&console.warn("<SmallPost> was created without expected prop 'content'"),f===void 0&&!("tags"in e||o.$$.bound[o.$$.props.tags])&&console.warn("<SmallPost> was created without expected prop 'tags'"),g===void 0&&!("author"in e||o.$$.bound[o.$$.props.author])&&console.warn("<SmallPost> was created without expected prop 'author'"),k===void 0&&!("date"in e||o.$$.bound[o.$$.props.date])&&console.warn("<SmallPost> was created without expected prop 'date'"),P===void 0&&!("onLike"in e||o.$$.bound[o.$$.props.onLike])&&console.warn("<SmallPost> was created without expected prop 'onLike'"),S===void 0&&!("onUnlike"in e||o.$$.bound[o.$$.props.onUnlike])&&console.warn("<SmallPost> was created without expected prop 'onUnlike'"),U===void 0&&!("onDelete"in e||o.$$.bound[o.$$.props.onDelete])&&console.warn("<SmallPost> was created without expected prop 'onDelete'")});const E=["id","authorId","authorAvatar","content","tags","author","date","likes","onLike","onUnlike","onDelete"];Object.keys(e).forEach(h=>{!~E.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<SmallPost> was created with unknown prop '${h}'`)});const Z=()=>U(r),x=()=>window.location.assign(`http://${window.location.host}/user/${a}`),b=()=>$(r),I=()=>t(10,L=!0),z=()=>t(10,L=!1);return o.$$set=h=>{"id"in h&&t(0,r=h.id),"authorId"in h&&t(1,a=h.authorId),"authorAvatar"in h&&t(2,u=h.authorAvatar),"content"in h&&t(3,i=h.content),"tags"in h&&t(15,f=h.tags),"author"in h&&t(4,g=h.author),"date"in h&&t(5,k=h.date),"likes"in h&&t(6,y=h.likes),"onLike"in h&&t(16,P=h.onLike),"onUnlike"in h&&t(17,S=h.onUnlike),"onDelete"in h&&t(7,U=h.onDelete)},o.$capture_state=()=>({currentUser:Ze,Tag:Ft,SmallDropdown:Gt,HoverDropdown:Ht,onMount:ct,beforeUpdate:at,id:r,authorId:a,authorAvatar:u,content:i,tags:f,author:g,date:k,likes:y,onLike:P,onUnlike:S,onDelete:U,tagArr:T,userLiked:W,showPostDropdown:X,showLikesDropdown:L,togglePostDropdown:J,onLikeClicked:$,$currentUser:l}),o.$inject_state=h=>{"id"in h&&t(0,r=h.id),"authorId"in h&&t(1,a=h.authorId),"authorAvatar"in h&&t(2,u=h.authorAvatar),"content"in h&&t(3,i=h.content),"tags"in h&&t(15,f=h.tags),"author"in h&&t(4,g=h.author),"date"in h&&t(5,k=h.date),"likes"in h&&t(6,y=h.likes),"onLike"in h&&t(16,P=h.onLike),"onUnlike"in h&&t(17,S=h.onUnlike),"onDelete"in h&&t(7,U=h.onDelete),"tagArr"in h&&t(12,T=h.tagArr),"userLiked"in h&&t(8,W=h.userLiked),"showPostDropdown"in h&&t(9,X=h.showPostDropdown),"showLikesDropdown"in h&&t(10,L=h.showLikesDropdown)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[r,a,u,i,g,k,y,U,W,X,L,l,T,J,$,f,P,S,Z,x,b,I,z]}class Qt extends Dt{constructor(e){super(e),Ut(this,e,po,Et,Bt,{id:0,authorId:1,authorAvatar:2,content:3,tags:15,author:4,date:5,likes:6,onLike:16,onUnlike:17,onDelete:7}),q("SvelteRegisterComponent",{component:this,tagName:"SmallPost",options:e,id:Et.name})}get id(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorId(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorId(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorAvatar(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorAvatar(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get content(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set content(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get tags(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set tags(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get author(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get date(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set date(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get likes(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set likes(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onLike(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onLike(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onUnlike(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onUnlike(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onDelete(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onDelete(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:go}=ho,F="src/routes/user/[userid]/+page.svelte";function it(o,e,t){const l=o.slice();return l[20]=e[t],l}function Wt(o){let e,t,l,s,n,r,a,u;const i={c:function(){e=_("div"),t=_("h1"),l=V("This page can not be found"),s=A(),n=_("button"),r=V("Return home"),this.h()},l:function(g){e=v(g,"DIV",{class:!0});var k=w(e);t=v(k,"H1",{class:!0});var y=w(t);l=C(y,"This page can not be found"),y.forEach(m),s=R(k),n=v(k,"BUTTON",{class:!0});var P=w(n);r=C(P,"Return home"),P.forEach(m),k.forEach(m),this.h()},h:function(){d(t,"class","font-semibold text-3xl"),p(t,F,233,2,6933),d(n,"class","rounded-md text-[#378E8B] underline text-lg hover:font-semibold"),p(n,F,234,2,7002),d(e,"class","text-white flex justify-center items-center h-screen flex-col space-y-12"),p(e,F,232,1,6844)},m:function(g,k){ne(g,e,k),c(e,t),c(t,l),c(e,s),c(e,n),c(n,r),a||(u=Le(n,"click",o[16],!1,!1,!1,!1),a=!0)},p:de,i:de,o:de,d:function(g){g&&m(e),a=!1,u()}};return q("SvelteRegisterBlock",{block:i,id:Wt.name,type:"else",source:"(232:0) {:else}",ctx:o}),i}function Yt(o){var je,Ue,Je,Ke,Be,Qe;let e,t,l,s,n,r,a,u,i=((je=o[0])==null?void 0:je.username)+"",f,g,k,y,P,S,U=((Je=(Ue=o[0])==null?void 0:Ue.followers)==null?void 0:Je.length)+"",T,W,X,L,J=((Be=(Ke=o[0])==null?void 0:Ke.following)==null?void 0:Be.length)+"",$,E,Z,x,b,I,z,h,G,ce,_e,le,Re,we,O,he,ie,N=o[1]&&Pt(o);function Y(H,D){var j;return(j=H[0])!=null&&j.avatar?$t:xt}let ae=Y(o),se=ae(o),re=((Qe=o[0])==null?void 0:Qe.verified)&&yt(o);function ke(H,D){var j,fe,ye;if(((j=H[3])==null?void 0:j.id)==((fe=H[0])==null?void 0:fe.id))return to;if((ye=H[0])!=null&&ye.name)return eo}let M=ke(o),B=M&&M(o);function te(H,D){var j,fe,ye,pe;return D&9&&(x=null),((j=H[3])==null?void 0:j.id)==((fe=H[0])==null?void 0:fe.id)?lo:(x==null&&(x=!!((pe=H[3])!=null&&pe.following.includes((ye=H[0])==null?void 0:ye.id))),x?no:oo)}let Me=te(o,-1),ue=Me(o);function ve(H,D){var j,fe;return((j=H[3])==null?void 0:j.id)==((fe=H[0])==null?void 0:fe.id)?ro:so}let Ne=ve(o),ee=Ne(o);const Ee=[co,io],Ie=[];function Te(H,D){return H[2].length>=1?0:1}O=Te(o),he=Ie[O]=Ee[O](o);const Pe={c:function(){N&&N.c(),e=A(),t=_("div"),l=_("div"),s=_("div"),se.c(),n=A(),r=_("div"),a=_("div"),u=_("h1"),f=V(i),g=A(),re&&re.c(),k=A(),B&&B.c(),y=A(),P=_("div"),S=_("h2"),T=V(U),W=V(" Followers"),X=A(),L=_("h2"),$=V(J),E=V(" Following"),Z=A(),ue.c(),b=A(),I=_("div"),z=_("h3"),h=V("Bio:"),G=A(),ee.c(),ce=A(),_e=_("div"),le=_("h3"),Re=V("Posts:"),we=A(),he.c(),this.h()},l:function(D){N&&N.l(D),e=R(D),t=v(D,"DIV",{class:!0});var j=w(t);l=v(j,"DIV",{class:!0});var fe=w(l);s=v(fe,"DIV",{class:!0});var ye=w(s);se.l(ye),n=R(ye),r=v(ye,"DIV",{});var pe=w(r);a=v(pe,"DIV",{class:!0});var De=w(a);u=v(De,"H1",{class:!0});var be=w(u);f=C(be,i),be.forEach(m),g=R(De),re&&re.l(De),De.forEach(m),k=R(pe),B&&B.l(pe),y=R(pe),P=v(pe,"DIV",{class:!0});var Q=w(P);S=v(Q,"H2",{class:!0});var Ve=w(S);T=C(Ve,U),W=C(Ve," Followers"),Ve.forEach(m),X=R(Q),L=v(Q,"H2",{class:!0});var We=w(L);$=C(We,J),E=C(We," Following"),We.forEach(m),Q.forEach(m),pe.forEach(m),ye.forEach(m),Z=R(fe),ue.l(fe),fe.forEach(m),b=R(j),I=v(j,"DIV",{class:!0});var Oe=w(I);z=v(Oe,"H3",{class:!0});var Ge=w(z);h=C(Ge,"Bio:"),Ge.forEach(m),G=R(Oe),ee.l(Oe),Oe.forEach(m),ce=R(j),_e=v(j,"DIV",{class:!0});var Ce=w(_e);le=v(Ce,"H3",{class:!0});var He=w(le);Re=C(He,"Posts:"),He.forEach(m),we=R(Ce),he.l(Ce),Ce.forEach(m),j.forEach(m),this.h()},h:function(){d(u,"class","font-semibold text-white text-2xl"),p(u,F,146,6,3979),d(a,"class","flex space-x-1 items-center"),p(a,F,145,5,3931),d(S,"class","hover:underline cursor-pointer"),p(S,F,160,6,4488),d(L,"class","hover:underline cursor-pointer"),p(L,F,163,6,4599),d(P,"class","text-[#49b4b1] text-sm font-semibold flex space-x-2 mt-1"),p(P,F,159,5,4411),p(r,F,144,4,3920),d(s,"class","flex space-x-6 items-center "),p(s,F,125,3,3429),d(l,"class","px-16 pt-24 pb-8 mb-4 bg-[#2e2e2e] flex justify-between items-center drop-shadow-sm"),p(l,F,122,2,3322),d(z,"class","text-white text-lg font-semibold mb-2"),p(z,F,195,3,5696),d(I,"class","px-16 mb-4"),p(I,F,194,2,5668),d(le,"class","text-white text-lg font-semibold mb-4"),p(le,F,203,3,6022),d(_e,"class","px-16"),p(_e,F,202,2,5999),d(t,"class",""),p(t,F,121,1,3305)},m:function(D,j){N&&N.m(D,j),ne(D,e,j),ne(D,t,j),c(t,l),c(l,s),se.m(s,null),c(s,n),c(s,r),c(r,a),c(a,u),c(u,f),c(a,g),re&&re.m(a,null),c(r,k),B&&B.m(r,null),c(r,y),c(r,P),c(P,S),c(S,T),c(S,W),c(P,X),c(P,L),c(L,$),c(L,E),c(l,Z),ue.m(l,null),c(t,b),c(t,I),c(I,z),c(z,h),c(I,G),ee.m(I,null),c(t,ce),c(t,_e),c(_e,le),c(le,Re),c(_e,we),Ie[O].m(_e,null),ie=!0},p:function(D,j){var ye,pe,De,be,Q,Ve;D[1]?N?(N.p(D,j),j&2&&oe(N,1)):(N=Pt(D),N.c(),oe(N,1),N.m(e.parentNode,e)):N&&(ze(),me(N,1,1,()=>{N=null}),qe()),ae===(ae=Y(D))&&se?se.p(D,j):(se.d(1),se=ae(D),se&&(se.c(),se.m(s,n))),(!ie||j&1)&&i!==(i=((ye=D[0])==null?void 0:ye.username)+"")&&Ae(f,i),(pe=D[0])!=null&&pe.verified?re||(re=yt(D),re.c(),re.m(a,null)):re&&(re.d(1),re=null),M===(M=ke(D))&&B?B.p(D,j):(B&&B.d(1),B=M&&M(D),B&&(B.c(),B.m(r,y))),(!ie||j&1)&&U!==(U=((be=(De=D[0])==null?void 0:De.followers)==null?void 0:be.length)+"")&&Ae(T,U),(!ie||j&1)&&J!==(J=((Ve=(Q=D[0])==null?void 0:Q.following)==null?void 0:Ve.length)+"")&&Ae($,J),Me===(Me=te(D,j))&&ue?ue.p(D,j):(ue.d(1),ue=Me(D),ue&&(ue.c(),ue.m(l,null))),Ne===(Ne=ve(D))&&ee?ee.p(D,j):(ee.d(1),ee=Ne(D),ee&&(ee.c(),ee.m(I,null)));let fe=O;O=Te(D),O===fe?Ie[O].p(D,j):(ze(),me(Ie[fe],1,1,()=>{Ie[fe]=null}),qe(),he=Ie[O],he?he.p(D,j):(he=Ie[O]=Ee[O](D),he.c()),oe(he,1),he.m(_e,null))},i:function(D){ie||(oe(N),oe(he),ie=!0)},o:function(D){me(N),me(he),ie=!1},d:function(D){N&&N.d(D),D&&m(e),D&&m(t),se.d(),re&&re.d(),B&&B.d(),ue.d(),ee.d(),Ie[O].d()}};return q("SvelteRegisterBlock",{block:Pe,id:Yt.name,type:"if",source:"(111:21) ",ctx:o}),Pe}function Zt(o){const e={c:de,l:de,m:de,p:de,i:de,o:de,d:de};return q("SvelteRegisterBlock",{block:e,id:Zt.name,type:"if",source:"(109:0) {#if viewedUser === ''}",ctx:o}),e}function Pt(o){var s,n,r,a;let e,t;e=new zt({props:{currentAvatar:(s=o[3])!=null&&s.avatar?Xe((n=o[3])==null?void 0:n.collectionId,((r=o[3])==null?void 0:r.id)||"",(a=o[3])==null?void 0:a.avatar):"/profile.svg",onSave:o[11],onClose:o[5]},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(i){$e(e.$$.fragment,i)},m:function(i,f){et(e,i,f),t=!0},p:function(i,f){var k,y,P,S;const g={};f&8&&(g.currentAvatar=(k=i[3])!=null&&k.avatar?Xe((y=i[3])==null?void 0:y.collectionId,((P=i[3])==null?void 0:P.id)||"",(S=i[3])==null?void 0:S.avatar):"/profile.svg"),e.$set(g)},i:function(i){t||(oe(e.$$.fragment,i),t=!0)},o:function(i){me(e.$$.fragment,i),t=!1},d:function(i){tt(e,i)}};return q("SvelteRegisterBlock",{block:l,id:Pt.name,type:"if",source:"(112:1) {#if showModal}",ctx:o}),l}function xt(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/profile.svg")||d(e,"src",t),d(e,"alt","Profile Icon"),d(e,"class","w-20 hover:cursor-pointer bg-white rounded-full"),p(e,F,137,5,3780)},m:function(n,r){ne(n,e,r)},p:de,d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:xt.name,type:"else",source:"(137:4) {:else}",ctx:o}),l}function $t(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){var n,r,a;Se(e.src,t=Xe((n=o[0])==null?void 0:n.collectionId,((r=o[0])==null?void 0:r.id)||"",(a=o[0])==null?void 0:a.avatar)||"/profile.svg")||d(e,"src",t),d(e,"alt","Profile Icon"),d(e,"class","w-20 h-20 object-cover hover:cursor-pointer bg-white rounded-full"),p(e,F,127,5,3506)},m:function(n,r){ne(n,e,r)},p:function(n,r){var a,u,i;r&1&&!Se(e.src,t=Xe((a=n[0])==null?void 0:a.collectionId,((u=n[0])==null?void 0:u.id)||"",(i=n[0])==null?void 0:i.avatar)||"/profile.svg")&&d(e,"src",t)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:$t.name,type:"if",source:"(127:4) {#if viewedUser?.avatar}",ctx:o}),l}function yt(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/verified.svg")||d(e,"src",t),d(e,"alt","Verified"),d(e,"class","w-5"),p(e,F,147,32,4085)},m:function(n,r){ne(n,e,r)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:yt.name,type:"if",source:"(148:6) {#if viewedUser?.verified}",ctx:o}),l}function eo(o){var n;let e,t=((n=o[0])==null?void 0:n.name)+"",l;const s={c:function(){e=_("h2"),l=V(t),this.h()},l:function(a){e=v(a,"H2",{class:!0});var u=w(e);l=C(u,t),u.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,155,6,4326)},m:function(a,u){ne(a,e,u),c(e,l)},p:function(a,u){var i;u&1&&t!==(t=((i=a[0])==null?void 0:i.name)+"")&&Ae(l,t)},d:function(a){a&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:eo.name,type:"if",source:"(155:32) ",ctx:o}),s}function to(o){var n;let e,t=((n=o[3])==null?void 0:n.name)+"",l;const s={c:function(){e=_("h2"),l=V(t),this.h()},l:function(a){e=v(a,"H2",{class:!0});var u=w(e);l=C(u,t),u.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,151,6,4216)},m:function(a,u){ne(a,e,u),c(e,l)},p:function(a,u){var i;u&8&&t!==(t=((i=a[3])==null?void 0:i.name)+"")&&Ae(l,t)},d:function(a){a&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:to.name,type:"if",source:"(151:5) {#if $currentUser?.id == viewedUser?.id}",ctx:o}),s}function oo(o){let e,t,l,s,n,r,a,u;const i={c:function(){e=_("button"),t=_("img"),s=A(),n=_("p"),r=V("Follow User"),this.h()},l:function(g){e=v(g,"BUTTON",{class:!0});var k=w(e);t=v(k,"IMG",{src:!0,alt:!0,class:!0}),s=R(k),n=v(k,"P",{class:!0});var y=w(n);r=C(y,"Follow User"),y.forEach(m),k.forEach(m),this.h()},h:function(){Se(t.src,l="/follow.svg")||d(t,"src",l),d(t,"alt","Edit Pen"),d(t,"class","w-5"),p(t,F,189,5,5518),d(n,"class","text-neutral-300 font-semibold"),p(n,F,190,5,5576),d(e,"class","flex space-x-2 items-center rounded-md bg-[#378E8B] hover:bg-[#2d7e7b] p-2 px-4"),p(e,F,185,4,5357)},m:function(g,k){ne(g,e,k),c(e,t),c(e,s),c(e,n),c(n,r),a||(u=Le(e,"click",o[12],!1,!1,!1,!1),a=!0)},p:de,d:function(g){g&&m(e),a=!1,u()}};return q("SvelteRegisterBlock",{block:i,id:oo.name,type:"else",source:"(185:3) {:else}",ctx:o}),i}function no(o){let e,t,l,s,n,r;const a={c:function(){e=_("button"),t=_("img"),s=A(),n=_("p"),r=V("Following"),this.h()},l:function(i){e=v(i,"BUTTON",{class:!0});var f=w(e);t=v(f,"IMG",{src:!0,alt:!0,class:!0}),s=R(f),n=v(f,"P",{class:!0});var g=w(n);r=C(g,"Following"),g.forEach(m),f.forEach(m),this.h()},h:function(){Se(t.src,l="/follow.svg")||d(t,"src",l),d(t,"alt","Edit Pen"),d(t,"class","w-5"),p(t,F,181,5,5214),d(n,"class","text-neutral-300 font-semibold"),p(n,F,182,5,5272),d(e,"class","flex space-x-2 items-center rounded-md bg-[#378E8B] hover:bg-[#2d7e7b] p-2 px-4"),p(e,F,178,4,5102)},m:function(i,f){ne(i,e,f),c(e,t),c(e,s),c(e,n),c(n,r)},p:de,d:function(i){i&&m(e)}};return q("SvelteRegisterBlock",{block:a,id:no.name,type:"if",source:"(178:62) ",ctx:o}),a}function lo(o){let e,t,l,s,n,r,a,u;const i={c:function(){e=_("button"),t=_("img"),s=A(),n=_("p"),r=V("Edit Profile"),this.h()},l:function(g){e=v(g,"BUTTON",{class:!0});var k=w(e);t=v(k,"IMG",{src:!0,alt:!0,class:!0}),s=R(k),n=v(k,"P",{class:!0});var y=w(n);r=C(y,"Edit Profile"),y.forEach(m),k.forEach(m),this.h()},h:function(){Se(t.src,l="/edit.svg")||d(t,"src",l),d(t,"alt","Edit Pen"),d(t,"class","w-4"),p(t,F,174,5,4906),d(n,"class","text-neutral-300 font-semibold"),p(n,F,175,5,4962),d(e,"class","flex space-x-2 items-center rounded-md bg-neutral-700 p-2 px-4"),p(e,F,170,4,4785)},m:function(g,k){ne(g,e,k),c(e,t),c(e,s),c(e,n),c(n,r),a||(u=Le(e,"click",o[6],!1,!1,!1,!1),a=!0)},p:de,d:function(g){g&&m(e),a=!1,u()}};return q("SvelteRegisterBlock",{block:i,id:lo.name,type:"if",source:"(170:3) {#if $currentUser?.id == viewedUser?.id}",ctx:o}),i}function so(o){var n;let e,t=(((n=o[0])==null?void 0:n.bio)||"Nothing to see here yet")+"",l;const s={c:function(){e=_("p"),l=V(t),this.h()},l:function(a){e=v(a,"P",{class:!0});var u=w(e);l=C(u,t),u.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,199,4,5900)},m:function(a,u){ne(a,e,u),c(e,l)},p:function(a,u){var i;u&1&&t!==(t=(((i=a[0])==null?void 0:i.bio)||"Nothing to see here yet")+"")&&Ae(l,t)},d:function(a){a&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:so.name,type:"else",source:"(199:3) {:else}",ctx:o}),s}function ro(o){var n;let e,t=(((n=o[3])==null?void 0:n.bio)||"Nothing to see here yet")+"",l;const s={c:function(){e=_("p"),l=V(t),this.h()},l:function(a){e=v(a,"P",{class:!0});var u=w(e);l=C(u,t),u.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,197,4,5804)},m:function(a,u){ne(a,e,u),c(e,l)},p:function(a,u){var i;u&8&&t!==(t=(((i=a[3])==null?void 0:i.bio)||"Nothing to see here yet")+"")&&Ae(l,t)},d:function(a){a&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:ro.name,type:"if",source:"(197:3) {#if $currentUser?.id == viewedUser?.id}",ctx:o}),s}function io(o){let e,t;const l={c:function(){e=_("p"),t=V("Nothing to see here yet"),this.h()},l:function(n){e=v(n,"P",{class:!0});var r=w(e);t=C(r,"Nothing to see here yet"),r.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,227,4,6753)},m:function(n,r){ne(n,e,r),c(e,t)},p:de,i:de,o:de,d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:io.name,type:"else",source:"(227:3) {:else}",ctx:o}),l}function co(o){let e,t=[],l=new Map,s,n=o[2]||[];ut(n);const r=u=>u[20].id;Vt(o,n,it,r);for(let u=0;u<n.length;u+=1){let i=it(o,n,u),f=r(i);l.set(f,t[u]=St(f,i))}const a={c:function(){e=_("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l:function(i){e=v(i,"DIV",{class:!0});var f=w(e);for(let g=0;g<t.length;g+=1)t[g].l(f);f.forEach(m),this.h()},h:function(){d(e,"class","flex flex-wrap gap-12"),p(e,F,205,4,6118)},m:function(i,f){ne(i,e,f);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);s=!0},p:function(i,f){f&1797&&(n=i[2]||[],ut(n),ze(),Vt(i,n,it,r),t=mo(t,f,r,1,i,n,l,e,_o,St,null,it),qe())},i:function(i){if(!s){for(let f=0;f<n.length;f+=1)oe(t[f]);s=!0}},o:function(i){for(let f=0;f<t.length;f+=1)me(t[f]);s=!1},d:function(i){i&&m(e);for(let f=0;f<t.length;f+=1)t[f].d()}};return q("SvelteRegisterBlock",{block:a,id:co.name,type:"if",source:"(205:3) {#if postList.length >= 1}",ctx:o}),a}function St(o,e){var r,a,u,i,f,g,k,y;let t,l,s;l=new Qt({props:{id:e[20].id,authorId:e[0].id,authorAvatar:(r=e[0])!=null&&r.avatar?Xe((a=e[0])==null?void 0:a.collectionId,((u=e[0])==null?void 0:u.id)||"",(i=e[0])==null?void 0:i.avatar):"/profile.svg",author:e[0].username,date:(f=e[20])==null?void 0:f.date,content:(g=e[20])==null?void 0:g.content,tags:(k=e[20])==null?void 0:k.tags,likes:(y=e[20])==null?void 0:y.likes,onLike:e[13],onUnlike:e[14],onDelete:e[15]},$$inline:!0});const n={key:o,first:null,c:function(){t=ft(),xe(l.$$.fragment),this.h()},l:function(S){t=ft(),$e(l.$$.fragment,S),this.h()},h:function(){this.first=t},m:function(S,U){ne(S,t,U),et(l,S,U),s=!0},p:function(S,U){var W,X,L,J,$,E,Z,x;e=S;const T={};U&4&&(T.id=e[20].id),U&1&&(T.authorId=e[0].id),U&1&&(T.authorAvatar=(W=e[0])!=null&&W.avatar?Xe((X=e[0])==null?void 0:X.collectionId,((L=e[0])==null?void 0:L.id)||"",(J=e[0])==null?void 0:J.avatar):"/profile.svg"),U&1&&(T.author=e[0].username),U&4&&(T.date=($=e[20])==null?void 0:$.date),U&4&&(T.content=(E=e[20])==null?void 0:E.content),U&4&&(T.tags=(Z=e[20])==null?void 0:Z.tags),U&4&&(T.likes=(x=e[20])==null?void 0:x.likes),l.$set(T)},i:function(S){s||(oe(l.$$.fragment,S),s=!0)},o:function(S){me(l.$$.fragment,S),s=!1},d:function(S){S&&m(t),tt(l,S)}};return q("SvelteRegisterBlock",{block:n,id:St.name,type:"each",source:"(207:5) {#each postList || [] as post (post.id)}",ctx:e}),n}function It(o){let e,t,l,s;const n=[Zt,Yt,Wt],r=[];function a(i,f){return i[0]===""?0:i[0]?1:2}e=a(o),t=r[e]=n[e](o);const u={c:function(){t.c(),l=ft()},l:function(f){t.l(f),l=ft()},m:function(f,g){r[e].m(f,g),ne(f,l,g),s=!0},p:function(f,[g]){let k=e;e=a(f),e===k?r[e].p(f,g):(ze(),me(r[k],1,1,()=>{r[k]=null}),qe(),t=r[e],t?t.p(f,g):(t=r[e]=n[e](f),t.c()),oe(t,1),t.m(l.parentNode,l))},i:function(f){s||(oe(t),s=!0)},o:function(f){me(t),s=!1},d:function(f){r[e].d(f),f&&m(l)}};return q("SvelteRegisterBlock",{block:u,id:It.name,type:"component",source:"",ctx:o}),u}function _t(o){return o.charAt(0).toLocaleUpperCase()+o.slice(1).toLocaleLowerCase()}function bo(o,e,t){let l,s;vt(Ze,"currentUser"),pt(o,Ze,b=>t(3,l=b)),vt(mt,"page"),pt(o,mt,b=>t(19,s=b));let{$$slots:n={},$$scope:r}=e;Lt("Page",n,[]);let a="",u=!1,i=[];at(async()=>{var b;l&&(y=l.following,P=((b=l.expand)==null?void 0:b.following)||[])}),ct(async()=>{try{t(0,a=await Fe.collection("users").getOne(s.params.userid,{expand:"posts"}))}catch(b){console.error(b)}t(2,i=a.expand.posts||[])});async function f(b,I,z,h){if(l==null)return;const G=new FormData;z&&G.append("bio",z),b&&I&&G.append("name",`${_t(b)} ${_t(I)}`),h&&G.append("avatar",h),G&&(g(),await Fe.collection("users").update(l.id,G))}function g(){t(1,u=!1)}function k(){t(1,u=!0)}let y=[],P=[];async function S(b){if(l==null||y.includes(a.id))return;let I=[a.id,...y];const z={following:I};let h=await Fe.collection("users").update(l.id,z,{expand:"following"});y=I,P=h.expand.following;const ce={followers:[...a.followers,l.id]};await Fe.collection("users").update(a.id,ce)}async function U(b){t(2,i=i.filter(I=>I.id!==b)),await Fe.collection("posts").delete(b)}async function T(b){if(l==null)return;let I=i.filter(G=>G.id==b)[0],z=[...I.likes,l.id];const h={likes:z};t(2,i=i.map(G=>(G.id==I.id&&(G.likes=z),G))),await Fe.collection("posts").update(b,h)}async function W(b){if(l==null)return;let I=i.filter(ce=>ce.id==b)[0],z=I.likes.indexOf(l.id);I.likes.splice(z,1);let h=I.likes;const G={likes:h};t(2,i=i.map(ce=>(ce.id==I.id&&(ce.likes=h),ce))),await Fe.collection("posts").update(b,G)}const X=[];Object.keys(e).forEach(b=>{!~X.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&go.warn(`<Page> was created with unknown prop '${b}'`)});const L=(b,I,z,h)=>f(b,I,z,h),J=()=>S(a==null?void 0:a.id),$=b=>T(b),E=b=>W(b),Z=b=>U(b),x=()=>window.location.assign(`http://${window.location.host}/home`);return o.$capture_state=()=>({currentUser:Ze,pb:Fe,getImageURL:Xe,page:mt,onMount:ct,beforeUpdate:at,EditModal:zt,SmallPost:Qt,viewedUser:a,showModal:u,postList:i,toCapitalize:_t,updateProfile:f,closeModal:g,openModal:k,followIds:y,followList:P,followUser:S,deletePost:U,likePost:T,unlikePost:W,$currentUser:l,$page:s}),o.$inject_state=b=>{"viewedUser"in b&&t(0,a=b.viewedUser),"showModal"in b&&t(1,u=b.showModal),"postList"in b&&t(2,i=b.postList),"followIds"in b&&(y=b.followIds),"followList"in b&&(P=b.followList)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[a,u,i,l,f,g,k,S,U,T,W,L,J,$,E,Z,x]}class yo extends Dt{constructor(e){super(e),Ut(this,e,bo,It,Bt,{}),q("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:It.name})}}export{yo as component};
