import{S as rt,i as it,s as ct,d as J,v as at,p as _,c as A,y as Q,q as p,r as C,f as R,z as Y,l as g,G as me,u,x as v,g as te,H as c,A as Ve,K as qe,T as Ae,U as Ge,P as ro,Q as io,o as Pt,V as oo,W as Ze,I as pe,k as he,B as $e,h as ve,j as et,X as yt,Y as Bt,Z as Et,m as co,C as ze,D as We,E as Xe,F as Je,_ as Bo,e as ot,J as no,a as so,$ as Lo}from"../chunks/index.13108eec.js";import{c as tt,g as xe,p as Le}from"../chunks/pocketbase.36d0cda3.js";import{T as ao,S as uo,H as fo}from"../chunks/HoverDropdown.f8215f3d.js";const lt="src/lib/Comment.svelte";function Lt(o){let e,t,n,s,l,r,a,f,i,d;const b={c:function(){e=_("div"),t=_("img"),s=A(),l=_("div"),r=_("h5"),a=Q(o[0]),f=A(),i=_("h5"),d=Q(o[2]),this.h()},l:function(D){e=p(D,"DIV",{class:!0});var m=C(e);t=p(m,"IMG",{src:!0,alt:!0,class:!0}),s=R(m),l=p(m,"DIV",{class:!0});var y=C(l);r=p(y,"H5",{class:!0});var I=C(r);a=Y(I,o[0]),I.forEach(g),f=R(y),i=p(y,"H5",{class:!0});var k=C(i);d=Y(k,o[2]),k.forEach(g),y.forEach(g),m.forEach(g),this.h()},h:function(){me(t.src,n=o[1])||u(t,"src",n),u(t,"alt","Profile Icon"),u(t,"class","w-8 h-8 object-cover rounded-full bg-white"),v(t,lt,6,1,133),u(r,"class","text-sm leading-4 font-semibold"),v(r,lt,8,2,292),u(i,"class","text-neutral-200"),v(i,lt,9,2,352),u(l,"class","flex flex-col bg-neutral-700 rounded-md p-2"),v(l,lt,7,1,232),u(e,"class","flex space-x-2 items-center"),v(e,lt,5,0,90)},m:function(D,m){te(D,e,m),c(e,t),c(e,s),c(e,l),c(l,r),c(r,a),c(l,f),c(l,i),c(i,d)},p:function(D,[m]){m&2&&!me(t.src,n=D[1])&&u(t,"src",n),m&1&&Ve(a,D[0]),m&4&&Ve(d,D[2])},i:qe,o:qe,d:function(D){D&&g(e)}};return J("SvelteRegisterBlock",{block:b,id:Lt.name,type:"component",source:"",ctx:o}),b}function Uo(o,e,t){let{$$slots:n={},$$scope:s}=e;at("Comment",n,[]);let{author:l}=e,{authorAvatar:r}=e,{text:a}=e;o.$$.on_mount.push(function(){l===void 0&&!("author"in e||o.$$.bound[o.$$.props.author])&&console.warn("<Comment> was created without expected prop 'author'"),r===void 0&&!("authorAvatar"in e||o.$$.bound[o.$$.props.authorAvatar])&&console.warn("<Comment> was created without expected prop 'authorAvatar'"),a===void 0&&!("text"in e||o.$$.bound[o.$$.props.text])&&console.warn("<Comment> was created without expected prop 'text'")});const f=["author","authorAvatar","text"];return Object.keys(e).forEach(i=>{!~f.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<Comment> was created with unknown prop '${i}'`)}),o.$$set=i=>{"author"in i&&t(0,l=i.author),"authorAvatar"in i&&t(1,r=i.authorAvatar),"text"in i&&t(2,a=i.text)},o.$capture_state=()=>({author:l,authorAvatar:r,text:a}),o.$inject_state=i=>{"author"in i&&t(0,l=i.author),"authorAvatar"in i&&t(1,r=i.authorAvatar),"text"in i&&t(2,a=i.text)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[l,r,a]}class ho extends rt{constructor(e){super(e),it(this,e,Uo,Lt,ct,{author:0,authorAvatar:1,text:2}),J("SvelteRegisterComponent",{component:this,tagName:"Comment",options:e,id:Lt.name})}get author(){throw new Error("<Comment>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(e){throw new Error("<Comment>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorAvatar(){throw new Error("<Comment>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorAvatar(e){throw new Error("<Comment>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get text(){throw new Error("<Comment>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set text(e){throw new Error("<Comment>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const x="src/lib/Post.svelte";function pt(o,e,t){const n=o.slice();return n[32]=e[t],n}function lo(o,e,t){const n=o.slice();return n[35]=e[t],n}function Ut(o){var s;let e,t;e=new uo({props:{onDelete:o[24],showDelete:((s=o[14])==null?void 0:s.id)===o[2]},$$inline:!0});const n={c:function(){ze(e.$$.fragment)},l:function(r){We(e.$$.fragment,r)},m:function(r,a){Xe(e,r,a),t=!0},p:function(r,a){var i;const f={};a[0]&258&&(f.onDelete=r[24]),a[0]&16388&&(f.showDelete=((i=r[14])==null?void 0:i.id)===r[2]),e.$set(f)},i:function(r){t||(he(e.$$.fragment,r),t=!0)},o:function(r){ve(e.$$.fragment,r),t=!1},d:function(r){Je(e,r)}};return J("SvelteRegisterBlock",{block:n,id:Ut.name,type:"if",source:"(54:1) {#if showPostDropdown}",ctx:o}),n}function mo(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){me(e.src,t="/heart.svg")||u(e,"src",t),u(e,"alt","Dot Dot Dot"),u(e,"class","w-4 hover:cursor-pointer"),v(e,x,80,15,2209)},m:function(l,r){te(l,e,r)},d:function(l){l&&g(e)}};return J("SvelteRegisterBlock",{block:n,id:mo.name,type:"else",source:"(81:8) {:else}",ctx:o}),n}function go(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){me(e.src,t="/heart-full.svg")||u(e,"src",t),u(e,"alt","Dot Dot Dot"),u(e,"class","w-4 hover:cursor-pointer"),v(e,x,76,20,2095)},m:function(l,r){te(l,e,r)},d:function(l){l&&g(e)}};return J("SvelteRegisterBlock",{block:n,id:go.name,type:"if",source:"(77:5) {#if userLiked}",ctx:o}),n}function Ft(o){let e,t;e=new fo({props:{$$slots:{default:[wo]},$$scope:{ctx:o}},$$inline:!0});const n={c:function(){ze(e.$$.fragment)},l:function(l){We(e.$$.fragment,l)},m:function(l,r){Xe(e,l,r),t=!0},i:function(l){t||(he(e.$$.fragment,l),t=!0)},o:function(l){ve(e.$$.fragment,l),t=!1},d:function(l){Je(e,l)}};return J("SvelteRegisterBlock",{block:n,id:Ft.name,type:"if",source:"(109:3) {#if showLikesDropdown}",ctx:o}),n}function wo(o){let e;const t={c:function(){e=Q("(call back to page and show load state while gathering most recent likes)")},l:function(s){e=Y(s,"(call back to page and show load state while gathering most recent likes)")},m:function(s,l){te(s,e,l)},d:function(s){s&&g(e)}};return J("SvelteRegisterBlock",{block:t,id:wo.name,type:"slot",source:"(110:3) <HoverDropdown>",ctx:o}),t}function _o(o){let e,t,n=o[15];Ae(n);let s=[];for(let a=0;a<n.length;a+=1)s[a]=jt(lo(o,n,a));const l=a=>ve(s[a],1,1,()=>{s[a]=null}),r={c:function(){e=_("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l:function(f){e=p(f,"DIV",{class:!0});var i=C(e);for(let d=0;d<s.length;d+=1)s[d].l(i);i.forEach(g),this.h()},h:function(){u(e,"class","flex space-x-2 mb-4 flex-wrap"),v(e,x,116,3,3170)},m:function(f,i){te(f,e,i);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);t=!0},p:function(f,i){if(i[0]&32768){n=f[15],Ae(n);let d;for(d=0;d<n.length;d+=1){const b=lo(f,n,d);s[d]?(s[d].p(b,i),he(s[d],1)):(s[d]=jt(b),s[d].c(),he(s[d],1),s[d].m(e,null))}for($e(),d=n.length;d<s.length;d+=1)l(d);et()}},i:function(f){if(!t){for(let i=0;i<n.length;i+=1)he(s[i]);t=!0}},o:function(f){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)ve(s[i]);t=!1},d:function(f){f&&g(e),Bo(s,f)}};return J("SvelteRegisterBlock",{block:r,id:_o.name,type:"if",source:"(116:2) {#if tagArr.length > 0}",ctx:o}),r}function jt(o){let e,t;e=new ao({props:{label:o[35]},$$inline:!0});const n={c:function(){ze(e.$$.fragment)},l:function(l){We(e.$$.fragment,l)},m:function(l,r){Xe(e,l,r),t=!0},p:qe,i:function(l){t||(he(e.$$.fragment,l),t=!0)},o:function(l){ve(e.$$.fragment,l),t=!1},d:function(l){Je(e,l)}};return J("SvelteRegisterBlock",{block:n,id:jt.name,type:"each",source:"(118:4) {#each tagArr as tag}",ctx:o}),n}function po(o){let e,t,n,s,l;const r={c:function(){e=_("img"),n=A(),s=_("p"),l=Q("Like"),this.h()},l:function(f){e=p(f,"IMG",{src:!0,alt:!0,class:!0}),n=R(f),s=p(f,"P",{});var i=C(s);l=Y(i,"Like"),i.forEach(g),this.h()},h:function(){me(e.src,t="/heart.svg")||u(e,"src",t),u(e,"alt","Dot Dot Dot"),u(e,"class","w-4 hover:cursor-pointer"),v(e,x,135,24,3734),v(s,x,140,5,3838)},m:function(f,i){te(f,e,i),te(f,n,i),te(f,s,i),c(s,l)},d:function(f){f&&g(e),f&&g(n),f&&g(s)}};return J("SvelteRegisterBlock",{block:r,id:po.name,type:"else",source:"(136:17) {:else}",ctx:o}),r}function vo(o){let e,t,n,s,l;const r={c:function(){e=_("img"),n=A(),s=_("p"),l=Q("Liked"),this.h()},l:function(f){e=p(f,"IMG",{src:!0,alt:!0,class:!0}),n=R(f),s=p(f,"P",{});var i=C(s);l=Y(i,"Liked"),i.forEach(g),this.h()},h:function(){me(e.src,t="/heart-full.svg")||u(e,"src",t),u(e,"alt","Dot Dot Dot"),u(e,"class","w-4 hover:cursor-pointer"),v(e,x,130,19,3606),v(s,x,135,5,3715)},m:function(f,i){te(f,e,i),te(f,n,i),te(f,s,i),c(s,l)},d:function(f){f&&g(e),f&&g(n),f&&g(s)}};return J("SvelteRegisterBlock",{block:r,id:vo.name,type:"if",source:"(131:4) {#if userLiked}",ctx:o}),r}function Tt(o,e){let t,n,s;n=new ho({props:{author:e[32].username,text:e[32].text,authorAvatar:e[3]},$$inline:!0});const l={key:o,first:null,c:function(){t=ot(),ze(n.$$.fragment),this.h()},l:function(a){t=ot(),We(n.$$.fragment,a),this.h()},h:function(){this.first=t},m:function(a,f){te(a,t,f),Xe(n,a,f),s=!0},p:function(a,f){e=a;const i={};f[0]&1&&(i.author=e[32].username),f[0]&1&&(i.text=e[32].text),f[0]&8&&(i.authorAvatar=e[3]),n.$set(i)},i:function(a){s||(he(n.$$.fragment,a),s=!0)},o:function(a){ve(n.$$.fragment,a),s=!1},d:function(a){a&&g(t),Je(n,a)}};return J("SvelteRegisterBlock",{block:l,id:Tt.name,type:"each",source:"(153:3) {#each comments as comment (comment.id)}",ctx:e}),l}function At(o){var xt,zt;let e,t,n,s,l,r,a,f,i,d,b,P,D,m,y,I,k,F,j,S,O,T,W,M,U,L,N,fe=((xt=o[7])==null?void 0:xt.length)+"",$,be,Pe,K,ye=((zt=o[0])==null?void 0:zt.length)+"",ke,ge,Ee,De,h,se,we,w,G,X,Z,le,oe,Ue,re,ie,de=[],Fe=new Map,Ke,H,B,E,ne,Ie,Ce,nt,Be,Te,st,z=o[12]&&Ut(o);function Me(_e,V){return _e[11]?go:mo}let Ne=Me(o),je=Ne(o),ae=o[13]&&Ft(o),ce=o[15].length>0&&_o(o);function Ht(_e,V){return _e[11]?vo:po}let ut=Ht(o),Re=ut(o),Se=o[0];Ae(Se);const ft=_e=>_e[32].id;Ge(o,Se,pt,ft);for(let _e=0;_e<Se.length;_e+=1){let V=pt(o,Se,_e),q=ft(V);Fe.set(q,de[_e]=Tt(q,V))}const qt={c:function(){e=_("div"),z&&z.c(),t=A(),n=_("div"),s=_("div"),l=_("div"),r=_("img"),f=A(),i=_("div"),d=_("button"),b=Q(o[5]),P=A(),D=_("h4"),m=Q(o[6]),y=A(),I=_("div"),k=_("button"),je.c(),F=A(),j=_("button"),S=_("img"),T=A(),W=_("p"),M=Q(o[4]),U=A(),L=_("div"),N=_("p"),$=Q(fe),be=Q(" likes"),Pe=A(),K=_("p"),ke=Q(ye),ge=Q(" comments"),Ee=A(),ae&&ae.c(),De=A(),ce&&ce.c(),h=A(),se=_("div"),we=_("button"),Re.c(),w=A(),G=_("button"),X=_("img"),le=A(),oe=_("p"),Ue=Q("Comment"),re=A(),ie=_("div");for(let V=0;V<de.length;V+=1)de[V].c();Ke=A(),H=_("div"),B=_("div"),E=_("input"),ne=A(),Ie=_("button"),Ce=_("img"),this.h()},l:function(V){e=p(V,"DIV",{class:!0});var q=C(e);z&&z.l(q),t=R(q),n=p(q,"DIV",{class:!0});var ue=C(n);s=p(ue,"DIV",{class:!0});var He=C(s);l=p(He,"DIV",{class:!0});var dt=C(l);r=p(dt,"IMG",{src:!0,alt:!0,class:!0}),f=R(dt),i=p(dt,"DIV",{class:!0});var ht=C(i);d=p(ht,"BUTTON",{class:!0});var Wt=C(d);b=Y(Wt,o[5]),Wt.forEach(g),P=R(ht),D=p(ht,"H4",{class:!0});var Xt=C(D);m=Y(Xt,o[6]),Xt.forEach(g),ht.forEach(g),dt.forEach(g),y=R(He),I=p(He,"DIV",{class:!0});var mt=C(I);k=p(mt,"BUTTON",{});var Jt=C(k);je.l(Jt),Jt.forEach(g),F=R(mt),j=p(mt,"BUTTON",{class:!0});var Kt=C(j);S=p(Kt,"IMG",{src:!0,alt:!0,class:!0}),Kt.forEach(g),mt.forEach(g),He.forEach(g),T=R(ue),W=p(ue,"P",{class:!0});var Qt=C(W);M=Y(Qt,o[4]),Qt.forEach(g),U=R(ue),L=p(ue,"DIV",{class:!0});var Qe=C(L);N=p(Qe,"P",{class:!0});var Dt=C(N);$=Y(Dt,fe),be=Y(Dt," likes"),Dt.forEach(g),Pe=R(Qe),K=p(Qe,"P",{class:!0});var It=C(K);ke=Y(It,ye),ge=Y(It," comments"),It.forEach(g),Ee=R(Qe),ae&&ae.l(Qe),Qe.forEach(g),De=R(ue),ce&&ce.l(ue),h=R(ue),se=p(ue,"DIV",{class:!0});var gt=C(se);we=p(gt,"BUTTON",{class:!0});var Yt=C(we);Re.l(Yt),Yt.forEach(g),w=R(gt),G=p(gt,"BUTTON",{class:!0});var wt=C(G);X=p(wt,"IMG",{src:!0,alt:!0,class:!0}),le=R(wt),oe=p(wt,"P",{});var Zt=C(oe);Ue=Y(Zt,"Comment"),Zt.forEach(g),wt.forEach(g),gt.forEach(g),re=R(ue),ie=p(ue,"DIV",{class:!0});var $t=C(ie);for(let Ct=0;Ct<de.length;Ct+=1)de[Ct].l($t);$t.forEach(g),Ke=R(ue),H=p(ue,"DIV",{});var eo=C(H);B=p(eo,"DIV",{class:!0});var _t=C(B);E=p(_t,"INPUT",{placeholder:!0,class:!0}),ne=R(_t),Ie=p(_t,"BUTTON",{class:!0});var to=C(Ie);Ce=p(to,"IMG",{src:!0,class:!0,alt:!0}),to.forEach(g),_t.forEach(g),eo.forEach(g),ue.forEach(g),q.forEach(g),this.h()},h:function(){me(r.src,a=o[3])||u(r,"src",a),u(r,"alt","Profile Icon"),u(r,"class","h-10 w-10 object-cover mr-3 hover:cursor-pointer rounded-full bg-white"),v(r,x,59,4,1527),u(d,"class","font-semibold hover:underline cursor-pointer text-left"),v(d,x,65,5,1708),u(D,"class","text-sm text-neutral-300"),v(D,x,71,5,1925),u(i,"class","flex flex-col"),v(i,x,64,4,1675),u(l,"class","flex items-center"),v(l,x,58,3,1491),v(k,x,75,4,2031),me(S.src,O="/dots.svg")||u(S,"src",O),u(S,"alt","Dot Dot Dot"),u(S,"class","w-4 hover:cursor-pointer"),v(S,x,90,5,2477),u(j,"class","w-8 h-8 flex items-center justify-center rounded-full hover:bg-neutral-600"),v(j,x,86,4,2335),u(I,"class","flex space-x-2"),v(I,x,74,3,1998),u(s,"class","flex items-center justify-between mb-2"),v(s,x,57,2,1435),u(W,"class","mb-4"),v(W,x,95,2,2588),u(N,"class","hover:underline cursor-pointer"),v(N,x,100,3,2705),u(K,"class","hover:underline cursor-pointer"),v(K,x,107,3,2904),u(L,"class","relative text-sm flex text-neutral-300 justify-between mb-4"),v(L,x,99,2,2628),u(we,"class","flex space-x-2 items-center hover:bg-neutral-600 flex-1 p-1 rounded-md mx-1 justify-center"),v(we,x,126,3,3432),me(X.src,Z="/comment.svg")||u(X,"src",Z),u(X,"alt","Comment Icon"),u(X,"class","w-4"),v(X,x,146,4,4024),v(oe,x,147,4,4086),u(G,"class","flex space-x-2 items-center hover:bg-neutral-600 flex-1 p-1 rounded-md mx-1 justify-center"),v(G,x,142,3,3871),u(se,"class","flex justify-around font-semibold text-neutral-300 border-t-[1px] border-b-[1px] border-neutral-600 py-1 mb-4"),v(se,x,123,2,3299),u(ie,"class","flex flex-col mb-4 space-y-2"),v(ie,x,151,2,4126),u(E,"placeholder","Write a comment"),u(E,"class","w-10/12 bg-[#2D2D2D] rounded-md p-2"),v(E,x,159,4,4367),me(Ce.src,nt="/send.svg")||u(Ce,"src",nt),u(Ce,"class","h-4"),u(Ce,"alt","Send Icon"),v(Ce,x,167,30,4678),u(Ie,"class","bg-[#378E8B] rounded-md w-2/12 font-semibold flex justify-center items-center hover:bg-[#2d7e7b]"),v(Ie,x,165,4,4530),u(B,"class","flex space-x-2"),v(B,x,158,3,4334),v(H,x,157,2,4325),u(n,"class","bg-[#333333] 2xl:w-[600px] w-[500px] rounded-md drop-shadow-md text-white p-5"),v(n,x,56,1,1341),u(e,"class","relative"),v(e,x,52,0,1193)},m:function(V,q){te(V,e,q),z&&z.m(e,null),c(e,t),c(e,n),c(n,s),c(s,l),c(l,r),c(l,f),c(l,i),c(i,d),c(d,b),c(i,P),c(i,D),c(D,m),c(s,y),c(s,I),c(I,k),je.m(k,null),c(I,F),c(I,j),c(j,S),c(n,T),c(n,W),c(W,M),c(n,U),c(n,L),c(L,N),c(N,$),c(N,be),c(L,Pe),c(L,K),c(K,ke),c(K,ge),c(L,Ee),ae&&ae.m(L,null),c(n,De),ce&&ce.m(n,null),c(n,h),c(n,se),c(se,we),Re.m(we,null),c(se,w),c(se,G),c(G,X),c(G,le),c(G,oe),c(oe,Ue),c(n,re),c(n,ie);for(let ue=0;ue<de.length;ue+=1)de[ue]&&de[ue].m(ie,null);c(n,Ke),c(n,H),c(H,B),c(B,E),Ze(E,o[9]),o[31](E),c(B,ne),c(B,Ie),c(Ie,Ce),Be=!0,Te||(st=[pe(d,"click",o[25],!1,!1,!1,!1),pe(k,"click",o[26],!1,!1,!1,!1),pe(j,"click",o[16],!1,!1,!1,!1),pe(N,"pointerenter",o[27],!1,!1,!1,!1),pe(N,"pointerleave",o[28],!1,!1,!1,!1),pe(we,"click",o[29],!1,!1,!1,!1),pe(G,"click",o[19],!1,!1,!1,!1),pe(E,"input",o[30]),pe(Ie,"click",o[18],!1,!1,!1,!1)],Te=!0)},p:function(V,q){var ue,He;V[12]?z?(z.p(V,q),q[0]&4096&&he(z,1)):(z=Ut(V),z.c(),he(z,1),z.m(e,t)):z&&($e(),ve(z,1,1,()=>{z=null}),et()),(!Be||q[0]&8&&!me(r.src,a=V[3]))&&u(r,"src",a),(!Be||q[0]&32)&&Ve(b,V[5]),(!Be||q[0]&64)&&Ve(m,V[6]),Ne!==(Ne=Me(V))&&(je.d(1),je=Ne(V),je&&(je.c(),je.m(k,null))),(!Be||q[0]&16)&&Ve(M,V[4]),(!Be||q[0]&128)&&fe!==(fe=((ue=V[7])==null?void 0:ue.length)+"")&&Ve($,fe),(!Be||q[0]&1)&&ye!==(ye=((He=V[0])==null?void 0:He.length)+"")&&Ve(ke,ye),V[13]?ae?q[0]&8192&&he(ae,1):(ae=Ft(V),ae.c(),he(ae,1),ae.m(L,null)):ae&&($e(),ve(ae,1,1,()=>{ae=null}),et()),V[15].length>0&&ce.p(V,q),ut!==(ut=Ht(V))&&(Re.d(1),Re=ut(V),Re&&(Re.c(),Re.m(we,null))),q[0]&9&&(Se=V[0],Ae(Se),$e(),Ge(V,Se,pt,ft),de=yt(de,q,ft,1,V,Se,Fe,ie,Bt,Tt,null,pt),et()),q[0]&512&&E.value!==V[9]&&Ze(E,V[9])},i:function(V){if(!Be){he(z),he(ae),he(ce);for(let q=0;q<Se.length;q+=1)he(de[q]);Be=!0}},o:function(V){ve(z),ve(ae),ve(ce);for(let q=0;q<de.length;q+=1)ve(de[q]);Be=!1},d:function(V){V&&g(e),z&&z.d(),je.d(),ae&&ae.d(),ce&&ce.d(),Re.d();for(let q=0;q<de.length;q+=1)de[q].d();o[31](null),Te=!1,Et(st)}};return J("SvelteRegisterBlock",{block:qt,id:At.name,type:"component",source:"",ctx:o}),qt}function Fo(o,e,t){let n;ro(tt,"currentUser"),io(o,tt,h=>t(14,n=h));let{$$slots:s={},$$scope:l}=e;at("Post",s,[]);let{id:r}=e,{authorId:a}=e,{authorAvatar:f}=e,{content:i}=e,{tags:d}=e,{author:b}=e,{date:P}=e,{likes:D=[]}=e,{comments:m=[]}=e,{onLike:y}=e,{onUnlike:I}=e,{onComment:k}=e,{onDelete:F}=e,j,S,O=[],T=!1,W=!1,M=!1;function U(){t(12,W=!W)}function L(h){T?I(h):y(h)}function N(){k(r,j),t(9,j="")}function fe(){S.focus()}Pt(()=>{}),oo(()=>{m==null&&t(0,m=[]),n!=null&&t(11,T=D.includes(n.id))}),o.$$.on_mount.push(function(){r===void 0&&!("id"in e||o.$$.bound[o.$$.props.id])&&console.warn("<Post> was created without expected prop 'id'"),a===void 0&&!("authorId"in e||o.$$.bound[o.$$.props.authorId])&&console.warn("<Post> was created without expected prop 'authorId'"),f===void 0&&!("authorAvatar"in e||o.$$.bound[o.$$.props.authorAvatar])&&console.warn("<Post> was created without expected prop 'authorAvatar'"),i===void 0&&!("content"in e||o.$$.bound[o.$$.props.content])&&console.warn("<Post> was created without expected prop 'content'"),d===void 0&&!("tags"in e||o.$$.bound[o.$$.props.tags])&&console.warn("<Post> was created without expected prop 'tags'"),b===void 0&&!("author"in e||o.$$.bound[o.$$.props.author])&&console.warn("<Post> was created without expected prop 'author'"),P===void 0&&!("date"in e||o.$$.bound[o.$$.props.date])&&console.warn("<Post> was created without expected prop 'date'"),y===void 0&&!("onLike"in e||o.$$.bound[o.$$.props.onLike])&&console.warn("<Post> was created without expected prop 'onLike'"),I===void 0&&!("onUnlike"in e||o.$$.bound[o.$$.props.onUnlike])&&console.warn("<Post> was created without expected prop 'onUnlike'"),k===void 0&&!("onComment"in e||o.$$.bound[o.$$.props.onComment])&&console.warn("<Post> was created without expected prop 'onComment'"),F===void 0&&!("onDelete"in e||o.$$.bound[o.$$.props.onDelete])&&console.warn("<Post> was created without expected prop 'onDelete'")});const $=["id","authorId","authorAvatar","content","tags","author","date","likes","comments","onLike","onUnlike","onComment","onDelete"];Object.keys(e).forEach(h=>{!~$.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Post> was created with unknown prop '${h}'`)});const be=()=>F(r),Pe=()=>window.location.assign(`http://${window.location.host}/user/${a}`),K=()=>L(r),ye=()=>t(13,M=!0),ke=()=>t(13,M=!1),ge=()=>L(r);function Ee(){j=this.value,t(9,j)}function De(h){co[h?"unshift":"push"](()=>{S=h,t(10,S)})}return o.$$set=h=>{"id"in h&&t(1,r=h.id),"authorId"in h&&t(2,a=h.authorId),"authorAvatar"in h&&t(3,f=h.authorAvatar),"content"in h&&t(4,i=h.content),"tags"in h&&t(20,d=h.tags),"author"in h&&t(5,b=h.author),"date"in h&&t(6,P=h.date),"likes"in h&&t(7,D=h.likes),"comments"in h&&t(0,m=h.comments),"onLike"in h&&t(21,y=h.onLike),"onUnlike"in h&&t(22,I=h.onUnlike),"onComment"in h&&t(23,k=h.onComment),"onDelete"in h&&t(8,F=h.onDelete)},o.$capture_state=()=>({currentUser:tt,Tag:ao,Comment:ho,SmallDropdown:uo,HoverDropdown:fo,onMount:Pt,beforeUpdate:oo,id:r,authorId:a,authorAvatar:f,content:i,tags:d,author:b,date:P,likes:D,comments:m,onLike:y,onUnlike:I,onComment:k,onDelete:F,commentText:j,commentInput:S,tagArr:O,userLiked:T,showPostDropdown:W,showLikesDropdown:M,togglePostDropdown:U,onLikeClicked:L,createComment:N,focusCommentInput:fe,$currentUser:n}),o.$inject_state=h=>{"id"in h&&t(1,r=h.id),"authorId"in h&&t(2,a=h.authorId),"authorAvatar"in h&&t(3,f=h.authorAvatar),"content"in h&&t(4,i=h.content),"tags"in h&&t(20,d=h.tags),"author"in h&&t(5,b=h.author),"date"in h&&t(6,P=h.date),"likes"in h&&t(7,D=h.likes),"comments"in h&&t(0,m=h.comments),"onLike"in h&&t(21,y=h.onLike),"onUnlike"in h&&t(22,I=h.onUnlike),"onComment"in h&&t(23,k=h.onComment),"onDelete"in h&&t(8,F=h.onDelete),"commentText"in h&&t(9,j=h.commentText),"commentInput"in h&&t(10,S=h.commentInput),"tagArr"in h&&t(15,O=h.tagArr),"userLiked"in h&&t(11,T=h.userLiked),"showPostDropdown"in h&&t(12,W=h.showPostDropdown),"showLikesDropdown"in h&&t(13,M=h.showLikesDropdown)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[m,r,a,f,i,b,P,D,F,j,S,T,W,M,n,O,U,L,N,fe,d,y,I,k,be,Pe,K,ye,ke,ge,Ee,De]}class bo extends rt{constructor(e){super(e),it(this,e,Fo,At,ct,{id:1,authorId:2,authorAvatar:3,content:4,tags:20,author:5,date:6,likes:7,comments:0,onLike:21,onUnlike:22,onComment:23,onDelete:8},null,[-1,-1]),J("SvelteRegisterComponent",{component:this,tagName:"Post",options:e,id:At.name})}get id(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorId(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorId(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorAvatar(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorAvatar(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get content(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set content(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get tags(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set tags(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get author(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get date(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set date(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get likes(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set likes(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get comments(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set comments(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onLike(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onLike(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onUnlike(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onUnlike(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onComment(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onComment(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onDelete(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onDelete(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ye="src/lib/UserFollow.svelte";function Rt(o){let e,t,n,s,l,r,a,f,i,d,b,P,D;const m={c:function(){e=_("div"),t=_("button"),n=_("img"),l=A(),r=_("p"),a=Q(o[0]),f=A(),i=_("button"),d=_("p"),b=Q("Follow"),this.h()},l:function(I){e=p(I,"DIV",{class:!0});var k=C(e);t=p(k,"BUTTON",{class:!0});var F=C(t);n=p(F,"IMG",{src:!0,alt:!0,class:!0}),l=R(F),r=p(F,"P",{});var j=C(r);a=Y(j,o[0]),j.forEach(g),F.forEach(g),f=R(k),i=p(k,"BUTTON",{});var S=C(i);d=p(S,"P",{class:!0});var O=C(d);b=Y(O,"Follow"),O.forEach(g),S.forEach(g),k.forEach(g),this.h()},h:function(){me(n.src,s=o[1])||u(n,"src",s),u(n,"alt","profile Icon"),u(n,"class","w-8 h-8 object-cover rounded-full bg-white"),v(n,Ye,10,4,285),v(r,Ye,11,4,380),u(t,"class","flex items-center space-x-2"),v(t,Ye,9,0,217),u(d,"class","font-semibold text-[#378E8B] hover:underline hover:cursor-pointer"),v(d,Ye,14,4,437),v(i,Ye,13,0,404),u(e,"class","flex justify-between mb-2 items-center hover:bg-neutral-700 p-2 rounded-md hover:cursor-pointer"),v(e,Ye,6,0,106)},m:function(I,k){te(I,e,k),c(e,t),c(t,n),c(t,l),c(t,r),c(r,a),c(e,f),c(e,i),c(i,d),c(d,b),P||(D=[pe(t,"click",function(){no(o[2])&&o[2].apply(this,arguments)},!1,!1,!1,!1),pe(i,"click",function(){no(o[3])&&o[3].apply(this,arguments)},!1,!1,!1,!1)],P=!0)},p:function(I,[k]){o=I,k&2&&!me(n.src,s=o[1])&&u(n,"src",s),k&1&&Ve(a,o[0])},i:qe,o:qe,d:function(I){I&&g(e),P=!1,Et(D)}};return J("SvelteRegisterBlock",{block:m,id:Rt.name,type:"component",source:"",ctx:o}),m}function jo(o,e,t){let{$$slots:n={},$$scope:s}=e;at("UserFollow",n,[]);let{name:l}=e,{avatar:r}=e,{onClick:a}=e,{onFollow:f}=e;o.$$.on_mount.push(function(){l===void 0&&!("name"in e||o.$$.bound[o.$$.props.name])&&console.warn("<UserFollow> was created without expected prop 'name'"),r===void 0&&!("avatar"in e||o.$$.bound[o.$$.props.avatar])&&console.warn("<UserFollow> was created without expected prop 'avatar'"),a===void 0&&!("onClick"in e||o.$$.bound[o.$$.props.onClick])&&console.warn("<UserFollow> was created without expected prop 'onClick'"),f===void 0&&!("onFollow"in e||o.$$.bound[o.$$.props.onFollow])&&console.warn("<UserFollow> was created without expected prop 'onFollow'")});const i=["name","avatar","onClick","onFollow"];return Object.keys(e).forEach(d=>{!~i.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&console.warn(`<UserFollow> was created with unknown prop '${d}'`)}),o.$$set=d=>{"name"in d&&t(0,l=d.name),"avatar"in d&&t(1,r=d.avatar),"onClick"in d&&t(2,a=d.onClick),"onFollow"in d&&t(3,f=d.onFollow)},o.$capture_state=()=>({name:l,avatar:r,onClick:a,onFollow:f}),o.$inject_state=d=>{"name"in d&&t(0,l=d.name),"avatar"in d&&t(1,r=d.avatar),"onClick"in d&&t(2,a=d.onClick),"onFollow"in d&&t(3,f=d.onFollow)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[l,r,a,f]}class ko extends rt{constructor(e){super(e),it(this,e,jo,Rt,ct,{name:0,avatar:1,onClick:2,onFollow:3}),J("SvelteRegisterComponent",{component:this,tagName:"UserFollow",options:e,id:Rt.name})}get name(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get avatar(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set avatar(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onClick(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onClick(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onFollow(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onFollow(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Oe="src/lib/BigToggle.svelte";function yo(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){me(e.src,t="/globe-color.svg")||u(e,"src",t),u(e,"alt","Globe"),u(e,"class","w-5"),v(e,Oe,21,3,664)},m:function(l,r){te(l,e,r)},d:function(l){l&&g(e)}};return J("SvelteRegisterBlock",{block:n,id:yo.name,type:"else",source:"(21:2) {:else}",ctx:o}),n}function Po(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){me(e.src,t="/globe.svg")||u(e,"src",t),u(e,"alt","Globe"),u(e,"class","w-5"),v(e,Oe,19,3,602)},m:function(l,r){te(l,e,r)},d:function(l){l&&g(e)}};return J("SvelteRegisterBlock",{block:n,id:Po.name,type:"if",source:"(19:2) {#if toggledRight}",ctx:o}),n}function Eo(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){me(e.src,t="/friends-color.svg")||u(e,"src",t),u(e,"alt","Group of people"),u(e,"class","w-6"),v(e,Oe,34,3,1185)},m:function(l,r){te(l,e,r)},d:function(l){l&&g(e)}};return J("SvelteRegisterBlock",{block:n,id:Eo.name,type:"else",source:"(34:2) {:else}",ctx:o}),n}function Do(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){me(e.src,t="/friends.svg")||u(e,"src",t),u(e,"alt","Group of people"),u(e,"class","w-6"),v(e,Oe,32,3,1111)},m:function(l,r){te(l,e,r)},d:function(l){l&&g(e)}};return J("SvelteRegisterBlock",{block:n,id:Do.name,type:"if",source:"(32:2) {#if !toggledRight}",ctx:o}),n}function St(o){let e,t,n,s,l,r,a,f,i,d,b,P,D,m,y,I;function k(M,U){return M[0]?Po:yo}let F=k(o),j=F(o);function S(M,U){return M[0]?Eo:Do}let O=S(o),T=O(o);const W={c:function(){e=_("div"),t=_("button"),j.c(),n=A(),s=_("h3"),l=Q("Global"),f=A(),i=_("button"),T.c(),d=A(),b=_("h3"),P=Q("Following"),this.h()},l:function(U){e=p(U,"DIV",{class:!0});var L=C(e);t=p(L,"BUTTON",{class:!0});var N=C(t);j.l(N),n=R(N),s=p(N,"H3",{class:!0});var fe=C(s);l=Y(fe,"Global"),fe.forEach(g),N.forEach(g),f=R(L),i=p(L,"BUTTON",{class:!0});var $=C(i);T.l($),d=R($),b=p($,"H3",{class:!0});var be=C(b);P=Y(be,"Following"),be.forEach(g),$.forEach(g),L.forEach(g),this.h()},h:function(){u(s,"class",r=o[0]?"font-semibold":"font-semibold text-[#378E8B]"),v(s,Oe,23,2,729),u(t,"class",a=o[0]?"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2":"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5"),v(t,Oe,12,1,321),u(b,"class",D=o[0]?"font-semibold text-[#378E8B]":"font-semibold"),v(b,Oe,36,2,1262),u(i,"class",m=o[0]?"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5":"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2"),v(i,Oe,25,1,829),u(e,"class","bg-[#2E2E2E] 2xl:w-[600px] w-[500px] rounded-md drop-shadow-md text-neutral-300 border-b-[1px] border-neutral-600 flex items-center"),v(e,Oe,9,0,172)},m:function(U,L){te(U,e,L),c(e,t),j.m(t,null),c(t,n),c(t,s),c(s,l),c(e,f),c(e,i),T.m(i,null),c(i,d),c(i,b),c(b,P),y||(I=[pe(t,"click",o[3],!1,!1,!1,!1),pe(i,"click",o[4],!1,!1,!1,!1)],y=!0)},p:function(U,[L]){F!==(F=k(U))&&(j.d(1),j=F(U),j&&(j.c(),j.m(t,n))),L&1&&r!==(r=U[0]?"font-semibold":"font-semibold text-[#378E8B]")&&u(s,"class",r),L&1&&a!==(a=U[0]?"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2":"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5")&&u(t,"class",a),O!==(O=S(U))&&(T.d(1),T=O(U),T&&(T.c(),T.m(i,d))),L&1&&D!==(D=U[0]?"font-semibold text-[#378E8B]":"font-semibold")&&u(b,"class",D),L&1&&m!==(m=U[0]?"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5":"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2")&&u(i,"class",m)},i:qe,o:qe,d:function(U){U&&g(e),j.d(),T.d(),y=!1,Et(I)}};return J("SvelteRegisterBlock",{block:W,id:St.name,type:"component",source:"",ctx:o}),W}function To(o,e,t){let{$$slots:n={},$$scope:s}=e;at("BigToggle",n,[]);let{toggleChanged:l=()=>{}}=e,r=!1;function a(b){t(0,r=b),l(b)}const f=["toggleChanged"];Object.keys(e).forEach(b=>{!~f.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<BigToggle> was created with unknown prop '${b}'`)});const i=()=>a(!1),d=()=>a(!0);return o.$$set=b=>{"toggleChanged"in b&&t(2,l=b.toggleChanged)},o.$capture_state=()=>({toggleChanged:l,toggledRight:r,toggleMenu:a}),o.$inject_state=b=>{"toggleChanged"in b&&t(2,l=b.toggleChanged),"toggledRight"in b&&t(0,r=b.toggledRight)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[r,a,l,i,d]}class Io extends rt{constructor(e){super(e),it(this,e,To,St,ct,{toggleChanged:2}),J("SvelteRegisterComponent",{component:this,tagName:"BigToggle",options:e,id:St.name})}get toggleChanged(){throw new Error("<BigToggle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set toggleChanged(e){throw new Error("<BigToggle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ee="src/routes/+page.svelte";function vt(o,e,t){const n=o.slice();return n[35]=e[t],n}function bt(o,e,t){const n=o.slice();return n[38]=e[t],n}function kt(o,e,t){const n=o.slice();return n[41]=e[t],n}function Vt(o,e){var f,i,d,b,P;let t,n,s;function l(){return e[15](e[41])}function r(){return e[16](e[41])}n=new ko({props:{name:(f=e[41])==null?void 0:f.username,avatar:(i=e[41])!=null&&i.avatar?xe((d=e[41])==null?void 0:d.collectionId,((b=e[41])==null?void 0:b.id)||"",(P=e[41])==null?void 0:P.avatar):"/profile.svg",onClick:l,onFollow:r},$$inline:!0});const a={key:o,first:null,c:function(){t=ot(),ze(n.$$.fragment),this.h()},l:function(m){t=ot(),We(n.$$.fragment,m),this.h()},h:function(){this.first=t},m:function(m,y){te(m,t,y),Xe(n,m,y),s=!0},p:function(m,y){var k,F,j,S,O;e=m;const I={};y[0]&8&&(I.name=(k=e[41])==null?void 0:k.username),y[0]&8&&(I.avatar=(F=e[41])!=null&&F.avatar?xe((j=e[41])==null?void 0:j.collectionId,((S=e[41])==null?void 0:S.id)||"",(O=e[41])==null?void 0:O.avatar):"/profile.svg"),y[0]&8&&(I.onClick=l),y[0]&8&&(I.onFollow=r),n.$set(I)},i:function(m){s||(he(n.$$.fragment,m),s=!0)},o:function(m){ve(n.$$.fragment,m),s=!1},d:function(m){m&&g(t),Je(n,m)}};return J("SvelteRegisterBlock",{block:a,id:Vt.name,type:"each",source:"(183:3) {#each recommendedList as user (user.id)}",ctx:e}),a}function Ot(o,e){var r,a,f,i,d,b,P,D,m,y,I,k,F,j,S,O,T,W;let t,n,s;n=new bo({props:{id:e[38].id,authorId:(a=(r=e[38].expand)==null?void 0:r.author)==null?void 0:a.id,authorAvatar:(i=(f=e[38].expand)==null?void 0:f.author)!=null&&i.avatar?xe((b=(d=e[38].expand)==null?void 0:d.author)==null?void 0:b.collectionId,((D=(P=e[38].expand)==null?void 0:P.author)==null?void 0:D.id)||"",(y=(m=e[38].expand)==null?void 0:m.author)==null?void 0:y.avatar):"/profile.svg",author:(k=(I=e[38].expand)==null?void 0:I.author)==null?void 0:k.username,date:(F=e[38])==null?void 0:F.date,content:(j=e[38])==null?void 0:j.content,tags:(S=e[38])==null?void 0:S.tags,likes:(O=e[38])==null?void 0:O.likes,comments:(W=(T=e[38])==null?void 0:T.expand)==null?void 0:W.comments,onLike:e[18],onUnlike:e[19],onComment:e[20],onDelete:e[21]},$$inline:!0});const l={key:o,first:null,c:function(){t=ot(),ze(n.$$.fragment),this.h()},l:function(U){t=ot(),We(n.$$.fragment,U),this.h()},h:function(){this.first=t},m:function(U,L){te(U,t,L),Xe(n,U,L),s=!0},p:function(U,L){var fe,$,be,Pe,K,ye,ke,ge,Ee,De,h,se,we,w,G,X,Z,le;e=U;const N={};L[0]&49&&(N.id=e[38].id),L[0]&49&&(N.authorId=($=(fe=e[38].expand)==null?void 0:fe.author)==null?void 0:$.id),L[0]&49&&(N.authorAvatar=(Pe=(be=e[38].expand)==null?void 0:be.author)!=null&&Pe.avatar?xe((ye=(K=e[38].expand)==null?void 0:K.author)==null?void 0:ye.collectionId,((ge=(ke=e[38].expand)==null?void 0:ke.author)==null?void 0:ge.id)||"",(De=(Ee=e[38].expand)==null?void 0:Ee.author)==null?void 0:De.avatar):"/profile.svg"),L[0]&49&&(N.author=(se=(h=e[38].expand)==null?void 0:h.author)==null?void 0:se.username),L[0]&49&&(N.date=(we=e[38])==null?void 0:we.date),L[0]&49&&(N.content=(w=e[38])==null?void 0:w.content),L[0]&49&&(N.tags=(G=e[38])==null?void 0:G.tags),L[0]&49&&(N.likes=(X=e[38])==null?void 0:X.likes),L[0]&49&&(N.comments=(le=(Z=e[38])==null?void 0:Z.expand)==null?void 0:le.comments),n.$set(N)},i:function(U){s||(he(n.$$.fragment,U),s=!0)},o:function(U){ve(n.$$.fragment,U),s=!1},d:function(U){U&&g(t),Je(n,U)}};return J("SvelteRegisterBlock",{block:l,id:Ot.name,type:"each",source:"(199:2) {#each (postFollowing ? postListFollowing : postList) as post (post.id)}",ctx:e}),l}function Gt(o){let e,t;const n={c:function(){e=_("p"),t=Q("Nothing to see here yet"),this.h()},l:function(l){e=p(l,"P",{class:!0});var r=C(e);t=Y(r,"Nothing to see here yet"),r.forEach(g),this.h()},h:function(){u(e,"class","text-neutral-500 pt-4"),v(e,ee,220,2,6497)},m:function(l,r){te(l,e,r),c(e,t)},d:function(l){l&&g(e)}};return J("SvelteRegisterBlock",{block:n,id:Gt.name,type:"if",source:"(220:2) {#if (postFollowing && postListFollowing.length<1) || (!postFollowing && postList.length<1)}",ctx:o}),n}function Mt(o,e){let t,n,s,l,r,a=e[35].username+"",f,i,d;function b(){return e[23](e[35])}const P={key:o,first:null,c:function(){t=_("button"),n=_("img"),l=A(),r=_("p"),f=Q(a),this.h()},l:function(m){t=p(m,"BUTTON",{class:!0});var y=C(t);n=p(y,"IMG",{src:!0,alt:!0,class:!0}),l=R(y),r=p(y,"P",{class:!0});var I=C(r);f=Y(I,a),I.forEach(g),y.forEach(g),this.h()},h:function(){var m,y,I,k;me(n.src,s=(m=e[35])!=null&&m.avatar?xe((y=e[35])==null?void 0:y.collectionId,((I=e[35])==null?void 0:I.id)||"",(k=e[35])==null?void 0:k.avatar):"/profile.svg")||u(n,"src",s),u(n,"alt","Dot Dot Dot"),u(n,"class","w-6 bg-white rounded-full"),v(n,ee,238,5,7177),u(r,"class","text-sm font-semibold"),v(r,ee,243,5,7375),u(t,"class","flex space-x-2 mb-4 hover:bg-neutral-700 p-2 rounded-md hover:cursor-pointer items-center w-full"),v(t,ee,233,4,6945),this.first=t},m:function(m,y){te(m,t,y),c(t,n),c(t,l),c(t,r),c(r,f),i||(d=pe(t,"click",b,!1,!1,!1,!1),i=!0)},p:function(m,y){var I,k,F,j;e=m,y[0]&64&&!me(n.src,s=(I=e[35])!=null&&I.avatar?xe((k=e[35])==null?void 0:k.collectionId,((F=e[35])==null?void 0:F.id)||"",(j=e[35])==null?void 0:j.avatar):"/profile.svg")&&u(n,"src",s),y[0]&64&&a!==(a=e[35].username+"")&&Ve(f,a)},d:function(m){m&&g(t),i=!1,d()}};return J("SvelteRegisterBlock",{block:P,id:Mt.name,type:"each",source:"(233:3) {#each followList as follow (follow.id)}",ctx:e}),P}function Co(o){let e,t,n,s,l,r,a,f,i,d,b,P,D,m;const y={c:function(){e=_("div"),t=_("label"),n=Q("Content"),s=A(),l=_("textarea"),r=A(),a=_("label"),f=Q("Tags "),i=_("span"),d=Q("(separate by spaces)"),b=A(),P=_("input"),this.h()},l:function(k){e=p(k,"DIV",{class:!0});var F=C(e);t=p(F,"LABEL",{for:!0,class:!0});var j=C(t);n=Y(j,"Content"),j.forEach(g),s=R(F),l=p(F,"TEXTAREA",{placeholder:!0,class:!0}),C(l).forEach(g),r=R(F),a=p(F,"LABEL",{for:!0,class:!0});var S=C(a);f=Y(S,"Tags "),i=p(S,"SPAN",{class:!0});var O=C(i);d=Y(O,"(separate by spaces)"),O.forEach(g),S.forEach(g),b=R(F),P=p(F,"INPUT",{placeholder:!0,type:!0,class:!0}),F.forEach(g),this.h()},h:function(){u(t,"for","email"),u(t,"class","text-neutral-400 font-semibold mb-2 text-sm"),v(t,ee,250,5,7588),u(l,"placeholder",""),u(l,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),v(l,ee,251,5,7680),u(i,"class","text-neutral-500"),v(i,ee,257,12,7885),u(a,"for","email"),u(a,"class","text-neutral-400 font-semibold mb-2 text-sm"),v(a,ee,256,5,7802),u(P,"placeholder",""),u(P,"type","text"),u(P,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),v(P,ee,259,5,7963),u(e,"class","flex flex-col mb-2"),v(e,ee,249,4,7550)},m:function(k,F){te(k,e,F),c(e,t),c(t,n),c(e,s),c(e,l),Ze(l,o[1]),c(e,r),c(e,a),c(a,f),c(a,i),c(i,d),c(e,b),c(e,P),Ze(P,o[2]),D||(m=[pe(l,"input",o[24]),pe(P,"input",o[25])],D=!0)},p:function(k,F){F[0]&2&&Ze(l,k[1]),F[0]&4&&P.value!==k[2]&&Ze(P,k[2])},d:function(k){k&&g(e),D=!1,Et(m)}};return J("SvelteRegisterBlock",{block:y,id:Co.name,type:"if",source:"(249:3) {#if creatingPost}",ctx:o}),y}function Nt(o){let e,t,n,s,l,r,a,f,i,d,b=[],P=new Map,D,m,y,I,k=[],F=new Map,j,S,O,T,W,M,U,L,N,fe,$,be,Pe,K=[],ye=new Map,ke,ge,Ee,De,h,se,we,w,G,X,Z=o[3];Ae(Z);const le=H=>H[41].id;Ge(o,Z,kt,le);for(let H=0;H<Z.length;H+=1){let B=kt(o,Z,H),E=le(B);P.set(E,b[H]=Vt(E,B))}y=new Io({props:{toggleChanged:o[17]},$$inline:!0});let oe=o[0]?o[5]:o[4];Ae(oe);const Ue=H=>H[38].id;Ge(o,oe,bt,Ue);for(let H=0;H<oe.length;H+=1){let B=bt(o,oe,H),E=Ue(B);F.set(E,k[H]=Ot(E,B))}let re=(o[0]&&o[5].length<1||!o[0]&&o[4].length<1)&&Gt(o),ie=o[6];Ae(ie);const de=H=>H[35].id;Ge(o,ie,vt,de);for(let H=0;H<ie.length;H+=1){let B=vt(o,ie,H),E=de(B);ye.set(E,K[H]=Mt(E,B))}let Fe=o[8]&&Co(o);const Ke={c:function(){e=_("div"),t=_("div"),n=_("div"),s=_("div"),l=_("p"),r=Q("People you may know"),a=A(),f=_("p"),i=Q("See All"),d=A();for(let B=0;B<b.length;B+=1)b[B].c();D=A(),m=_("div"),ze(y.$$.fragment),I=A();for(let B=0;B<k.length;B+=1)k[B].c();j=A(),re&&re.c(),S=A(),O=_("div"),T=_("div"),W=_("div"),M=A(),U=_("div"),L=_("h3"),N=Q("Following"),fe=A(),$=_("img"),Pe=A();for(let B=0;B<K.length;B+=1)K[B].c();ke=A(),ge=_("h3"),Ee=Q("Create Post"),De=A(),Fe&&Fe.c(),h=A(),se=_("button"),we=Q("Create Post"),this.h()},l:function(B){e=p(B,"DIV",{class:!0});var E=C(e);t=p(E,"DIV",{class:!0});var ne=C(t);n=p(ne,"DIV",{class:!0});var Ie=C(n);s=p(Ie,"DIV",{class:!0});var Ce=C(s);l=p(Ce,"P",{class:!0});var nt=C(l);r=Y(nt,"People you may know"),nt.forEach(g),a=R(Ce),f=p(Ce,"P",{class:!0});var Be=C(f);i=Y(Be,"See All"),Be.forEach(g),Ce.forEach(g),d=R(Ie);for(let ce=0;ce<b.length;ce+=1)b[ce].l(Ie);Ie.forEach(g),ne.forEach(g),D=R(E),m=p(E,"DIV",{class:!0});var Te=C(m);We(y.$$.fragment,Te),I=R(Te);for(let ce=0;ce<k.length;ce+=1)k[ce].l(Te);j=R(Te),re&&re.l(Te),Te.forEach(g),S=R(E),O=p(E,"DIV",{class:!0});var st=C(O);T=p(st,"DIV",{class:!0});var z=C(T);W=p(z,"DIV",{class:!0}),C(W).forEach(g),M=R(z),U=p(z,"DIV",{class:!0});var Me=C(U);L=p(Me,"H3",{class:!0});var Ne=C(L);N=Y(Ne,"Following"),Ne.forEach(g),fe=R(Me),$=p(Me,"IMG",{src:!0,alt:!0,class:!0}),Me.forEach(g),Pe=R(z);for(let ce=0;ce<K.length;ce+=1)K[ce].l(z);ke=R(z),ge=p(z,"H3",{class:!0});var je=C(ge);Ee=Y(je,"Create Post"),je.forEach(g),De=R(z),Fe&&Fe.l(z),h=R(z),se=p(z,"BUTTON",{class:!0});var ae=C(se);we=Y(ae,"Create Post"),ae.forEach(g),z.forEach(g),st.forEach(g),E.forEach(g),this.h()},h:function(){u(l,"class","text-neutral-300"),v(l,ee,179,4,5036),u(f,"class","font-semibold text-sm hover:underline hover:cursor-pointer"),v(f,ee,180,4,5092),u(s,"class","flex justify-between mb-6 items-center"),v(s,ee,178,3,4979),u(n,"class","bg-[#2e2e2e] rounded-md drop-shadow-md text-white p-5"),v(n,ee,177,2,4908),u(t,"class","flex-1 max-w-md"),v(t,ee,176,1,4876),u(m,"class","space-y-6 flex-1 mx-auto items-center flex flex-col"),v(m,ee,196,1,5577),u(W,"class","g_id_signin"),v(W,ee,226,3,6640),u(L,"class","font-semibold text-neutral-300"),v(L,ee,229,4,6750),me($.src,be="/dots.svg")||u($,"src",be),u($,"alt","Dot Dot Dot"),u($,"class","w-4 hover:cursor-pointer"),v($,ee,230,4,6812),u(U,"class","flex justify-between items-center mb-4"),v(U,ee,228,3,6693),u(ge,"class","font-semibold text-neutral-300 mb-4"),v(ge,ee,247,3,7459),u(se,"class","bg-[#378E8B] rounded-md p-2 font-semibold flex justify-center items-center w-full hover:bg-[#2d7e7b]"),v(se,ee,267,3,8118),u(T,"class",""),v(T,ee,224,2,6618),u(O,"class","flex-1 text-white max-w-md"),v(O,ee,223,1,6575),u(e,"class","flex justify-between mt-8 space-x-8 px-8 w-full"),v(e,ee,175,0,4813)},m:function(B,E){te(B,e,E),c(e,t),c(t,n),c(n,s),c(s,l),c(l,r),c(s,a),c(s,f),c(f,i),c(n,d);for(let ne=0;ne<b.length;ne+=1)b[ne]&&b[ne].m(n,null);c(e,D),c(e,m),Xe(y,m,null),c(m,I);for(let ne=0;ne<k.length;ne+=1)k[ne]&&k[ne].m(m,null);c(m,j),re&&re.m(m,null),c(e,S),c(e,O),c(O,T),c(T,W),o[22](W),c(T,M),c(T,U),c(U,L),c(L,N),c(U,fe),c(U,$),c(T,Pe);for(let ne=0;ne<K.length;ne+=1)K[ne]&&K[ne].m(T,null);c(T,ke),c(T,ge),c(ge,Ee),c(T,De),Fe&&Fe.m(T,null),c(T,h),c(T,se),c(se,we),w=!0,G||(X=pe(se,"click",o[9],!1,!1,!1,!1),G=!0)},p:function(B,E){E[0]&16392&&(Z=B[3],Ae(Z),$e(),Ge(B,Z,kt,le),b=yt(b,E,le,1,B,Z,P,n,Bt,Vt,null,kt),et());const ne={};E[0]&1&&(ne.toggleChanged=B[17]),y.$set(ne),E[0]&15409&&(oe=B[0]?B[5]:B[4],Ae(oe),$e(),Ge(B,oe,bt,Ue),k=yt(k,E,Ue,1,B,oe,F,m,Bt,Ot,j,bt),et()),B[0]&&B[5].length<1||!B[0]&&B[4].length<1?re||(re=Gt(B),re.c(),re.m(m,null)):re&&(re.d(1),re=null),E[0]&64&&(ie=B[6],Ae(ie),Ge(B,ie,vt,de),K=yt(K,E,de,1,B,ie,ye,T,Lo,Mt,ke,vt)),B[8]&&Fe.p(B,E)},i:function(B){if(!w){for(let E=0;E<Z.length;E+=1)he(b[E]);he(y.$$.fragment,B);for(let E=0;E<oe.length;E+=1)he(k[E]);w=!0}},o:function(B){for(let E=0;E<b.length;E+=1)ve(b[E]);ve(y.$$.fragment,B);for(let E=0;E<k.length;E+=1)ve(k[E]);w=!1},d:function(B){B&&g(e);for(let E=0;E<b.length;E+=1)b[E].d();Je(y);for(let E=0;E<k.length;E+=1)k[E].d();re&&re.d(),o[22](null);for(let E=0;E<K.length;E+=1)K[E].d();Fe&&Fe.d(),G=!1,X()}};return J("SvelteRegisterBlock",{block:Ke,id:Nt.name,type:"component",source:"",ctx:o}),Ke}function Ao(o,e,t){let n;ro(tt,"currentUser"),io(o,tt,w=>t(28,n=w));let{$$slots:s={},$$scope:l}=e;at("Page",s,[]);let r=!0,a=!1,f,i,d=[],b=[],P=[],D=[],m=[],y=[];async function I(){d=await(await Le.collection("users").getList(1,5,{sort:"-created"})).items.filter(w=>w.id!==(n==null?void 0:n.id))}async function k(){t(4,P=await(await Le.collection("posts").getList(1,50,{sort:"-created",expand:"author,comments"})).items)}async function F(){if(n==null)return;let w=await Le.collection("users").getOne(n.id);m=w.following,t(6,y=m.length>0?w.expand.following:[])}async function j(){if(n==null)return;let w=new Date;const G={content:f,author:n.id,tags:i,date:w.toLocaleDateString("en-us")};let X=await Le.collection("posts").create(G,{expand:"author"});const Z={"posts+":X.id};await Le.collection("users").update(n.id,Z),t(4,P=[X,...P]),t(1,f=""),t(2,i="")}async function S(w){if(n==null)return;let G=P.filter(le=>le.id==w)[0],X=[...G.likes,n.id];const Z={likes:X};t(4,P=P.map(le=>(le.id==G.id&&(le.likes=X),le))),await Le.collection("posts").update(w,Z)}let O;async function T(w){if(n==null)return;let G=P.filter(oe=>oe.id==w)[0],X=G.likes.indexOf(n.id);G.likes.splice(X,1);let Z=G.likes;const le={likes:Z};t(4,P=P.map(oe=>(oe.id==G.id&&(oe.likes=Z),oe))),await Le.collection("posts").update(w,le)}async function W(w,G){if(n==null)return;let X=P.filter(ie=>ie.id==w)[0],Z={post:X.id,text:G,author:n.id,username:n.username},le=await Le.collection("comments").create(Z);const Ue={comments:[...X.comments,le.id]};let re=await Le.collection("posts").update(w,Ue,{expand:"author,comments"});t(4,P=P.map(ie=>(ie.id==X.id&&(ie=re),ie)))}async function M(w){t(4,P=P.filter(G=>G.id!==w)),await Le.collection("posts").delete(w)}async function U(w){if(n==null)return;let G=d.filter(re=>re.id==w)[0];if(m.includes(G.id))return;let X=[G.id,...m];const Z={following:X};let le=await Le.collection("users").update(n.id,Z,{expand:"following"});m=X,t(6,y=m.length>0?le.expand.following:[]);const Ue={followers:[...G.followers,n.id]};await Le.collection("users").update(G.id,Ue)}function L(){t(5,D=P.filter(w=>m.includes(w.author)))}function N(){t(3,b=d.filter(w=>!m.includes(w.id)))}function fe(){google.accounts.id.initialize({client_id:"140048034662-4qpof7rqqbhvshf1uvsm1vreko6n5na9.apps.googleusercontent.com",ux_mode:"redirect",context:"use",login_uri:"https://app.debate.com.co/user/callback"}),google.accounts.id.renderButton(O,{width:"220",theme:"outline",size:"large",type:"standard",text:"signin_with",shape:"rectangular",logo_alignment:"left"})}Pt(async()=>{I(),fe(),F(),k()}),so(()=>{L(),N()});const $=[];Object.keys(e).forEach(w=>{!~$.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<Page> was created with unknown prop '${w}'`)});const be=w=>window.location.assign(`http://${window.location.host}/user/${w.id}`),Pe=w=>U(w.id),K=w=>{t(0,a=w)},ye=w=>S(w),ke=w=>T(w),ge=(w,G)=>W(w,G),Ee=w=>M(w);function De(w){co[w?"unshift":"push"](()=>{O=w,t(7,O)})}const h=w=>window.location.assign(`http://${window.location.host}/user/${w.id}`);function se(){f=this.value,t(1,f)}function we(){i=this.value,t(2,i)}return o.$capture_state=()=>({currentUser:tt,getImageURL:xe,pb:Le,Post:bo,UserFollow:ko,BigToggle:Io,onMount:Pt,afterUpdate:so,creatingPost:r,postFollowing:a,postText:f,postTags:i,userList:d,recommendedList:b,postList:P,postListFollowing:D,followIds:m,followList:y,getRecentUsers:I,getRecentPosts:k,getFollowing:F,createPost:j,likePost:S,canvas:O,unlikePost:T,commentPost:W,deletePost:M,followUser:U,getPostListFollowing:L,getRecommendedList:N,googleLoad:fe,$currentUser:n}),o.$inject_state=w=>{"creatingPost"in w&&t(8,r=w.creatingPost),"postFollowing"in w&&t(0,a=w.postFollowing),"postText"in w&&t(1,f=w.postText),"postTags"in w&&t(2,i=w.postTags),"userList"in w&&(d=w.userList),"recommendedList"in w&&t(3,b=w.recommendedList),"postList"in w&&t(4,P=w.postList),"postListFollowing"in w&&t(5,D=w.postListFollowing),"followIds"in w&&(m=w.followIds),"followList"in w&&t(6,y=w.followList),"canvas"in w&&t(7,O=w.canvas)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[a,f,i,b,P,D,y,O,r,j,S,T,W,M,U,be,Pe,K,ye,ke,ge,Ee,De,h,se,we]}class Oo extends rt{constructor(e){super(e),it(this,e,Ao,Nt,ct,{},null,[-1,-1]),J("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Nt.name})}}export{Oo as component};
