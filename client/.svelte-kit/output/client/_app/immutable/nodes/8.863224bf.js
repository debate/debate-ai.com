import{S as rt,i as it,s as ct,d as Q,v as at,p as _,c as S,y as Y,q as p,r as I,f as V,z as Z,l as m,P as fe,u as f,x as v,g as $,M as a,A as Ve,N as ot,X as Te,Y as Ge,K as io,L as co,o as Pt,Z as no,U as et,Q as be,k as se,B as Xe,h as ve,j as ze,_ as yt,$ as Lt,R as Et,m as Co,C as Qe,D as We,E as Ye,F as Ze,a0 as Lo,e as nt,T as so,a as lo,a1 as Bo}from"../chunks/index.bc524795.js";import{c as tt,g as Ke,p as Be}from"../chunks/pocketbase.f2e61b4c.js";import{T as ao,S as uo,H as fo}from"../chunks/HoverDropdown.b15a08e3.js";const lt="src/lib/Comment.svelte";function Bt(o){let e,t,n,s,l,i,u,d,c,h;const w={c:function(){e=_("div"),t=_("img"),s=S(),l=_("div"),i=_("h5"),u=Y(o[0]),d=S(),c=_("h5"),h=Y(o[2]),this.h()},l:function(P){e=p(P,"DIV",{class:!0});var g=I(e);t=p(g,"IMG",{src:!0,alt:!0,class:!0}),s=V(g),l=p(g,"DIV",{class:!0});var k=I(l);i=p(k,"H5",{class:!0});var E=I(i);u=Z(E,o[0]),E.forEach(m),d=V(k),c=p(k,"H5",{class:!0});var b=I(c);h=Z(b,o[2]),b.forEach(m),k.forEach(m),g.forEach(m),this.h()},h:function(){fe(t.src,n=o[1])||f(t,"src",n),f(t,"alt","Profile Icon"),f(t,"class","w-8 h-8 object-cover rounded-full bg-white"),v(t,lt,6,1,133),f(i,"class","text-sm leading-4 font-semibold"),v(i,lt,8,2,292),f(c,"class","text-neutral-200"),v(c,lt,9,2,352),f(l,"class","flex flex-col bg-neutral-700 rounded-md p-2"),v(l,lt,7,1,232),f(e,"class","flex space-x-2 items-center"),v(e,lt,5,0,90)},m:function(P,g){$(P,e,g),a(e,t),a(e,s),a(e,l),a(l,i),a(i,u),a(l,d),a(l,c),a(c,h)},p:function(P,[g]){g&2&&!fe(t.src,n=P[1])&&f(t,"src",n),g&1&&Ve(u,P[0]),g&4&&Ve(h,P[2])},i:ot,o:ot,d:function(P){P&&m(e)}};return Q("SvelteRegisterBlock",{block:w,id:Bt.name,type:"component",source:"",ctx:o}),w}function Uo(o,e,t){let{$$slots:n={},$$scope:s}=e;at("Comment",n,[]);let{author:l}=e,{authorAvatar:i}=e,{text:u}=e;o.$$.on_mount.push(function(){l===void 0&&!("author"in e||o.$$.bound[o.$$.props.author])&&console.warn("<Comment> was created without expected prop 'author'"),i===void 0&&!("authorAvatar"in e||o.$$.bound[o.$$.props.authorAvatar])&&console.warn("<Comment> was created without expected prop 'authorAvatar'"),u===void 0&&!("text"in e||o.$$.bound[o.$$.props.text])&&console.warn("<Comment> was created without expected prop 'text'")});const d=["author","authorAvatar","text"];return Object.keys(e).forEach(c=>{!~d.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Comment> was created with unknown prop '${c}'`)}),o.$$set=c=>{"author"in c&&t(0,l=c.author),"authorAvatar"in c&&t(1,i=c.authorAvatar),"text"in c&&t(2,u=c.text)},o.$capture_state=()=>({author:l,authorAvatar:i,text:u}),o.$inject_state=c=>{"author"in c&&t(0,l=c.author),"authorAvatar"in c&&t(1,i=c.authorAvatar),"text"in c&&t(2,u=c.text)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[l,i,u]}class ho extends rt{constructor(e){super(e),it(this,e,Uo,Bt,ct,{author:0,authorAvatar:1,text:2}),Q("SvelteRegisterComponent",{component:this,tagName:"Comment",options:e,id:Bt.name})}get author(){throw new Error("<Comment>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(e){throw new Error("<Comment>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorAvatar(){throw new Error("<Comment>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorAvatar(e){throw new Error("<Comment>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get text(){throw new Error("<Comment>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set text(e){throw new Error("<Comment>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const q="src/lib/Post.svelte";function pt(o,e,t){const n=o.slice();return n[32]=e[t],n}function ro(o,e,t){const n=o.slice();return n[35]=e[t],n}function Ut(o){var s;let e,t;e=new uo({props:{onDelete:o[24],showDelete:((s=o[15])==null?void 0:s.id)===o[2]},$$inline:!0});const n={c:function(){Qe(e.$$.fragment)},l:function(i){We(e.$$.fragment,i)},m:function(i,u){Ye(e,i,u),t=!0},p:function(i,u){var c;const d={};u[0]&258&&(d.onDelete=i[24]),u[0]&32772&&(d.showDelete=((c=i[15])==null?void 0:c.id)===i[2]),e.$set(d)},i:function(i){t||(se(e.$$.fragment,i),t=!0)},o:function(i){ve(e.$$.fragment,i),t=!1},d:function(i){Ze(e,i)}};return Q("SvelteRegisterBlock",{block:n,id:Ut.name,type:"if",source:"(57:1) {#if showPostDropdown}",ctx:o}),n}function mo(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){fe(e.src,t="/heart.svg")||f(e,"src",t),f(e,"alt","Dot Dot Dot"),f(e,"class","w-4 hover:cursor-pointer"),v(e,q,83,15,2276)},m:function(l,i){$(l,e,i)},d:function(l){l&&m(e)}};return Q("SvelteRegisterBlock",{block:n,id:mo.name,type:"else",source:"(84:8) {:else}",ctx:o}),n}function go(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){fe(e.src,t="/heart-full.svg")||f(e,"src",t),f(e,"alt","Dot Dot Dot"),f(e,"class","w-4 hover:cursor-pointer"),v(e,q,79,20,2162)},m:function(l,i){$(l,e,i)},d:function(l){l&&m(e)}};return Q("SvelteRegisterBlock",{block:n,id:go.name,type:"if",source:"(80:5) {#if userLiked}",ctx:o}),n}function Ft(o){let e,t;e=new fo({props:{$$slots:{default:[wo]},$$scope:{ctx:o}},$$inline:!0});const n={c:function(){Qe(e.$$.fragment)},l:function(l){We(e.$$.fragment,l)},m:function(l,i){Ye(e,l,i),t=!0},i:function(l){t||(se(e.$$.fragment,l),t=!0)},o:function(l){ve(e.$$.fragment,l),t=!1},d:function(l){Ze(e,l)}};return Q("SvelteRegisterBlock",{block:n,id:Ft.name,type:"if",source:"(112:3) {#if showLikesDropdown}",ctx:o}),n}function wo(o){let e;const t={c:function(){e=Y("(call back to page and show load state while gathering most recent likes)")},l:function(s){e=Z(s,"(call back to page and show load state while gathering most recent likes)")},m:function(s,l){$(s,e,l)},d:function(s){s&&m(e)}};return Q("SvelteRegisterBlock",{block:t,id:wo.name,type:"slot",source:"(113:3) <HoverDropdown>",ctx:o}),t}function jt(o){let e,t,n=o[11];Te(n);let s=[];for(let u=0;u<n.length;u+=1)s[u]=Tt(ro(o,n,u));const l=u=>ve(s[u],1,1,()=>{s[u]=null}),i={c:function(){e=_("div");for(let d=0;d<s.length;d+=1)s[d].c();this.h()},l:function(d){e=p(d,"DIV",{class:!0});var c=I(e);for(let h=0;h<s.length;h+=1)s[h].l(c);c.forEach(m),this.h()},h:function(){f(e,"class","flex space-x-2 mb-4 flex-wrap"),v(e,q,119,3,3237)},m:function(d,c){$(d,e,c);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);t=!0},p:function(d,c){if(c[0]&2048){n=d[11],Te(n);let h;for(h=0;h<n.length;h+=1){const w=ro(d,n,h);s[h]?(s[h].p(w,c),se(s[h],1)):(s[h]=Tt(w),s[h].c(),se(s[h],1),s[h].m(e,null))}for(Xe(),h=n.length;h<s.length;h+=1)l(h);ze()}},i:function(d){if(!t){for(let c=0;c<n.length;c+=1)se(s[c]);t=!0}},o:function(d){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)ve(s[c]);t=!1},d:function(d){d&&m(e),Lo(s,d)}};return Q("SvelteRegisterBlock",{block:i,id:jt.name,type:"if",source:"(119:2) {#if tagArr.length > 0}",ctx:o}),i}function Tt(o){let e,t;e=new ao({props:{label:o[35]},$$inline:!0});const n={c:function(){Qe(e.$$.fragment)},l:function(l){We(e.$$.fragment,l)},m:function(l,i){Ye(e,l,i),t=!0},p:function(l,i){const u={};i[0]&2048&&(u.label=l[35]),e.$set(u)},i:function(l){t||(se(e.$$.fragment,l),t=!0)},o:function(l){ve(e.$$.fragment,l),t=!1},d:function(l){Ze(e,l)}};return Q("SvelteRegisterBlock",{block:n,id:Tt.name,type:"each",source:"(121:4) {#each tagArr as tag}",ctx:o}),n}function _o(o){let e,t,n,s,l;const i={c:function(){e=_("img"),n=S(),s=_("p"),l=Y("Like"),this.h()},l:function(d){e=p(d,"IMG",{src:!0,alt:!0,class:!0}),n=V(d),s=p(d,"P",{});var c=I(s);l=Z(c,"Like"),c.forEach(m),this.h()},h:function(){fe(e.src,t="/heart.svg")||f(e,"src",t),f(e,"alt","Dot Dot Dot"),f(e,"class","w-4 hover:cursor-pointer"),v(e,q,138,24,3801),v(s,q,143,5,3905)},m:function(d,c){$(d,e,c),$(d,n,c),$(d,s,c),a(s,l)},d:function(d){d&&m(e),d&&m(n),d&&m(s)}};return Q("SvelteRegisterBlock",{block:i,id:_o.name,type:"else",source:"(139:17) {:else}",ctx:o}),i}function po(o){let e,t,n,s,l;const i={c:function(){e=_("img"),n=S(),s=_("p"),l=Y("Liked"),this.h()},l:function(d){e=p(d,"IMG",{src:!0,alt:!0,class:!0}),n=V(d),s=p(d,"P",{});var c=I(s);l=Z(c,"Liked"),c.forEach(m),this.h()},h:function(){fe(e.src,t="/heart-full.svg")||f(e,"src",t),f(e,"alt","Dot Dot Dot"),f(e,"class","w-4 hover:cursor-pointer"),v(e,q,133,19,3673),v(s,q,138,5,3782)},m:function(d,c){$(d,e,c),$(d,n,c),$(d,s,c),a(s,l)},d:function(d){d&&m(e),d&&m(n),d&&m(s)}};return Q("SvelteRegisterBlock",{block:i,id:po.name,type:"if",source:"(134:4) {#if userLiked}",ctx:o}),i}function At(o,e){let t,n,s;n=new ho({props:{author:e[32].username,text:e[32].text,authorAvatar:e[3]},$$inline:!0});const l={key:o,first:null,c:function(){t=nt(),Qe(n.$$.fragment),this.h()},l:function(u){t=nt(),We(n.$$.fragment,u),this.h()},h:function(){this.first=t},m:function(u,d){$(u,t,d),Ye(n,u,d),s=!0},p:function(u,d){e=u;const c={};d[0]&1&&(c.author=e[32].username),d[0]&1&&(c.text=e[32].text),d[0]&8&&(c.authorAvatar=e[3]),n.$set(c)},i:function(u){s||(se(n.$$.fragment,u),s=!0)},o:function(u){ve(n.$$.fragment,u),s=!1},d:function(u){u&&m(t),Ze(n,u)}};return Q("SvelteRegisterBlock",{block:l,id:At.name,type:"each",source:"(156:3) {#each comments as comment (comment.id)}",ctx:e}),l}function Rt(o){var Xt,zt;let e,t,n,s,l,i,u,d,c,h,w,y,P,g,k,E,b,L,B,O,M,j,x,T,F,U,A,de=((Xt=o[7])==null?void 0:Xt.length)+"",re,J,Ce,ie,ce=((zt=o[0])==null?void 0:zt.length)+"",ye,Ee,De,he,r,N,X,ae,H,ee,me,Pe,W,Ue,Me,we,_e=[],z=new Map,C,D,K,ke,Ne,Fe,je,Ae,Le,Ie,He,oe=o[13]&&Ut(o);function st(pe,R){return pe[12]?go:mo}let qe=st(o),le=qe(o),ge=o[14]&&Ft(o),ue=o[11].length>0&&jt(o);function qt(pe,R){return pe[12]?po:_o}let ut=qt(o),Re=ut(o),Se=o[0];Te(Se);const ft=pe=>pe[32].id;Ge(o,Se,pt,ft);for(let pe=0;pe<Se.length;pe+=1){let R=pt(o,Se,pe),G=ft(R);z.set(G,_e[pe]=At(G,R))}const xt={c:function(){e=_("div"),oe&&oe.c(),t=S(),n=_("div"),s=_("div"),l=_("div"),i=_("img"),d=S(),c=_("div"),h=_("button"),w=Y(o[5]),y=S(),P=_("h4"),g=Y(o[6]),k=S(),E=_("div"),b=_("button"),le.c(),L=S(),B=_("button"),O=_("img"),j=S(),x=_("p"),T=Y(o[4]),F=S(),U=_("div"),A=_("p"),re=Y(de),J=Y(" likes"),Ce=S(),ie=_("p"),ye=Y(ce),Ee=Y(" comments"),De=S(),ge&&ge.c(),he=S(),ue&&ue.c(),r=S(),N=_("div"),X=_("button"),Re.c(),ae=S(),H=_("button"),ee=_("img"),Pe=S(),W=_("p"),Ue=Y("Comment"),Me=S(),we=_("div");for(let R=0;R<_e.length;R+=1)_e[R].c();C=S(),D=_("div"),K=_("div"),ke=_("input"),Ne=S(),Fe=_("button"),je=_("img"),this.h()},l:function(R){e=p(R,"DIV",{class:!0});var G=I(e);oe&&oe.l(G),t=V(G),n=p(G,"DIV",{class:!0});var ne=I(n);s=p(ne,"DIV",{class:!0});var xe=I(s);l=p(xe,"DIV",{class:!0});var dt=I(l);i=p(dt,"IMG",{src:!0,alt:!0,class:!0}),d=V(dt),c=p(dt,"DIV",{class:!0});var ht=I(c);h=p(ht,"BUTTON",{class:!0});var Kt=I(h);w=Z(Kt,o[5]),Kt.forEach(m),y=V(ht),P=p(ht,"H4",{class:!0});var Qt=I(P);g=Z(Qt,o[6]),Qt.forEach(m),ht.forEach(m),dt.forEach(m),k=V(xe),E=p(xe,"DIV",{class:!0});var mt=I(E);b=p(mt,"BUTTON",{});var Wt=I(b);le.l(Wt),Wt.forEach(m),L=V(mt),B=p(mt,"BUTTON",{class:!0});var Yt=I(B);O=p(Yt,"IMG",{src:!0,alt:!0,class:!0}),Yt.forEach(m),mt.forEach(m),xe.forEach(m),j=V(ne),x=p(ne,"P",{class:!0});var Zt=I(x);T=Z(Zt,o[4]),Zt.forEach(m),F=V(ne),U=p(ne,"DIV",{class:!0});var Je=I(U);A=p(Je,"P",{class:!0});var Dt=I(A);re=Z(Dt,de),J=Z(Dt," likes"),Dt.forEach(m),Ce=V(Je),ie=p(Je,"P",{class:!0});var It=I(ie);ye=Z(It,ce),Ee=Z(It," comments"),It.forEach(m),De=V(Je),ge&&ge.l(Je),Je.forEach(m),he=V(ne),ue&&ue.l(ne),r=V(ne),N=p(ne,"DIV",{class:!0});var gt=I(N);X=p(gt,"BUTTON",{class:!0});var Jt=I(X);Re.l(Jt),Jt.forEach(m),ae=V(gt),H=p(gt,"BUTTON",{class:!0});var wt=I(H);ee=p(wt,"IMG",{src:!0,alt:!0,class:!0}),Pe=V(wt),W=p(wt,"P",{});var $t=I(W);Ue=Z($t,"Comment"),$t.forEach(m),wt.forEach(m),gt.forEach(m),Me=V(ne),we=p(ne,"DIV",{class:!0});var eo=I(we);for(let Ct=0;Ct<_e.length;Ct+=1)_e[Ct].l(eo);eo.forEach(m),C=V(ne),D=p(ne,"DIV",{});var to=I(D);K=p(to,"DIV",{class:!0});var _t=I(K);ke=p(_t,"INPUT",{placeholder:!0,class:!0}),Ne=V(_t),Fe=p(_t,"BUTTON",{class:!0});var oo=I(Fe);je=p(oo,"IMG",{src:!0,class:!0,alt:!0}),oo.forEach(m),_t.forEach(m),to.forEach(m),ne.forEach(m),G.forEach(m),this.h()},h:function(){fe(i.src,u=o[3])||f(i,"src",u),f(i,"alt","Profile Icon"),f(i,"class","h-10 w-10 object-cover mr-3 hover:cursor-pointer rounded-full bg-white"),v(i,q,62,4,1594),f(h,"class","font-semibold hover:underline cursor-pointer text-left"),v(h,q,68,5,1775),f(P,"class","text-sm text-neutral-300"),v(P,q,74,5,1992),f(c,"class","flex flex-col"),v(c,q,67,4,1742),f(l,"class","flex items-center"),v(l,q,61,3,1558),v(b,q,78,4,2098),fe(O.src,M="/dots.svg")||f(O,"src",M),f(O,"alt","Dot Dot Dot"),f(O,"class","w-4 hover:cursor-pointer"),v(O,q,93,5,2544),f(B,"class","w-8 h-8 flex items-center justify-center rounded-full hover:bg-neutral-600"),v(B,q,89,4,2402),f(E,"class","flex space-x-2"),v(E,q,77,3,2065),f(s,"class","flex items-center justify-between mb-2"),v(s,q,60,2,1502),f(x,"class","mb-4"),v(x,q,98,2,2655),f(A,"class","hover:underline cursor-pointer"),v(A,q,103,3,2772),f(ie,"class","hover:underline cursor-pointer"),v(ie,q,110,3,2971),f(U,"class","relative text-sm flex text-neutral-300 justify-between mb-4"),v(U,q,102,2,2695),f(X,"class","flex space-x-2 items-center hover:bg-neutral-600 flex-1 p-1 rounded-md mx-1 justify-center"),v(X,q,129,3,3499),fe(ee.src,me="/comment.svg")||f(ee,"src",me),f(ee,"alt","Comment Icon"),f(ee,"class","w-4"),v(ee,q,149,4,4091),v(W,q,150,4,4153),f(H,"class","flex space-x-2 items-center hover:bg-neutral-600 flex-1 p-1 rounded-md mx-1 justify-center"),v(H,q,145,3,3938),f(N,"class","flex justify-around font-semibold text-neutral-300 border-t-[1px] border-b-[1px] border-neutral-600 py-1 mb-4"),v(N,q,126,2,3366),f(we,"class","flex flex-col mb-4 space-y-2"),v(we,q,154,2,4193),f(ke,"placeholder","Write a comment"),f(ke,"class","w-10/12 bg-[#2D2D2D] rounded-md p-2"),v(ke,q,162,4,4434),fe(je.src,Ae="/send.svg")||f(je,"src",Ae),f(je,"class","h-4"),f(je,"alt","Send Icon"),v(je,q,170,30,4745),f(Fe,"class","bg-[#378E8B] rounded-md w-2/12 font-semibold flex justify-center items-center hover:bg-[#2d7e7b]"),v(Fe,q,168,4,4597),f(K,"class","flex space-x-2"),v(K,q,161,3,4401),v(D,q,160,2,4392),f(n,"class","bg-[#333333] 2xl:w-[600px] w-[500px] rounded-md drop-shadow-md text-white p-5"),v(n,q,59,1,1408),f(e,"class","relative"),v(e,q,55,0,1260)},m:function(R,G){$(R,e,G),oe&&oe.m(e,null),a(e,t),a(e,n),a(n,s),a(s,l),a(l,i),a(l,d),a(l,c),a(c,h),a(h,w),a(c,y),a(c,P),a(P,g),a(s,k),a(s,E),a(E,b),le.m(b,null),a(E,L),a(E,B),a(B,O),a(n,j),a(n,x),a(x,T),a(n,F),a(n,U),a(U,A),a(A,re),a(A,J),a(U,Ce),a(U,ie),a(ie,ye),a(ie,Ee),a(U,De),ge&&ge.m(U,null),a(n,he),ue&&ue.m(n,null),a(n,r),a(n,N),a(N,X),Re.m(X,null),a(N,ae),a(N,H),a(H,ee),a(H,Pe),a(H,W),a(W,Ue),a(n,Me),a(n,we);for(let ne=0;ne<_e.length;ne+=1)_e[ne]&&_e[ne].m(we,null);a(n,C),a(n,D),a(D,K),a(K,ke),et(ke,o[9]),o[31](ke),a(K,Ne),a(K,Fe),a(Fe,je),Le=!0,Ie||(He=[be(h,"click",o[25],!1,!1,!1,!1),be(b,"click",o[26],!1,!1,!1,!1),be(B,"click",o[16],!1,!1,!1,!1),be(A,"pointerenter",o[27],!1,!1,!1,!1),be(A,"pointerleave",o[28],!1,!1,!1,!1),be(X,"click",o[29],!1,!1,!1,!1),be(H,"click",o[19],!1,!1,!1,!1),be(ke,"input",o[30]),be(Fe,"click",o[18],!1,!1,!1,!1)],Ie=!0)},p:function(R,G){var ne,xe;R[13]?oe?(oe.p(R,G),G[0]&8192&&se(oe,1)):(oe=Ut(R),oe.c(),se(oe,1),oe.m(e,t)):oe&&(Xe(),ve(oe,1,1,()=>{oe=null}),ze()),(!Le||G[0]&8&&!fe(i.src,u=R[3]))&&f(i,"src",u),(!Le||G[0]&32)&&Ve(w,R[5]),(!Le||G[0]&64)&&Ve(g,R[6]),qe!==(qe=st(R))&&(le.d(1),le=qe(R),le&&(le.c(),le.m(b,null))),(!Le||G[0]&16)&&Ve(T,R[4]),(!Le||G[0]&128)&&de!==(de=((ne=R[7])==null?void 0:ne.length)+"")&&Ve(re,de),(!Le||G[0]&1)&&ce!==(ce=((xe=R[0])==null?void 0:xe.length)+"")&&Ve(ye,ce),R[14]?ge?G[0]&16384&&se(ge,1):(ge=Ft(R),ge.c(),se(ge,1),ge.m(U,null)):ge&&(Xe(),ve(ge,1,1,()=>{ge=null}),ze()),R[11].length>0?ue?(ue.p(R,G),G[0]&2048&&se(ue,1)):(ue=jt(R),ue.c(),se(ue,1),ue.m(n,r)):ue&&(Xe(),ve(ue,1,1,()=>{ue=null}),ze()),ut!==(ut=qt(R))&&(Re.d(1),Re=ut(R),Re&&(Re.c(),Re.m(X,null))),G[0]&9&&(Se=R[0],Te(Se),Xe(),Ge(R,Se,pt,ft),_e=yt(_e,G,ft,1,R,Se,z,we,Lt,At,null,pt),ze()),G[0]&512&&ke.value!==R[9]&&et(ke,R[9])},i:function(R){if(!Le){se(oe),se(ge),se(ue);for(let G=0;G<Se.length;G+=1)se(_e[G]);Le=!0}},o:function(R){ve(oe),ve(ge),ve(ue);for(let G=0;G<_e.length;G+=1)ve(_e[G]);Le=!1},d:function(R){R&&m(e),oe&&oe.d(),le.d(),ge&&ge.d(),ue&&ue.d(),Re.d();for(let G=0;G<_e.length;G+=1)_e[G].d();o[31](null),Ie=!1,Et(He)}};return Q("SvelteRegisterBlock",{block:xt,id:Rt.name,type:"component",source:"",ctx:o}),xt}function Fo(o,e,t){let n;io(tt,"currentUser"),co(o,tt,r=>t(15,n=r));let{$$slots:s={},$$scope:l}=e;at("Post",s,[]);let{id:i}=e,{authorId:u}=e,{authorAvatar:d}=e,{content:c}=e,{tags:h}=e,{author:w}=e,{date:y}=e,{likes:P=[]}=e,{comments:g=[]}=e,{onLike:k}=e,{onUnlike:E}=e,{onComment:b}=e,{onDelete:L}=e,B,O,M=[],j=!1,x=!1,T=!1;function F(){t(13,x=!x)}function U(r){j?E(r):k(r)}function A(){b(i,B),t(9,B="")}function de(){O.focus()}Pt(()=>{t(11,M=h.split(" ")),M[0]===""&&t(11,M=[])}),no(()=>{g==null&&t(0,g=[]),n!=null&&t(12,j=P.includes(n.id))}),o.$$.on_mount.push(function(){i===void 0&&!("id"in e||o.$$.bound[o.$$.props.id])&&console.warn("<Post> was created without expected prop 'id'"),u===void 0&&!("authorId"in e||o.$$.bound[o.$$.props.authorId])&&console.warn("<Post> was created without expected prop 'authorId'"),d===void 0&&!("authorAvatar"in e||o.$$.bound[o.$$.props.authorAvatar])&&console.warn("<Post> was created without expected prop 'authorAvatar'"),c===void 0&&!("content"in e||o.$$.bound[o.$$.props.content])&&console.warn("<Post> was created without expected prop 'content'"),h===void 0&&!("tags"in e||o.$$.bound[o.$$.props.tags])&&console.warn("<Post> was created without expected prop 'tags'"),w===void 0&&!("author"in e||o.$$.bound[o.$$.props.author])&&console.warn("<Post> was created without expected prop 'author'"),y===void 0&&!("date"in e||o.$$.bound[o.$$.props.date])&&console.warn("<Post> was created without expected prop 'date'"),k===void 0&&!("onLike"in e||o.$$.bound[o.$$.props.onLike])&&console.warn("<Post> was created without expected prop 'onLike'"),E===void 0&&!("onUnlike"in e||o.$$.bound[o.$$.props.onUnlike])&&console.warn("<Post> was created without expected prop 'onUnlike'"),b===void 0&&!("onComment"in e||o.$$.bound[o.$$.props.onComment])&&console.warn("<Post> was created without expected prop 'onComment'"),L===void 0&&!("onDelete"in e||o.$$.bound[o.$$.props.onDelete])&&console.warn("<Post> was created without expected prop 'onDelete'")});const re=["id","authorId","authorAvatar","content","tags","author","date","likes","comments","onLike","onUnlike","onComment","onDelete"];Object.keys(e).forEach(r=>{!~re.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Post> was created with unknown prop '${r}'`)});const J=()=>L(i),Ce=()=>window.location.assign(`http://${window.location.host}/user/${u}`),ie=()=>U(i),ce=()=>t(14,T=!0),ye=()=>t(14,T=!1),Ee=()=>U(i);function De(){B=this.value,t(9,B)}function he(r){Co[r?"unshift":"push"](()=>{O=r,t(10,O)})}return o.$$set=r=>{"id"in r&&t(1,i=r.id),"authorId"in r&&t(2,u=r.authorId),"authorAvatar"in r&&t(3,d=r.authorAvatar),"content"in r&&t(4,c=r.content),"tags"in r&&t(20,h=r.tags),"author"in r&&t(5,w=r.author),"date"in r&&t(6,y=r.date),"likes"in r&&t(7,P=r.likes),"comments"in r&&t(0,g=r.comments),"onLike"in r&&t(21,k=r.onLike),"onUnlike"in r&&t(22,E=r.onUnlike),"onComment"in r&&t(23,b=r.onComment),"onDelete"in r&&t(8,L=r.onDelete)},o.$capture_state=()=>({currentUser:tt,Tag:ao,Comment:ho,SmallDropdown:uo,HoverDropdown:fo,onMount:Pt,beforeUpdate:no,id:i,authorId:u,authorAvatar:d,content:c,tags:h,author:w,date:y,likes:P,comments:g,onLike:k,onUnlike:E,onComment:b,onDelete:L,commentText:B,commentInput:O,tagArr:M,userLiked:j,showPostDropdown:x,showLikesDropdown:T,togglePostDropdown:F,onLikeClicked:U,createComment:A,focusCommentInput:de,$currentUser:n}),o.$inject_state=r=>{"id"in r&&t(1,i=r.id),"authorId"in r&&t(2,u=r.authorId),"authorAvatar"in r&&t(3,d=r.authorAvatar),"content"in r&&t(4,c=r.content),"tags"in r&&t(20,h=r.tags),"author"in r&&t(5,w=r.author),"date"in r&&t(6,y=r.date),"likes"in r&&t(7,P=r.likes),"comments"in r&&t(0,g=r.comments),"onLike"in r&&t(21,k=r.onLike),"onUnlike"in r&&t(22,E=r.onUnlike),"onComment"in r&&t(23,b=r.onComment),"onDelete"in r&&t(8,L=r.onDelete),"commentText"in r&&t(9,B=r.commentText),"commentInput"in r&&t(10,O=r.commentInput),"tagArr"in r&&t(11,M=r.tagArr),"userLiked"in r&&t(12,j=r.userLiked),"showPostDropdown"in r&&t(13,x=r.showPostDropdown),"showLikesDropdown"in r&&t(14,T=r.showLikesDropdown)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[g,i,u,d,c,w,y,P,L,B,O,M,j,x,T,n,F,U,A,de,h,k,E,b,J,Ce,ie,ce,ye,Ee,De,he]}class vo extends rt{constructor(e){super(e),it(this,e,Fo,Rt,ct,{id:1,authorId:2,authorAvatar:3,content:4,tags:20,author:5,date:6,likes:7,comments:0,onLike:21,onUnlike:22,onComment:23,onDelete:8},null,[-1,-1]),Q("SvelteRegisterComponent",{component:this,tagName:"Post",options:e,id:Rt.name})}get id(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorId(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorId(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorAvatar(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorAvatar(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get content(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set content(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get tags(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set tags(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get author(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get date(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set date(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get likes(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set likes(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get comments(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set comments(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onLike(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onLike(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onUnlike(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onUnlike(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onComment(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onComment(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onDelete(){throw new Error("<Post>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onDelete(e){throw new Error("<Post>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const $e="src/lib/UserFollow.svelte";function St(o){let e,t,n,s,l,i,u,d,c,h,w,y,P;const g={c:function(){e=_("div"),t=_("button"),n=_("img"),l=S(),i=_("p"),u=Y(o[0]),d=S(),c=_("button"),h=_("p"),w=Y("Follow"),this.h()},l:function(E){e=p(E,"DIV",{class:!0});var b=I(e);t=p(b,"BUTTON",{class:!0});var L=I(t);n=p(L,"IMG",{src:!0,alt:!0,class:!0}),l=V(L),i=p(L,"P",{});var B=I(i);u=Z(B,o[0]),B.forEach(m),L.forEach(m),d=V(b),c=p(b,"BUTTON",{});var O=I(c);h=p(O,"P",{class:!0});var M=I(h);w=Z(M,"Follow"),M.forEach(m),O.forEach(m),b.forEach(m),this.h()},h:function(){fe(n.src,s=o[1])||f(n,"src",s),f(n,"alt","profile Icon"),f(n,"class","w-8 h-8 object-cover rounded-full bg-white"),v(n,$e,10,4,285),v(i,$e,11,4,380),f(t,"class","flex items-center space-x-2"),v(t,$e,9,0,217),f(h,"class","font-semibold text-[#378E8B] hover:underline hover:cursor-pointer"),v(h,$e,14,4,437),v(c,$e,13,0,404),f(e,"class","flex justify-between mb-2 items-center hover:bg-neutral-700 p-2 rounded-md hover:cursor-pointer"),v(e,$e,6,0,106)},m:function(E,b){$(E,e,b),a(e,t),a(t,n),a(t,l),a(t,i),a(i,u),a(e,d),a(e,c),a(c,h),a(h,w),y||(P=[be(t,"click",function(){so(o[2])&&o[2].apply(this,arguments)},!1,!1,!1,!1),be(c,"click",function(){so(o[3])&&o[3].apply(this,arguments)},!1,!1,!1,!1)],y=!0)},p:function(E,[b]){o=E,b&2&&!fe(n.src,s=o[1])&&f(n,"src",s),b&1&&Ve(u,o[0])},i:ot,o:ot,d:function(E){E&&m(e),y=!1,Et(P)}};return Q("SvelteRegisterBlock",{block:g,id:St.name,type:"component",source:"",ctx:o}),g}function jo(o,e,t){let{$$slots:n={},$$scope:s}=e;at("UserFollow",n,[]);let{name:l}=e,{avatar:i}=e,{onClick:u}=e,{onFollow:d}=e;o.$$.on_mount.push(function(){l===void 0&&!("name"in e||o.$$.bound[o.$$.props.name])&&console.warn("<UserFollow> was created without expected prop 'name'"),i===void 0&&!("avatar"in e||o.$$.bound[o.$$.props.avatar])&&console.warn("<UserFollow> was created without expected prop 'avatar'"),u===void 0&&!("onClick"in e||o.$$.bound[o.$$.props.onClick])&&console.warn("<UserFollow> was created without expected prop 'onClick'"),d===void 0&&!("onFollow"in e||o.$$.bound[o.$$.props.onFollow])&&console.warn("<UserFollow> was created without expected prop 'onFollow'")});const c=["name","avatar","onClick","onFollow"];return Object.keys(e).forEach(h=>{!~c.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<UserFollow> was created with unknown prop '${h}'`)}),o.$$set=h=>{"name"in h&&t(0,l=h.name),"avatar"in h&&t(1,i=h.avatar),"onClick"in h&&t(2,u=h.onClick),"onFollow"in h&&t(3,d=h.onFollow)},o.$capture_state=()=>({name:l,avatar:i,onClick:u,onFollow:d}),o.$inject_state=h=>{"name"in h&&t(0,l=h.name),"avatar"in h&&t(1,i=h.avatar),"onClick"in h&&t(2,u=h.onClick),"onFollow"in h&&t(3,d=h.onFollow)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[l,i,u,d]}class bo extends rt{constructor(e){super(e),it(this,e,jo,St,ct,{name:0,avatar:1,onClick:2,onFollow:3}),Q("SvelteRegisterComponent",{component:this,tagName:"UserFollow",options:e,id:St.name})}get name(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get avatar(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set avatar(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onClick(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onClick(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onFollow(){throw new Error("<UserFollow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onFollow(e){throw new Error("<UserFollow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Oe="src/lib/BigToggle.svelte";function ko(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){fe(e.src,t="/globe-color.svg")||f(e,"src",t),f(e,"alt","Globe"),f(e,"class","w-5"),v(e,Oe,21,3,664)},m:function(l,i){$(l,e,i)},d:function(l){l&&m(e)}};return Q("SvelteRegisterBlock",{block:n,id:ko.name,type:"else",source:"(21:2) {:else}",ctx:o}),n}function yo(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){fe(e.src,t="/globe.svg")||f(e,"src",t),f(e,"alt","Globe"),f(e,"class","w-5"),v(e,Oe,19,3,602)},m:function(l,i){$(l,e,i)},d:function(l){l&&m(e)}};return Q("SvelteRegisterBlock",{block:n,id:yo.name,type:"if",source:"(19:2) {#if toggledRight}",ctx:o}),n}function Po(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){fe(e.src,t="/friends-color.svg")||f(e,"src",t),f(e,"alt","Group of people"),f(e,"class","w-6"),v(e,Oe,34,3,1185)},m:function(l,i){$(l,e,i)},d:function(l){l&&m(e)}};return Q("SvelteRegisterBlock",{block:n,id:Po.name,type:"else",source:"(34:2) {:else}",ctx:o}),n}function Eo(o){let e,t;const n={c:function(){e=_("img"),this.h()},l:function(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){fe(e.src,t="/friends.svg")||f(e,"src",t),f(e,"alt","Group of people"),f(e,"class","w-6"),v(e,Oe,32,3,1111)},m:function(l,i){$(l,e,i)},d:function(l){l&&m(e)}};return Q("SvelteRegisterBlock",{block:n,id:Eo.name,type:"if",source:"(32:2) {#if !toggledRight}",ctx:o}),n}function Vt(o){let e,t,n,s,l,i,u,d,c,h,w,y,P,g,k,E;function b(T,F){return T[0]?yo:ko}let L=b(o),B=L(o);function O(T,F){return T[0]?Po:Eo}let M=O(o),j=M(o);const x={c:function(){e=_("div"),t=_("button"),B.c(),n=S(),s=_("h3"),l=Y("Global"),d=S(),c=_("button"),j.c(),h=S(),w=_("h3"),y=Y("Following"),this.h()},l:function(F){e=p(F,"DIV",{class:!0});var U=I(e);t=p(U,"BUTTON",{class:!0});var A=I(t);B.l(A),n=V(A),s=p(A,"H3",{class:!0});var de=I(s);l=Z(de,"Global"),de.forEach(m),A.forEach(m),d=V(U),c=p(U,"BUTTON",{class:!0});var re=I(c);j.l(re),h=V(re),w=p(re,"H3",{class:!0});var J=I(w);y=Z(J,"Following"),J.forEach(m),re.forEach(m),U.forEach(m),this.h()},h:function(){f(s,"class",i=o[0]?"font-semibold":"font-semibold text-[#378E8B]"),v(s,Oe,23,2,729),f(t,"class",u=o[0]?"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2":"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5"),v(t,Oe,12,1,321),f(w,"class",P=o[0]?"font-semibold text-[#378E8B]":"font-semibold"),v(w,Oe,36,2,1262),f(c,"class",g=o[0]?"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5":"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2"),v(c,Oe,25,1,829),f(e,"class","bg-[#2E2E2E] 2xl:w-[600px] w-[500px] rounded-md drop-shadow-md text-neutral-300 border-b-[1px] border-neutral-600 flex items-center"),v(e,Oe,9,0,172)},m:function(F,U){$(F,e,U),a(e,t),B.m(t,null),a(t,n),a(t,s),a(s,l),a(e,d),a(e,c),j.m(c,null),a(c,h),a(c,w),a(w,y),k||(E=[be(t,"click",o[3],!1,!1,!1,!1),be(c,"click",o[4],!1,!1,!1,!1)],k=!0)},p:function(F,[U]){L!==(L=b(F))&&(B.d(1),B=L(F),B&&(B.c(),B.m(t,n))),U&1&&i!==(i=F[0]?"font-semibold":"font-semibold text-[#378E8B]")&&f(s,"class",i),U&1&&u!==(u=F[0]?"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2":"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5")&&f(t,"class",u),M!==(M=O(F))&&(j.d(1),j=M(F),j&&(j.c(),j.m(c,h))),U&1&&P!==(P=F[0]?"font-semibold text-[#378E8B]":"font-semibold")&&f(w,"class",P),U&1&&g!==(g=F[0]?"flex-1 flex justify-center items-center space-x-2 border-b-2 border-[#378E8B] p-5":"flex-1 flex justify-center items-center space-x-2 p-3 hover:bg-neutral-700 rounded-md m-2")&&f(c,"class",g)},i:ot,o:ot,d:function(F){F&&m(e),B.d(),j.d(),k=!1,Et(E)}};return Q("SvelteRegisterBlock",{block:x,id:Vt.name,type:"component",source:"",ctx:o}),x}function To(o,e,t){let{$$slots:n={},$$scope:s}=e;at("BigToggle",n,[]);let{toggleChanged:l=()=>{}}=e,i=!1;function u(w){t(0,i=w),l(w)}const d=["toggleChanged"];Object.keys(e).forEach(w=>{!~d.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<BigToggle> was created with unknown prop '${w}'`)});const c=()=>u(!1),h=()=>u(!0);return o.$$set=w=>{"toggleChanged"in w&&t(2,l=w.toggleChanged)},o.$capture_state=()=>({toggleChanged:l,toggledRight:i,toggleMenu:u}),o.$inject_state=w=>{"toggleChanged"in w&&t(2,l=w.toggleChanged),"toggledRight"in w&&t(0,i=w.toggledRight)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[i,u,l,c,h]}class Do extends rt{constructor(e){super(e),it(this,e,To,Vt,ct,{toggleChanged:2}),Q("SvelteRegisterComponent",{component:this,tagName:"BigToggle",options:e,id:Vt.name})}get toggleChanged(){throw new Error("<BigToggle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set toggleChanged(e){throw new Error("<BigToggle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const te="src/routes/home/+page.svelte";function vt(o,e,t){const n=o.slice();return n[32]=e[t],n}function bt(o,e,t){const n=o.slice();return n[35]=e[t],n}function kt(o,e,t){const n=o.slice();return n[38]=e[t],n}function Ot(o,e){var d,c,h,w,y;let t,n,s;function l(){return e[14](e[38])}function i(){return e[15](e[38])}n=new bo({props:{name:(d=e[38])==null?void 0:d.username,avatar:(c=e[38])!=null&&c.avatar?Ke((h=e[38])==null?void 0:h.collectionId,((w=e[38])==null?void 0:w.id)||"",(y=e[38])==null?void 0:y.avatar):"/profile.svg",onClick:l,onFollow:i},$$inline:!0});const u={key:o,first:null,c:function(){t=nt(),Qe(n.$$.fragment),this.h()},l:function(g){t=nt(),We(n.$$.fragment,g),this.h()},h:function(){this.first=t},m:function(g,k){$(g,t,k),Ye(n,g,k),s=!0},p:function(g,k){var b,L,B,O,M;e=g;const E={};k[0]&8&&(E.name=(b=e[38])==null?void 0:b.username),k[0]&8&&(E.avatar=(L=e[38])!=null&&L.avatar?Ke((B=e[38])==null?void 0:B.collectionId,((O=e[38])==null?void 0:O.id)||"",(M=e[38])==null?void 0:M.avatar):"/profile.svg"),k[0]&8&&(E.onClick=l),k[0]&8&&(E.onFollow=i),n.$set(E)},i:function(g){s||(se(n.$$.fragment,g),s=!0)},o:function(g){ve(n.$$.fragment,g),s=!1},d:function(g){g&&m(t),Ze(n,g)}};return Q("SvelteRegisterBlock",{block:u,id:Ot.name,type:"each",source:"(162:3) {#each recommendedList as user (user.id)}",ctx:e}),u}function Mt(o,e){var i,u,d,c,h,w,y,P,g,k,E,b,L,B,O,M,j,x;let t,n,s;n=new vo({props:{id:e[35].id,authorId:(u=(i=e[35].expand)==null?void 0:i.author)==null?void 0:u.id,authorAvatar:(c=(d=e[35].expand)==null?void 0:d.author)!=null&&c.avatar?Ke((w=(h=e[35].expand)==null?void 0:h.author)==null?void 0:w.collectionId,((P=(y=e[35].expand)==null?void 0:y.author)==null?void 0:P.id)||"",(k=(g=e[35].expand)==null?void 0:g.author)==null?void 0:k.avatar):"/profile.svg",author:(b=(E=e[35].expand)==null?void 0:E.author)==null?void 0:b.username,date:(L=e[35])==null?void 0:L.date,content:(B=e[35])==null?void 0:B.content,tags:(O=e[35])==null?void 0:O.tags,likes:(M=e[35])==null?void 0:M.likes,comments:(x=(j=e[35])==null?void 0:j.expand)==null?void 0:x.comments,onLike:e[17],onUnlike:e[18],onComment:e[19],onDelete:e[20]},$$inline:!0});const l={key:o,first:null,c:function(){t=nt(),Qe(n.$$.fragment),this.h()},l:function(F){t=nt(),We(n.$$.fragment,F),this.h()},h:function(){this.first=t},m:function(F,U){$(F,t,U),Ye(n,F,U),s=!0},p:function(F,U){var de,re,J,Ce,ie,ce,ye,Ee,De,he,r,N,X,ae,H,ee,me,Pe;e=F;const A={};U[0]&49&&(A.id=e[35].id),U[0]&49&&(A.authorId=(re=(de=e[35].expand)==null?void 0:de.author)==null?void 0:re.id),U[0]&49&&(A.authorAvatar=(Ce=(J=e[35].expand)==null?void 0:J.author)!=null&&Ce.avatar?Ke((ce=(ie=e[35].expand)==null?void 0:ie.author)==null?void 0:ce.collectionId,((Ee=(ye=e[35].expand)==null?void 0:ye.author)==null?void 0:Ee.id)||"",(he=(De=e[35].expand)==null?void 0:De.author)==null?void 0:he.avatar):"/profile.svg"),U[0]&49&&(A.author=(N=(r=e[35].expand)==null?void 0:r.author)==null?void 0:N.username),U[0]&49&&(A.date=(X=e[35])==null?void 0:X.date),U[0]&49&&(A.content=(ae=e[35])==null?void 0:ae.content),U[0]&49&&(A.tags=(H=e[35])==null?void 0:H.tags),U[0]&49&&(A.likes=(ee=e[35])==null?void 0:ee.likes),U[0]&49&&(A.comments=(Pe=(me=e[35])==null?void 0:me.expand)==null?void 0:Pe.comments),n.$set(A)},i:function(F){s||(se(n.$$.fragment,F),s=!0)},o:function(F){ve(n.$$.fragment,F),s=!1},d:function(F){F&&m(t),Ze(n,F)}};return Q("SvelteRegisterBlock",{block:l,id:Mt.name,type:"each",source:"(178:2) {#each (postFollowing ? postListFollowing : postList) as post (post.id)}",ctx:e}),l}function Nt(o){let e,t;const n={c:function(){e=_("p"),t=Y("Nothing to see here yet"),this.h()},l:function(l){e=p(l,"P",{class:!0});var i=I(e);t=Z(i,"Nothing to see here yet"),i.forEach(m),this.h()},h:function(){f(e,"class","text-neutral-500 pt-4"),v(e,te,199,2,5890)},m:function(l,i){$(l,e,i),a(e,t)},d:function(l){l&&m(e)}};return Q("SvelteRegisterBlock",{block:n,id:Nt.name,type:"if",source:"(199:2) {#if (postFollowing && postListFollowing.length<1) || (!postFollowing && postList.length<1)}",ctx:o}),n}function Gt(o,e){let t,n,s,l,i,u=e[32].username+"",d,c,h;function w(){return e[21](e[32])}const y={key:o,first:null,c:function(){t=_("button"),n=_("img"),l=S(),i=_("p"),d=Y(u),this.h()},l:function(g){t=p(g,"BUTTON",{class:!0});var k=I(t);n=p(k,"IMG",{src:!0,alt:!0,class:!0}),l=V(k),i=p(k,"P",{class:!0});var E=I(i);d=Z(E,u),E.forEach(m),k.forEach(m),this.h()},h:function(){var g,k,E,b;fe(n.src,s=(g=e[32])!=null&&g.avatar?Ke((k=e[32])==null?void 0:k.collectionId,((E=e[32])==null?void 0:E.id)||"",(b=e[32])==null?void 0:b.avatar):"/profile.svg")||f(n,"src",s),f(n,"alt","Dot Dot Dot"),f(n,"class","w-6 bg-white rounded-full"),v(n,te,214,5,6513),f(i,"class","text-sm font-semibold"),v(i,te,219,5,6711),f(t,"class","flex space-x-2 mb-4 hover:bg-neutral-700 p-2 rounded-md hover:cursor-pointer items-center w-full"),v(t,te,209,4,6281),this.first=t},m:function(g,k){$(g,t,k),a(t,n),a(t,l),a(t,i),a(i,d),c||(h=be(t,"click",w,!1,!1,!1,!1),c=!0)},p:function(g,k){var E,b,L,B;e=g,k[0]&64&&!fe(n.src,s=(E=e[32])!=null&&E.avatar?Ke((b=e[32])==null?void 0:b.collectionId,((L=e[32])==null?void 0:L.id)||"",(B=e[32])==null?void 0:B.avatar):"/profile.svg")&&f(n,"src",s),k[0]&64&&u!==(u=e[32].username+"")&&Ve(d,u)},d:function(g){g&&m(t),c=!1,h()}};return Q("SvelteRegisterBlock",{block:y,id:Gt.name,type:"each",source:"(209:3) {#each followList as follow (follow.id)}",ctx:e}),y}function Io(o){let e,t,n,s,l,i,u,d,c,h,w,y,P,g;const k={c:function(){e=_("div"),t=_("label"),n=Y("Content"),s=S(),l=_("textarea"),i=S(),u=_("label"),d=Y("Tags "),c=_("span"),h=Y("(separate by spaces)"),w=S(),y=_("input"),this.h()},l:function(b){e=p(b,"DIV",{class:!0});var L=I(e);t=p(L,"LABEL",{for:!0,class:!0});var B=I(t);n=Z(B,"Content"),B.forEach(m),s=V(L),l=p(L,"TEXTAREA",{placeholder:!0,class:!0}),I(l).forEach(m),i=V(L),u=p(L,"LABEL",{for:!0,class:!0});var O=I(u);d=Z(O,"Tags "),c=p(O,"SPAN",{class:!0});var M=I(c);h=Z(M,"(separate by spaces)"),M.forEach(m),O.forEach(m),w=V(L),y=p(L,"INPUT",{placeholder:!0,type:!0,class:!0}),L.forEach(m),this.h()},h:function(){f(t,"for","email"),f(t,"class","text-neutral-400 font-semibold mb-2 text-sm"),v(t,te,226,5,6924),f(l,"placeholder",""),f(l,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),v(l,te,227,5,7016),f(c,"class","text-neutral-500"),v(c,te,233,12,7221),f(u,"for","email"),f(u,"class","text-neutral-400 font-semibold mb-2 text-sm"),v(u,te,232,5,7138),f(y,"placeholder",""),f(y,"type","text"),f(y,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),v(y,te,235,5,7299),f(e,"class","flex flex-col mb-2"),v(e,te,225,4,6886)},m:function(b,L){$(b,e,L),a(e,t),a(t,n),a(e,s),a(e,l),et(l,o[1]),a(e,i),a(e,u),a(u,d),a(u,c),a(c,h),a(e,w),a(e,y),et(y,o[2]),P||(g=[be(l,"input",o[22]),be(y,"input",o[23])],P=!0)},p:function(b,L){L[0]&2&&et(l,b[1]),L[0]&4&&y.value!==b[2]&&et(y,b[2])},d:function(b){b&&m(e),P=!1,Et(g)}};return Q("SvelteRegisterBlock",{block:k,id:Io.name,type:"if",source:"(225:3) {#if creatingPost}",ctx:o}),k}function Ht(o){let e,t,n,s,l,i,u,d,c,h,w=[],y=new Map,P,g,k,E,b=[],L=new Map,B,O,M,j,x,T,F,U,A,de,re,J=[],Ce=new Map,ie,ce,ye,Ee,De,he,r,N,X,ae,H=o[3];Te(H);const ee=z=>z[38].id;Ge(o,H,kt,ee);for(let z=0;z<H.length;z+=1){let C=kt(o,H,z),D=ee(C);y.set(D,w[z]=Ot(D,C))}k=new Do({props:{toggleChanged:o[16]},$$inline:!0});let me=o[0]?o[5]:o[4];Te(me);const Pe=z=>z[35].id;Ge(o,me,bt,Pe);for(let z=0;z<me.length;z+=1){let C=bt(o,me,z),D=Pe(C);L.set(D,b[z]=Mt(D,C))}let W=(o[0]&&o[5].length<1||!o[0]&&o[4].length<1)&&Nt(o),Ue=o[6];Te(Ue);const Me=z=>z[32].id;Ge(o,Ue,vt,Me);for(let z=0;z<Ue.length;z+=1){let C=vt(o,Ue,z),D=Me(C);Ce.set(D,J[z]=Gt(D,C))}let we=o[7]&&Io(o);const _e={c:function(){e=_("div"),t=_("div"),n=_("div"),s=_("div"),l=_("p"),i=Y("People you may know"),u=S(),d=_("p"),c=Y("See All"),h=S();for(let C=0;C<w.length;C+=1)w[C].c();P=S(),g=_("div"),Qe(k.$$.fragment),E=S();for(let C=0;C<b.length;C+=1)b[C].c();B=S(),W&&W.c(),O=S(),M=_("div"),j=_("div"),x=_("div"),T=_("h3"),F=Y("Following"),U=S(),A=_("img"),re=S();for(let C=0;C<J.length;C+=1)J[C].c();ie=S(),ce=_("h3"),ye=Y("Create Post"),Ee=S(),we&&we.c(),De=S(),he=_("button"),r=Y("Create Post"),this.h()},l:function(C){e=p(C,"DIV",{class:!0});var D=I(e);t=p(D,"DIV",{class:!0});var K=I(t);n=p(K,"DIV",{class:!0});var ke=I(n);s=p(ke,"DIV",{class:!0});var Ne=I(s);l=p(Ne,"P",{class:!0});var Fe=I(l);i=Z(Fe,"People you may know"),Fe.forEach(m),u=V(Ne),d=p(Ne,"P",{class:!0});var je=I(d);c=Z(je,"See All"),je.forEach(m),Ne.forEach(m),h=V(ke);for(let le=0;le<w.length;le+=1)w[le].l(ke);ke.forEach(m),K.forEach(m),P=V(D),g=p(D,"DIV",{class:!0});var Ae=I(g);We(k.$$.fragment,Ae),E=V(Ae);for(let le=0;le<b.length;le+=1)b[le].l(Ae);B=V(Ae),W&&W.l(Ae),Ae.forEach(m),O=V(D),M=p(D,"DIV",{class:!0});var Le=I(M);j=p(Le,"DIV",{class:!0});var Ie=I(j);x=p(Ie,"DIV",{class:!0});var He=I(x);T=p(He,"H3",{class:!0});var oe=I(T);F=Z(oe,"Following"),oe.forEach(m),U=V(He),A=p(He,"IMG",{src:!0,alt:!0,class:!0}),He.forEach(m),re=V(Ie);for(let le=0;le<J.length;le+=1)J[le].l(Ie);ie=V(Ie),ce=p(Ie,"H3",{class:!0});var st=I(ce);ye=Z(st,"Create Post"),st.forEach(m),Ee=V(Ie),we&&we.l(Ie),De=V(Ie),he=p(Ie,"BUTTON",{class:!0});var qe=I(he);r=Z(qe,"Create Post"),qe.forEach(m),Ie.forEach(m),Le.forEach(m),D.forEach(m),this.h()},h:function(){f(l,"class","text-neutral-300"),v(l,te,158,4,4429),f(d,"class","font-semibold text-sm hover:underline hover:cursor-pointer"),v(d,te,159,4,4485),f(s,"class","flex justify-between mb-6 items-center"),v(s,te,157,3,4372),f(n,"class","bg-[#2e2e2e] rounded-md drop-shadow-md text-white p-5"),v(n,te,156,2,4301),f(t,"class","flex-1 max-w-md"),v(t,te,155,1,4269),f(g,"class","space-y-6 flex-1 mx-auto items-center flex flex-col"),v(g,te,175,1,4970),f(T,"class","font-semibold text-neutral-300"),v(T,te,205,4,6086),fe(A.src,de="/dots.svg")||f(A,"src",de),f(A,"alt","Dot Dot Dot"),f(A,"class","w-4 hover:cursor-pointer"),v(A,te,206,4,6148),f(x,"class","flex justify-between items-center mb-4"),v(x,te,204,3,6029),f(ce,"class","font-semibold text-neutral-300 mb-4"),v(ce,te,223,3,6795),f(he,"class","bg-[#378E8B] rounded-md p-2 font-semibold flex justify-center items-center w-full hover:bg-[#2d7e7b]"),v(he,te,243,3,7454),f(j,"class",""),v(j,te,203,2,6011),f(M,"class","flex-1 text-white max-w-md"),v(M,te,202,1,5968),f(e,"class","flex justify-between mt-8 space-x-8 px-8 w-full"),v(e,te,154,0,4206)},m:function(C,D){$(C,e,D),a(e,t),a(t,n),a(n,s),a(s,l),a(l,i),a(s,u),a(s,d),a(d,c),a(n,h);for(let K=0;K<w.length;K+=1)w[K]&&w[K].m(n,null);a(e,P),a(e,g),Ye(k,g,null),a(g,E);for(let K=0;K<b.length;K+=1)b[K]&&b[K].m(g,null);a(g,B),W&&W.m(g,null),a(e,O),a(e,M),a(M,j),a(j,x),a(x,T),a(T,F),a(x,U),a(x,A),a(j,re);for(let K=0;K<J.length;K+=1)J[K]&&J[K].m(j,null);a(j,ie),a(j,ce),a(ce,ye),a(j,Ee),we&&we.m(j,null),a(j,De),a(j,he),a(he,r),N=!0,X||(ae=be(he,"click",o[8],!1,!1,!1,!1),X=!0)},p:function(C,D){D[0]&8200&&(H=C[3],Te(H),Xe(),Ge(C,H,kt,ee),w=yt(w,D,ee,1,C,H,y,n,Lt,Ot,null,kt),ze());const K={};D[0]&1&&(K.toggleChanged=C[16]),k.$set(K),D[0]&7729&&(me=C[0]?C[5]:C[4],Te(me),Xe(),Ge(C,me,bt,Pe),b=yt(b,D,Pe,1,C,me,L,g,Lt,Mt,B,bt),ze()),C[0]&&C[5].length<1||!C[0]&&C[4].length<1?W||(W=Nt(C),W.c(),W.m(g,null)):W&&(W.d(1),W=null),D[0]&64&&(Ue=C[6],Te(Ue),Ge(C,Ue,vt,Me),J=yt(J,D,Me,1,C,Ue,Ce,j,Bo,Gt,ie,vt)),C[7]&&we.p(C,D)},i:function(C){if(!N){for(let D=0;D<H.length;D+=1)se(w[D]);se(k.$$.fragment,C);for(let D=0;D<me.length;D+=1)se(b[D]);N=!0}},o:function(C){for(let D=0;D<w.length;D+=1)ve(w[D]);ve(k.$$.fragment,C);for(let D=0;D<b.length;D+=1)ve(b[D]);N=!1},d:function(C){C&&m(e);for(let D=0;D<w.length;D+=1)w[D].d();Ze(k);for(let D=0;D<b.length;D+=1)b[D].d();W&&W.d();for(let D=0;D<J.length;D+=1)J[D].d();we&&we.d(),X=!1,ae()}};return Q("SvelteRegisterBlock",{block:_e,id:Ht.name,type:"component",source:"",ctx:o}),_e}function Ao(o,e,t){let n;io(tt,"currentUser"),co(o,tt,r=>t(26,n=r));let{$$slots:s={},$$scope:l}=e;at("Page",s,[]);let i=!0,u=!1,d,c,h=[],w=[],y=[],P=[],g=[],k=[];async function E(){h=await(await Be.collection("users").getList(1,5,{sort:"-created"})).items.filter(r=>r.id!==(n==null?void 0:n.id))}async function b(){t(4,y=await(await Be.collection("posts").getList(1,50,{sort:"-created",expand:"author,comments"})).items)}async function L(){if(n==null)return;let r=await Be.collection("users").getOne(n.id,{expand:"following"});g=r.following,t(6,k=r.expand.following||[])}async function B(){if(n==null)return;let r=new Date;const N={content:d,author:n.id,tags:c,date:r.toLocaleDateString("en-us")};let X=await Be.collection("posts").create(N,{expand:"author"});const ae={"posts+":X.id};await Be.collection("users").update(n.id,ae),t(4,y=[X,...y]),t(1,d=""),t(2,c="")}async function O(r){if(n==null)return;let N=y.filter(H=>H.id==r)[0],X=[...N.likes,n.id];const ae={likes:X};t(4,y=y.map(H=>(H.id==N.id&&(H.likes=X),H))),await Be.collection("posts").update(r,ae)}async function M(r){if(n==null)return;let N=y.filter(ee=>ee.id==r)[0],X=N.likes.indexOf(n.id);N.likes.splice(X,1);let ae=N.likes;const H={likes:ae};t(4,y=y.map(ee=>(ee.id==N.id&&(ee.likes=ae),ee))),await Be.collection("posts").update(r,H)}async function j(r,N){if(n==null)return;let X=y.filter(W=>W.id==r)[0],ae={post:X.id,text:N,author:n.id,username:n.username},H=await Be.collection("comments").create(ae);const me={comments:[...X.comments,H.id]};let Pe=await Be.collection("posts").update(r,me,{expand:"author,comments"});t(4,y=y.map(W=>(W.id==X.id&&(W=Pe),W)))}async function x(r){t(4,y=y.filter(N=>N.id!==r)),await Be.collection("posts").delete(r)}async function T(r){if(n==null)return;let N=h.filter(Pe=>Pe.id==r)[0];if(g.includes(N.id))return;let X=[N.id,...g];const ae={following:X};let H=await Be.collection("users").update(n.id,ae,{expand:"following"});g=X,t(6,k=H.expand.following);const me={followers:[...N.followers,n.id]};await Be.collection("users").update(N.id,me)}function F(){t(5,P=y.filter(r=>g.includes(r.author)))}function U(){t(3,w=h.filter(r=>!g.includes(r.id)))}Pt(async()=>{E(),L(),b()}),lo(()=>{F(),U()});const A=[];Object.keys(e).forEach(r=>{!~A.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Page> was created with unknown prop '${r}'`)});const de=r=>window.location.assign(`http://${window.location.host}/user/${r.id}`),re=r=>T(r.id),J=r=>{t(0,u=r)},Ce=r=>O(r),ie=r=>M(r),ce=(r,N)=>j(r,N),ye=r=>x(r),Ee=r=>window.location.assign(`http://${window.location.host}/user/${r.id}`);function De(){d=this.value,t(1,d)}function he(){c=this.value,t(2,c)}return o.$capture_state=()=>({currentUser:tt,getImageURL:Ke,pb:Be,Post:vo,UserFollow:bo,BigToggle:Do,onMount:Pt,afterUpdate:lo,creatingPost:i,postFollowing:u,postText:d,postTags:c,userList:h,recommendedList:w,postList:y,postListFollowing:P,followIds:g,followList:k,getRecentUsers:E,getRecentPosts:b,getFollowing:L,createPost:B,likePost:O,unlikePost:M,commentPost:j,deletePost:x,followUser:T,getPostListFollowing:F,getRecommendedList:U,$currentUser:n}),o.$inject_state=r=>{"creatingPost"in r&&t(7,i=r.creatingPost),"postFollowing"in r&&t(0,u=r.postFollowing),"postText"in r&&t(1,d=r.postText),"postTags"in r&&t(2,c=r.postTags),"userList"in r&&(h=r.userList),"recommendedList"in r&&t(3,w=r.recommendedList),"postList"in r&&t(4,y=r.postList),"postListFollowing"in r&&t(5,P=r.postListFollowing),"followIds"in r&&(g=r.followIds),"followList"in r&&t(6,k=r.followList)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[u,d,c,w,y,P,k,i,B,O,M,j,x,T,de,re,J,Ce,ie,ce,ye,Ee,De,he]}class Oo extends rt{constructor(e){super(e),it(this,e,Ao,Ht,ct,{},null,[-1,-1]),Q("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Ht.name})}}export{Oo as component};
