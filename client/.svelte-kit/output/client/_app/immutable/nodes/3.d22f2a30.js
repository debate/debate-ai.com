import{S as Se,i as Ne,d as z,s as Pe,G as Re,K as je,L as Ae,v as Me,O as Ve,p as k,c as U,q as y,r as P,l as v,f as q,u as g,x as D,g as L,h as j,j as le,k as S,H as Ge,I as Le,J as Oe,B as se,C as W,y as X,D as Y,z as Z,E as x,M as w,N as de,F as ee,P as Q,Q as be,e as we,A as Te}from"../chunks/index.bc524795.js";/* empty css                    */import{c as re,p as ne,g as oe}from"../chunks/pocketbase.f2e61b4c.js";import{C as ie,D as ke,M as me}from"../chunks/MediumDropdown.ffbc9ce1.js";import{B as ye}from"../chunks/Button.15122d6b.js";const{console:Ue}=Ve,E="src/routes/home/+layout.svelte";function De(l){let e,t,r,o,n,s,i,a;t=new ye({props:{label:"Sign in",onClick:l[10],loading:l[9]},$$inline:!0});const p={c:function(){e=k("div"),W(t.$$.fragment),r=U(),o=k("p"),n=X("Need an account? "),s=k("a"),i=X("Sign up Now"),this.h()},l:function(u){e=y(u,"DIV",{class:!0});var f=P(e);Y(t.$$.fragment,f),r=q(f),o=y(f,"P",{class:!0});var h=P(o);n=Z(h,"Need an account? "),s=y(h,"A",{class:!0,href:!0});var c=P(s);i=Z(c,"Sign up Now"),c.forEach(v),h.forEach(v),f.forEach(v),this.h()},h:function(){g(s,"class","text-[#65C0BD] font-semibold underline"),g(s,"href","/auth/register"),D(s,E,132,65,4355),g(o,"class","text-sm text-[#B1B1B1] text-center"),D(o,E,132,2,4292),g(e,"class","bg-[#363636] text-white sm:rounded-md p-8 sm:w-[500px] w-full drop-shadow-md h-full sm:h-auto sm:mt-0 z-10 select-none"),D(e,E,130,2,4094)},m:function(u,f){L(u,e,f),x(t,e,null),w(e,r),w(e,o),w(o,n),w(o,s),w(s,i),a=!0},p:de,i:function(u){a||(S(t.$$.fragment,u),a=!0)},o:function(u){j(t.$$.fragment,u),a=!1},d:function(u){u&&v(e),ee(t)}};return z("SvelteRegisterBlock",{block:p,id:De.name,type:"else",source:"(129:1) {:else}",ctx:l}),p}function Ee(l){var he;let e,t,r,o,n,s,i,a,p,_,u,f,h,c,b,R,A,N,O,M,V,F,H,m,pe;a=new ie({props:{icon:"message",onClick:l[12]},$$inline:!0}),_=new ie({props:{icon:"bell",notifications:(he=l[3])!=null&&he.alerts?1:0,onClick:l[13]},$$inline:!0});let $=l[1]&&ae(l),I=l[2]&&ce(l),C=l[0]&&ue(l);const _e={c:function(){e=k("img"),r=U(),o=k("p"),n=X("This is a mock social media site for testing"),s=U(),i=k("div"),W(a.$$.fragment),p=U(),W(_.$$.fragment),u=U(),f=k("div"),h=k("button"),c=k("img"),R=U(),A=k("div"),N=k("img"),M=U(),$&&$.c(),V=U(),I&&I.c(),F=U(),C&&C.c(),this.h()},l:function(d){e=y(d,"IMG",{src:!0,alt:!0,class:!0}),r=q(d),o=y(d,"P",{class:!0});var B=P(o);n=Z(B,"This is a mock social media site for testing"),B.forEach(v),s=q(d),i=y(d,"DIV",{class:!0});var T=P(i);Y(a.$$.fragment,T),p=q(T),Y(_.$$.fragment,T),u=q(T),f=y(T,"DIV",{class:!0});var G=P(f);h=y(G,"BUTTON",{});var K=P(h);c=y(K,"IMG",{src:!0,alt:!0,class:!0}),R=q(K),A=y(K,"DIV",{class:!0});var te=P(A);N=y(te,"IMG",{src:!0,alt:!0,class:!0}),te.forEach(v),K.forEach(v),M=q(G),$&&$.l(G),V=q(G),I&&I.l(G),F=q(G),C&&C.l(G),G.forEach(v),T.forEach(v),this.h()},h:function(){var d,B,T,G;Q(e.src,t="/placeholder-logo.svg")||g(e,"src",t),g(e,"alt","Placeholder logo"),g(e,"class","h-8"),D(e,E,53,2,1493),g(o,"class","text-neutral-500 text-sm text-center"),D(o,E,54,2,1566),Q(c.src,b=(d=l[3])!=null&&d.avatar?oe((B=l[3])==null?void 0:B.collectionId,((T=l[3])==null?void 0:T.id)||"",(G=l[3])==null?void 0:G.avatar):"/profile.svg")||g(c,"src",b),g(c,"alt","Default profile"),g(c,"class","h-10 w-10 object-cover bg-white rounded-full"),D(c,E,73,5,2050),Q(N.src,O="chevron.svg")||g(N,"src",O),g(N,"alt","chevron down"),g(N,"class","w-2"),D(N,E,81,6,2485),g(A,"class","absolute -right-[2px] -bottom-[2px] border-[#2E2E2E] border-2 w-4 h-4 bg-neutral-700 rounded-full flex justify-center items-center group-hover:bg-neutral-600"),D(A,E,78,5,2295),D(h,E,72,4,2003),g(f,"class","relative group"),D(f,E,71,3,1970),g(i,"class","relative flex space-x-3 items-center group"),D(i,E,57,2,1672)},m:function(d,B){L(d,e,B),L(d,r,B),L(d,o,B),w(o,n),L(d,s,B),L(d,i,B),x(a,i,null),w(i,p),x(_,i,null),w(i,u),w(i,f),w(f,h),w(h,c),w(h,R),w(h,A),w(A,N),w(f,M),$&&$.m(f,null),w(f,V),I&&I.m(f,null),w(f,F),C&&C.m(f,null),H=!0,m||(pe=be(h,"click",l[4],!1,!1,!1,!1),m=!0)},p:function(d,B){var G,K,te,ge,ve;const T={};B&8&&(T.notifications=(G=d[3])!=null&&G.alerts?1:0),_.$set(T),(!H||B&8&&!Q(c.src,b=(K=d[3])!=null&&K.avatar?oe((te=d[3])==null?void 0:te.collectionId,((ge=d[3])==null?void 0:ge.id)||"",(ve=d[3])==null?void 0:ve.avatar):"/profile.svg"))&&g(c,"src",b),d[1]?$?($.p(d,B),B&2&&S($,1)):($=ae(d),$.c(),S($,1),$.m(f,V)):$&&(se(),j($,1,1,()=>{$=null}),le()),d[2]?I?B&4&&S(I,1):(I=ce(d),I.c(),S(I,1),I.m(f,F)):I&&(se(),j(I,1,1,()=>{I=null}),le()),d[0]?C?(C.p(d,B),B&1&&S(C,1)):(C=ue(d),C.c(),S(C,1),C.m(f,null)):C&&(se(),j(C,1,1,()=>{C=null}),le())},i:function(d){H||(S(a.$$.fragment,d),S(_.$$.fragment,d),S($),S(I),S(C),H=!0)},o:function(d){j(a.$$.fragment,d),j(_.$$.fragment,d),j($),j(I),j(C),H=!1},d:function(d){d&&v(e),d&&v(r),d&&v(o),d&&v(s),d&&v(i),ee(a),ee(_),$&&$.d(),I&&I.d(),C&&C.d(),m=!1,pe()}};return z("SvelteRegisterBlock",{block:_e,id:Ee.name,type:"if",source:"(53:1) {#if $currentUser}",ctx:l}),_e}function ae(l){let e,t;e=new me({props:{label:"Notifications",$$slots:{default:[Ie]},$$scope:{ctx:l}},$$inline:!0});const r={c:function(){W(e.$$.fragment)},l:function(n){Y(e.$$.fragment,n)},m:function(n,s){x(e,n,s),t=!0},p:function(n,s){const i={};s&65544&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i:function(n){t||(S(e.$$.fragment,n),t=!0)},o:function(n){j(e.$$.fragment,n),t=!1},d:function(n){ee(e,n)}};return z("SvelteRegisterBlock",{block:r,id:ae.name,type:"if",source:"(86:4) {#if showAlertDropdown}",ctx:l}),r}function $e(l){let e,t;const r={c:function(){e=k("p"),t=X("Nothing to see here..."),this.h()},l:function(n){e=y(n,"P",{class:!0});var s=P(e);t=Z(s,"Nothing to see here..."),s.forEach(v),this.h()},h:function(){g(e,"class","text-center text-neutral-300 font-semibold mb-4"),D(e,E,104,7,3309)},m:function(n,s){L(n,e,s),w(e,t)},p:de,d:function(n){n&&v(e)}};return z("SvelteRegisterBlock",{block:r,id:$e.name,type:"else",source:"(104:6) {:else}",ctx:l}),r}function Ce(l){var A;let e,t,r,o,n,s,i,a=((A=l[3])==null?void 0:A.alerts)+"",p,_,u,f,h,c,b;const R={c:function(){e=k("div"),t=k("div"),r=k("div"),o=k("img"),s=U(),i=k("p"),p=X(a),_=U(),u=k("button"),f=k("img"),this.h()},l:function(O){e=y(O,"DIV",{class:!0});var M=P(e);t=y(M,"DIV",{class:!0});var V=P(t);r=y(V,"DIV",{class:!0});var F=P(r);o=y(F,"IMG",{src:!0,alt:!0,class:!0}),F.forEach(v),s=q(V),i=y(V,"P",{class:!0});var H=P(i);p=Z(H,a),H.forEach(v),V.forEach(v),_=q(M),u=y(M,"BUTTON",{});var m=P(u);f=y(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(v),M.forEach(v),this.h()},h:function(){Q(o.src,n="/confetti.svg")||g(o,"src",n),g(o,"alt","kaboom"),g(o,"class","w-5"),D(o,E,95,10,2979),g(r,"class","w-9 h-9 rounded-full bg-maroon-400 flex justify-center items-center bg-emerald-500"),D(r,E,92,9,2852),g(i,"class","text-sm font-semibold"),D(i,E,97,9,3057),g(t,"class","flex items-center space-x-2"),D(t,E,91,8,2801),Q(f.src,h="/close.svg")||g(f,"src",h),g(f,"alt","close that"),g(f,"class","w-3 hover:cursor-pointer"),D(f,E,100,9,3181),D(u,E,99,8,3140),g(e,"class","flex items-center justify-between hover:bg-neutral-600 p-2 rounded-md select-none"),D(e,E,88,7,2681)},m:function(O,M){L(O,e,M),w(e,t),w(t,r),w(r,o),w(t,s),w(t,i),w(i,p),w(e,_),w(e,u),w(u,f),c||(b=be(u,"click",l[8],!1,!1,!1,!1),c=!0)},p:function(O,M){var V;M&8&&a!==(a=((V=O[3])==null?void 0:V.alerts)+"")&&Te(p,a)},d:function(O){O&&v(e),c=!1,b()}};return z("SvelteRegisterBlock",{block:R,id:Ce.name,type:"if",source:"(88:6) {#if $currentUser?.alerts}",ctx:l}),R}function Ie(l){let e;function t(s,i){var a;return(a=s[3])!=null&&a.alerts?Ce:$e}let r=t(l),o=r(l);const n={c:function(){o.c(),e=we()},l:function(i){o.l(i),e=we()},m:function(i,a){o.m(i,a),L(i,e,a)},p:function(i,a){r===(r=t(i))&&o?o.p(i,a):(o.d(1),o=r(i),o&&(o.c(),o.m(e.parentNode,e)))},d:function(i){o.d(i),i&&v(e)}};return z("SvelteRegisterBlock",{block:n,id:Ie.name,type:"slot",source:'(87:5) <MediumDropdown label=\\"Notifications\\">',ctx:l}),n}function ce(l){let e,t;e=new me({props:{label:"Chats",$$slots:{default:[Be]},$$scope:{ctx:l}},$$inline:!0});const r={c:function(){W(e.$$.fragment)},l:function(n){Y(e.$$.fragment,n)},m:function(n,s){x(e,n,s),t=!0},i:function(n){t||(S(e.$$.fragment,n),t=!0)},o:function(n){j(e.$$.fragment,n),t=!1},d:function(n){ee(e,n)}};return z("SvelteRegisterBlock",{block:r,id:ce.name,type:"if",source:"(109:4) {#if showChatsDropdown}",ctx:l}),r}function Be(l){let e,t;const r={c:function(){e=k("p"),t=X("Coming Soon™"),this.h()},l:function(n){e=y(n,"P",{class:!0});var s=P(e);t=Z(s,"Coming Soon™"),s.forEach(v),this.h()},h:function(){g(e,"class","text-center text-neutral-300 font-semibold mb-4"),D(e,E,110,6,3510)},m:function(n,s){L(n,e,s),w(e,t)},p:de,d:function(n){n&&v(e)}};return z("SvelteRegisterBlock",{block:r,id:Be.name,type:"slot",source:'(110:5) <MediumDropdown label=\\"Chats\\">',ctx:l}),r}function ue(l){var o,n,s,i;let e,t;e=new ke({props:{username:l[3].username,avatar:(o=l[3])!=null&&o.avatar?oe((n=l[3])==null?void 0:n.collectionId,((s=l[3])==null?void 0:s.id)||"",(i=l[3])==null?void 0:i.avatar):"/profile.svg",onClick:l[14],onEditProfile:l[15]},$$inline:!0});const r={c:function(){W(e.$$.fragment)},l:function(p){Y(e.$$.fragment,p)},m:function(p,_){x(e,p,_),t=!0},p:function(p,_){var f,h,c,b;const u={};_&8&&(u.username=p[3].username),_&8&&(u.avatar=(f=p[3])!=null&&f.avatar?oe((h=p[3])==null?void 0:h.collectionId,((c=p[3])==null?void 0:c.id)||"",(b=p[3])==null?void 0:b.avatar):"/profile.svg"),_&8&&(u.onEditProfile=p[15]),e.$set(u)},i:function(p){t||(S(e.$$.fragment,p),t=!0)},o:function(p){j(e.$$.fragment,p),t=!1},d:function(p){ee(e,p)}};return z("SvelteRegisterBlock",{block:r,id:ue.name,type:"if",source:"(114:4) {#if showProfileDropdown}",ctx:l}),r}function fe(l){let e,t,r,o,n,s;const i=[Ee,De],a=[];function p(h,c){return h[3]?0:1}t=p(l),r=a[t]=i[t](l);const _=l[11].default,u=Re(_,l,l[16],null),f={c:function(){e=k("header"),r.c(),o=U(),n=k("main"),u&&u.c(),this.h()},l:function(c){e=y(c,"HEADER",{class:!0});var b=P(e);r.l(b),b.forEach(v),o=q(c),n=y(c,"MAIN",{class:!0});var R=P(n);u&&u.l(R),R.forEach(v),this.h()},h:function(){g(e,"class","fixed w-full bg-[#2E2E2E] text-white h-14 flex justify-between items-center px-6 drop-shadow-md z-20"),D(e,E,49,0,1351),g(n,"class","relative pt-14"),D(n,E,137,0,4474)},m:function(c,b){L(c,e,b),a[t].m(e,null),L(c,o,b),L(c,n,b),u&&u.m(n,null),s=!0},p:function(c,[b]){let R=t;t=p(c),t===R?a[t].p(c,b):(se(),j(a[R],1,1,()=>{a[R]=null}),le(),r=a[t],r?r.p(c,b):(r=a[t]=i[t](c),r.c()),S(r,1),r.m(e,null)),u&&u.p&&(!s||b&65536)&&Ge(u,_,c,c[16],s?Oe(_,c[16],b,null):Le(c[16]),null)},i:function(c){s||(S(r),S(u,c),s=!0)},o:function(c){j(r),j(u,c),s=!1},d:function(c){c&&v(e),a[t].d(),c&&v(o),c&&v(n),u&&u.d(c)}};return z("SvelteRegisterBlock",{block:f,id:fe.name,type:"component",source:"",ctx:l}),f}function qe(l,e,t){let r;je(re,"currentUser"),Ae(l,re,m=>t(3,r=m));let{$$slots:o={},$$scope:n}=e;Me("Layout",o,["default"]);let s=!1,i=!1,a=!1;function p(){t(1,i=!1),t(2,a=!1),t(0,s=!s)}function _(){t(0,s=!1),t(2,a=!1),t(1,i=!i)}function u(){t(0,s=!1),t(1,i=!1),t(2,a=!a)}function f(){ne.authStore.clear(),window.location.assign(`http://${window.location.host}/auth`)}function h(m){m==2&&f()}async function c(){if(r==null)return;const m={alerts:""};await ne.collection("users").update(r.id,m)}let b,R,A;async function N(){console.log(1),await ne.collection("users").authWithOAuth2({provider:"google"})}const O=[];Object.keys(e).forEach(m=>{!~O.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&Ue.warn(`<Layout> was created with unknown prop '${m}'`)});const M=()=>{u()},V=()=>{_()},F=m=>h(m),H=()=>window.location.assign(`http://${window.location.host}/user/${r==null?void 0:r.id}`);return l.$$set=m=>{"$$scope"in m&&t(16,n=m.$$scope)},l.$capture_state=()=>({currentUser:re,pb:ne,getImageURL:oe,CircleIcon:ie,Dropdown:ke,MediumDropdown:me,Button:ye,showProfileDropdown:s,showAlertDropdown:i,showChatsDropdown:a,toggleProfileDropdown:p,toggleAlertDropdown:_,toggleChatsDropdown:u,logout:f,dropDownClicked:h,clearAlerts:c,username:b,password:R,loading:A,login:N,$currentUser:r}),l.$inject_state=m=>{"showProfileDropdown"in m&&t(0,s=m.showProfileDropdown),"showAlertDropdown"in m&&t(1,i=m.showAlertDropdown),"showChatsDropdown"in m&&t(2,a=m.showChatsDropdown),"username"in m&&(b=m.username),"password"in m&&(R=m.password),"loading"in m&&t(9,A=m.loading)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),[s,i,a,r,p,_,u,h,c,A,N,o,M,V,F,H,n]}class Qe extends Se{constructor(e){super(e),Ne(this,e,qe,fe,Pe,{}),z("SvelteRegisterComponent",{component:this,tagName:"Layout",options:e,id:fe.name})}}export{Qe as component};
