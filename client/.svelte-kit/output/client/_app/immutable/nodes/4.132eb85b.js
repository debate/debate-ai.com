import{S as Se,i as Be,d as V,s as Pe,G as Re,K as je,L as Me,v as Ne,p as k,c as G,q as $,r as j,l as _,f as L,u as p,x as D,g as T,k as P,h as M,j as oe,H as Ae,I as Te,J as Ue,y as se,C as Y,z as le,D as Z,P as W,M as g,E as x,Q as ce,B as ne,F as ee,R as Ge,e as ke,N as $e,A as Le}from"../chunks/index.bc524795.js";/* empty css                    */import{c as re,p as ae,g as te}from"../chunks/pocketbase.f2e61b4c.js";import{C as fe,D as De,M as he}from"../chunks/MediumDropdown.ffbc9ce1.js";const y="src/routes/user/+layout.svelte";function ue(s){var we;let e,o,i,n,t,r,l,a,f,c,d,v,h,E,S,O,q,R,B,N,m,F,J,z,ie,ge;f=new fe({props:{icon:"message",onClick:s[11]},$$inline:!0}),d=new fe({props:{icon:"bell",notifications:(we=s[3])!=null&&we.alerts?1:0,onClick:s[12]},$$inline:!0});let w=s[1]&&de(s),I=s[2]&&me(s),b=s[0]&&pe(s);const ve={c:function(){e=k("button"),o=k("img"),n=G(),t=k("p"),r=se("This is a mock social media site for testing"),l=G(),a=k("div"),Y(f.$$.fragment),c=G(),Y(d.$$.fragment),v=G(),h=k("div"),E=k("button"),S=k("img"),q=G(),R=k("div"),B=k("img"),m=G(),w&&w.c(),F=G(),I&&I.c(),J=G(),b&&b.c(),this.h()},l:function(u){e=$(u,"BUTTON",{});var C=j(e);o=$(C,"IMG",{src:!0,alt:!0,class:!0}),C.forEach(_),n=L(u),t=$(u,"P",{class:!0});var H=j(t);r=le(H,"This is a mock social media site for testing"),H.forEach(_),l=L(u),a=$(u,"DIV",{class:!0});var A=j(a);Z(f.$$.fragment,A),c=L(A),Z(d.$$.fragment,A),v=L(A),h=$(A,"DIV",{class:!0});var U=j(h);E=$(U,"BUTTON",{});var Q=j(E);S=$(Q,"IMG",{src:!0,alt:!0,class:!0}),q=L(Q),R=$(Q,"DIV",{class:!0});var X=j(R);B=$(X,"IMG",{src:!0,alt:!0,class:!0}),X.forEach(_),Q.forEach(_),m=L(U),w&&w.l(U),F=L(U),I&&I.l(U),J=L(U),b&&b.l(U),U.forEach(_),A.forEach(_),this.h()},h:function(){var u,C,H,A;W(o.src,i="/placeholder-logo.svg")||p(o,"src",i),p(o,"alt","Placeholder logo"),p(o,"class","h-8"),D(o,y,46,3,1369),D(e,y,45,2,1278),p(t,"class","text-neutral-500 text-sm text-center"),D(t,y,48,2,1454),W(S.src,O=(u=s[3])!=null&&u.avatar?te((C=s[3])==null?void 0:C.collectionId,((H=s[3])==null?void 0:H.id)||"",(A=s[3])==null?void 0:A.avatar):"/profile.svg")||p(S,"src",O),p(S,"alt","Default profile"),p(S,"class","h-10 w-10 object-cover bg-white rounded-full"),D(S,y,67,5,1938),W(B.src,N="/chevron.svg")||p(B,"src",N),p(B,"alt","chevron down"),p(B,"class","w-2"),D(B,y,81,6,2423),p(R,"class","absolute -right-[2px] -bottom-[2px] border-[#2E2E2E] border-2 w-4 h-4 bg-neutral-700 rounded-full flex justify-center items-center group-hover:bg-neutral-600"),D(R,y,78,5,2233),D(E,y,66,4,1891),p(h,"class","relative group"),D(h,y,65,3,1858),p(a,"class","relative flex space-x-3 items-center group"),D(a,y,51,2,1560)},m:function(u,C){T(u,e,C),g(e,o),T(u,n,C),T(u,t,C),g(t,r),T(u,l,C),T(u,a,C),x(f,a,null),g(a,c),x(d,a,null),g(a,v),g(a,h),g(h,E),g(E,S),g(E,q),g(E,R),g(R,B),g(h,m),w&&w.m(h,null),g(h,F),I&&I.m(h,null),g(h,J),b&&b.m(h,null),z=!0,ie||(ge=[ce(e,"click",s[10],!1,!1,!1,!1),ce(E,"click",s[4],!1,!1,!1,!1)],ie=!0)},p:function(u,C){var A,U,Q,X,be;const H={};C&8&&(H.notifications=(A=u[3])!=null&&A.alerts?1:0),d.$set(H),(!z||C&8&&!W(S.src,O=(U=u[3])!=null&&U.avatar?te((Q=u[3])==null?void 0:Q.collectionId,((X=u[3])==null?void 0:X.id)||"",(be=u[3])==null?void 0:be.avatar):"/profile.svg"))&&p(S,"src",O),u[1]?w?(w.p(u,C),C&2&&P(w,1)):(w=de(u),w.c(),P(w,1),w.m(h,F)):w&&(ne(),M(w,1,1,()=>{w=null}),oe()),u[2]?I?C&4&&P(I,1):(I=me(u),I.c(),P(I,1),I.m(h,J)):I&&(ne(),M(I,1,1,()=>{I=null}),oe()),u[0]?b?(b.p(u,C),C&1&&P(b,1)):(b=pe(u),b.c(),P(b,1),b.m(h,null)):b&&(ne(),M(b,1,1,()=>{b=null}),oe())},i:function(u){z||(P(f.$$.fragment,u),P(d.$$.fragment,u),P(w),P(I),P(b),z=!0)},o:function(u){M(f.$$.fragment,u),M(d.$$.fragment,u),M(w),M(I),M(b),z=!1},d:function(u){u&&_(e),u&&_(n),u&&_(t),u&&_(l),u&&_(a),ee(f),ee(d),w&&w.d(),I&&I.d(),b&&b.d(),ie=!1,Ge(ge)}};return V("SvelteRegisterBlock",{block:ve,id:ue.name,type:"if",source:"(45:1) {#if $currentUser}",ctx:s}),ve}function de(s){let e,o;e=new he({props:{label:"Notifications",$$slots:{default:[Ie]},$$scope:{ctx:s}},$$inline:!0});const i={c:function(){Y(e.$$.fragment)},l:function(t){Z(e.$$.fragment,t)},m:function(t,r){x(e,t,r),o=!0},p:function(t,r){const l={};r&32776&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i:function(t){o||(P(e.$$.fragment,t),o=!0)},o:function(t){M(e.$$.fragment,t),o=!1},d:function(t){ee(e,t)}};return V("SvelteRegisterBlock",{block:i,id:de.name,type:"if",source:"(86:4) {#if showAlertDropdown}",ctx:s}),i}function ye(s){let e,o;const i={c:function(){e=k("p"),o=se("Nothing to see here..."),this.h()},l:function(t){e=$(t,"P",{class:!0});var r=j(e);o=le(r,"Nothing to see here..."),r.forEach(_),this.h()},h:function(){p(e,"class","text-center text-neutral-300 font-semibold mb-4"),D(e,y,104,7,3248)},m:function(t,r){T(t,e,r),g(e,o)},p:$e,d:function(t){t&&_(e)}};return V("SvelteRegisterBlock",{block:i,id:ye.name,type:"else",source:"(104:6) {:else}",ctx:s}),i}function Ee(s){var q;let e,o,i,n,t,r,l,a=((q=s[3])==null?void 0:q.alerts)+"",f,c,d,v,h,E,S;const O={c:function(){e=k("div"),o=k("div"),i=k("div"),n=k("img"),r=G(),l=k("p"),f=se(a),c=G(),d=k("button"),v=k("img"),this.h()},l:function(B){e=$(B,"DIV",{class:!0});var N=j(e);o=$(N,"DIV",{class:!0});var m=j(o);i=$(m,"DIV",{class:!0});var F=j(i);n=$(F,"IMG",{src:!0,alt:!0,class:!0}),F.forEach(_),r=L(m),l=$(m,"P",{class:!0});var J=j(l);f=le(J,a),J.forEach(_),m.forEach(_),c=L(N),d=$(N,"BUTTON",{});var z=j(d);v=$(z,"IMG",{src:!0,alt:!0,class:!0}),z.forEach(_),N.forEach(_),this.h()},h:function(){W(n.src,t="/confetti.svg")||p(n,"src",t),p(n,"alt","kaboom"),p(n,"class","w-5"),D(n,y,95,10,2918),p(i,"class","w-9 h-9 rounded-full bg-maroon-400 flex justify-center items-center bg-emerald-500"),D(i,y,92,9,2791),p(l,"class","text-sm font-semibold"),D(l,y,97,9,2996),p(o,"class","flex items-center space-x-2"),D(o,y,91,8,2740),W(v.src,h="/close.svg")||p(v,"src",h),p(v,"alt","close that"),p(v,"class","w-3 hover:cursor-pointer"),D(v,y,100,9,3120),D(d,y,99,8,3079),p(e,"class","flex items-center justify-between hover:bg-neutral-600 p-2 rounded-md select-none"),D(e,y,88,7,2620)},m:function(B,N){T(B,e,N),g(e,o),g(o,i),g(i,n),g(o,r),g(o,l),g(l,f),g(e,c),g(e,d),g(d,v),E||(S=ce(d,"click",s[8],!1,!1,!1,!1),E=!0)},p:function(B,N){var m;N&8&&a!==(a=((m=B[3])==null?void 0:m.alerts)+"")&&Le(f,a)},d:function(B){B&&_(e),E=!1,S()}};return V("SvelteRegisterBlock",{block:O,id:Ee.name,type:"if",source:"(88:6) {#if $currentUser?.alerts}",ctx:s}),O}function Ie(s){let e;function o(r,l){var a;return(a=r[3])!=null&&a.alerts?Ee:ye}let i=o(s),n=i(s);const t={c:function(){n.c(),e=ke()},l:function(l){n.l(l),e=ke()},m:function(l,a){n.m(l,a),T(l,e,a)},p:function(l,a){i===(i=o(l))&&n?n.p(l,a):(n.d(1),n=i(l),n&&(n.c(),n.m(e.parentNode,e)))},d:function(l){n.d(l),l&&_(e)}};return V("SvelteRegisterBlock",{block:t,id:Ie.name,type:"slot",source:'(87:5) <MediumDropdown label=\\"Notifications\\">',ctx:s}),t}function me(s){let e,o;e=new he({props:{label:"Chats",$$slots:{default:[Ce]},$$scope:{ctx:s}},$$inline:!0});const i={c:function(){Y(e.$$.fragment)},l:function(t){Z(e.$$.fragment,t)},m:function(t,r){x(e,t,r),o=!0},i:function(t){o||(P(e.$$.fragment,t),o=!0)},o:function(t){M(e.$$.fragment,t),o=!1},d:function(t){ee(e,t)}};return V("SvelteRegisterBlock",{block:i,id:me.name,type:"if",source:"(109:4) {#if showChatsDropdown}",ctx:s}),i}function Ce(s){let e,o;const i={c:function(){e=k("p"),o=se("Coming Soon™"),this.h()},l:function(t){e=$(t,"P",{class:!0});var r=j(e);o=le(r,"Coming Soon™"),r.forEach(_),this.h()},h:function(){p(e,"class","text-center text-neutral-300 font-semibold mb-4"),D(e,y,110,6,3449)},m:function(t,r){T(t,e,r),g(e,o)},p:$e,d:function(t){t&&_(e)}};return V("SvelteRegisterBlock",{block:i,id:Ce.name,type:"slot",source:'(110:5) <MediumDropdown label=\\"Chats\\">',ctx:s}),i}function pe(s){var n,t,r,l;let e,o;e=new De({props:{avatar:(n=s[3])!=null&&n.avatar?te((t=s[3])==null?void 0:t.collectionId,((r=s[3])==null?void 0:r.id)||"",(l=s[3])==null?void 0:l.avatar):"/profile.svg",username:s[3].username,onClick:s[13],onEditProfile:s[14]},$$inline:!0});const i={c:function(){Y(e.$$.fragment)},l:function(f){Z(e.$$.fragment,f)},m:function(f,c){x(e,f,c),o=!0},p:function(f,c){var v,h,E,S;const d={};c&8&&(d.avatar=(v=f[3])!=null&&v.avatar?te((h=f[3])==null?void 0:h.collectionId,((E=f[3])==null?void 0:E.id)||"",(S=f[3])==null?void 0:S.avatar):"/profile.svg"),c&8&&(d.username=f[3].username),c&8&&(d.onEditProfile=f[14]),e.$set(d)},i:function(f){o||(P(e.$$.fragment,f),o=!0)},o:function(f){M(e.$$.fragment,f),o=!1},d:function(f){ee(e,f)}};return V("SvelteRegisterBlock",{block:i,id:pe.name,type:"if",source:"(114:4) {#if showProfileDropdown}",ctx:s}),i}function _e(s){let e,o,i,n,t=s[3]&&ue(s);const r=s[9].default,l=Re(r,s,s[15],null),a={c:function(){e=k("header"),t&&t.c(),o=G(),i=k("main"),l&&l.c(),this.h()},l:function(c){e=$(c,"HEADER",{class:!0});var d=j(e);t&&t.l(d),d.forEach(_),o=L(c),i=$(c,"MAIN",{});var v=j(i);l&&l.l(v),v.forEach(_),this.h()},h:function(){p(e,"class","fixed w-full bg-[#2E2E2E] text-white h-14 flex justify-between items-center px-6 drop-shadow-md z-20"),D(e,y,41,0,1136),D(i,y,132,0,4058)},m:function(c,d){T(c,e,d),t&&t.m(e,null),T(c,o,d),T(c,i,d),l&&l.m(i,null),n=!0},p:function(c,[d]){c[3]?t?(t.p(c,d),d&8&&P(t,1)):(t=ue(c),t.c(),P(t,1),t.m(e,null)):t&&(ne(),M(t,1,1,()=>{t=null}),oe()),l&&l.p&&(!n||d&32768)&&Ae(l,r,c,c[15],n?Ue(r,c[15],d,null):Te(c[15]),null)},i:function(c){n||(P(t),P(l,c),n=!0)},o:function(c){M(t),M(l,c),n=!1},d:function(c){c&&_(e),t&&t.d(),c&&_(o),c&&_(i),l&&l.d(c)}};return V("SvelteRegisterBlock",{block:a,id:_e.name,type:"component",source:"",ctx:s}),a}function Ve(s,e,o){let i;je(re,"currentUser"),Me(s,re,m=>o(3,i=m));let{$$slots:n={},$$scope:t}=e;Ne("Layout",n,["default"]);let r=!1,l=!1,a=!1;function f(){o(1,l=!1),o(2,a=!1),o(0,r=!r)}function c(){o(0,r=!1),o(2,a=!1),o(1,l=!l)}function d(){o(0,r=!1),o(1,l=!1),o(2,a=!a)}function v(){ae.authStore.clear(),window.location.assign(`http://${window.location.host}/auth`)}function h(m){m==2&&v()}async function E(){if(i==null)return;const m={alerts:""};await ae.collection("users").update(i.id,m)}const S=[];Object.keys(e).forEach(m=>{!~S.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<Layout> was created with unknown prop '${m}'`)});const O=()=>window.location.assign(`http://${window.location.host}/home`),q=()=>{d()},R=()=>{c()},B=m=>h(m),N=()=>window.location.assign(`http://${window.location.host}/user/${i==null?void 0:i.id}`);return s.$$set=m=>{"$$scope"in m&&o(15,t=m.$$scope)},s.$capture_state=()=>({currentUser:re,pb:ae,getImageURL:te,CircleIcon:fe,Dropdown:De,MediumDropdown:he,showProfileDropdown:r,showAlertDropdown:l,showChatsDropdown:a,toggleProfileDropdown:f,toggleAlertDropdown:c,toggleChatsDropdown:d,logout:v,dropDownClicked:h,clearAlerts:E,$currentUser:i}),s.$inject_state=m=>{"showProfileDropdown"in m&&o(0,r=m.showProfileDropdown),"showAlertDropdown"in m&&o(1,l=m.showAlertDropdown),"showChatsDropdown"in m&&o(2,a=m.showChatsDropdown)},e&&"$$inject"in e&&s.$inject_state(e.$$inject),[r,l,a,i,f,c,d,h,E,n,O,q,R,B,N,t]}class Fe extends Se{constructor(e){super(e),Be(this,e,Ve,_e,Pe,{}),V("SvelteRegisterComponent",{component:this,tagName:"Layout",options:e,id:_e.name})}}export{Fe as component};
