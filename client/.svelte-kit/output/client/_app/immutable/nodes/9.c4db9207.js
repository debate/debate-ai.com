import{S as Ut,i as Bt,s as Lt,d as q,v as Mt,p as _,y as V,c as R,q as v,r as w,z as C,l as m,f as N,u as d,x as p,P as Se,g as le,M as a,U as Je,Q as Le,T as ao,A as Ae,N as me,R as Ft,m as uo,K as vt,L as pt,o as ct,Z as at,X as ut,k as ee,B as Ge,h as de,j as He,C as xe,D as $e,E as et,F as tt,a0 as fo,O as ho,e as ft,Y as Ct,_ as mo,$ as _o}from"../chunks/index.bc524795.js";import{c as We,p as Fe,g as Xe}from"../chunks/pocketbase.f2e61b4c.js";import{p as mt}from"../chunks/stores.518ce552.js";import{T as Gt,S as Ht,H as zt}from"../chunks/HoverDropdown.b15a08e3.js";const Y="src/lib/EditModal.svelte";function gt(o){let e,t,l,s,n,r,c,f,i,u,g,k,y,P,S,B=o[10]/1e6+"",M,J,X,A,K,te,E,x,$,b,I,z,h,G,ae,_e,se,Re,we,O,he,ce,j,W,Q,re,ie,ke,L,U,ne,Me,ue,ve,Ne,oe,Ee,Ie,Te,Pe,je,Ue,Ke,Qe,Be,Ye,H,D,T,fe;const ye={c:function(){e=_("div"),t=_("div"),l=_("h3"),s=V("Edit Profile"),n=R(),r=_("button"),c=_("img"),i=R(),u=_("div"),g=R(),k=_("p"),y=V("Profile Picture "),P=_("span"),S=V("(Max "),M=V(B),J=V("Mb)"),X=R(),A=_("div"),K=_("img"),E=R(),x=_("div"),$=_("div"),b=_("div"),I=_("p"),z=V("Preview:"),h=R(),G=_("p"),ae=V(o[5]),_e=V("Mb"),Re=R(),we=_("img"),he=R(),ce=_("label"),j=_("input"),W=V(`
					Upload File`),Q=R(),re=_("p"),ie=V("Name"),ke=R(),L=_("div"),U=_("div"),ne=_("label"),Me=V("First"),ue=R(),ve=_("input"),Ne=R(),oe=_("div"),Ee=_("label"),Ie=V("Last"),Te=R(),Pe=_("input"),je=R(),Ue=_("p"),Ke=V("Bio"),Qe=R(),Be=_("textarea"),Ye=R(),H=_("button"),D=V("Save Changes"),this.h()},l:function(De){e=v(De,"DIV",{class:!0});var be=w(e);t=v(be,"DIV",{class:!0});var Z=w(t);l=v(Z,"H3",{class:!0});var Ve=w(l);s=C(Ve,"Edit Profile"),Ve.forEach(m),n=N(Z),r=v(Z,"BUTTON",{});var Ze=w(r);c=v(Ze,"IMG",{src:!0,alt:!0,class:!0}),Ze.forEach(m),i=N(Z),u=v(Z,"DIV",{class:!0}),w(u).forEach(m),g=N(Z),k=v(Z,"P",{class:!0});var Oe=w(k);y=C(Oe,"Profile Picture "),P=v(Oe,"SPAN",{class:!0});var ze=w(P);S=C(ze,"(Max "),M=C(ze,B),J=C(ze,"Mb)"),ze.forEach(m),Oe.forEach(m),X=N(Z),A=v(Z,"DIV",{class:!0});var Ce=w(A);K=v(Ce,"IMG",{src:!0,alt:!0,class:!0}),E=N(Ce),x=v(Ce,"DIV",{class:!0});var qe=w(x);$=v(qe,"DIV",{class:!0});var ot=w($);b=v(ot,"DIV",{});var nt=w(b);I=v(nt,"P",{class:!0});var At=w(I);z=C(At,"Preview:"),At.forEach(m),h=N(nt),G=v(nt,"P",{class:!0});var dt=w(G);ae=C(dt,o[5]),_e=C(dt,"Mb"),dt.forEach(m),nt.forEach(m),Re=N(ot),we=v(ot,"IMG",{src:!0,alt:!0,class:!0}),ot.forEach(m),he=N(qe),ce=v(qe,"LABEL",{class:!0});var ht=w(ce);j=v(ht,"INPUT",{type:!0,accept:!0,class:!0}),W=C(ht,`
					Upload File`),ht.forEach(m),qe.forEach(m),Ce.forEach(m),Q=N(Z),re=v(Z,"P",{class:!0});var Rt=w(re);ie=C(Rt,"Name"),Rt.forEach(m),ke=N(Z),L=v(Z,"DIV",{class:!0});var lt=w(L);U=v(lt,"DIV",{class:!0});var st=w(U);ne=v(st,"LABEL",{for:!0,class:!0});var Nt=w(ne);Me=C(Nt,"First"),Nt.forEach(m),ue=N(st),ve=v(st,"INPUT",{class:!0,maxlength:!0}),st.forEach(m),Ne=N(lt),oe=v(lt,"DIV",{class:!0});var rt=w(oe);Ee=v(rt,"LABEL",{for:!0,class:!0});var jt=w(Ee);Ie=C(jt,"Last"),jt.forEach(m),Te=N(rt),Pe=v(rt,"INPUT",{class:!0,maxlength:!0}),rt.forEach(m),lt.forEach(m),je=N(Z),Ue=v(Z,"P",{class:!0});var Tt=w(Ue);Ke=C(Tt,"Bio"),Tt.forEach(m),Qe=N(Z),Be=v(Z,"TEXTAREA",{class:!0,rows:!0,maxlength:!0}),w(Be).forEach(m),Ye=N(Z),H=v(Z,"BUTTON",{class:!0});var Vt=w(H);D=C(Vt,"Save Changes"),Vt.forEach(m),Z.forEach(m),be.forEach(m),this.h()},h:function(){d(l,"class","text-center text-lg font-semibold mb-4 "),p(l,Y,25,2,679),Se(c.src,f="/close.svg")||d(c,"src",f),d(c,"alt","Close modal"),d(c,"class","absolute top-4 right-4 bg-neutral-600 rounded-full h-8 p-2"),p(c,Y,27,3,782),p(r,Y,26,2,751),d(u,"class","w-[500px] h-[1px] bg-neutral-700 mb-4 -ml-5"),p(u,Y,33,2,921),d(P,"class","text-sm text-neutral-400"),p(P,Y,35,19,1050),d(k,"class","font-semibold mb-4 text-neutral-300"),p(k,Y,34,2,983),Se(K.src,te=o[2])||d(K,"src",te),d(K,"alt","Profile Icon"),d(K,"class","w-32 h-32 bg-white rounded-full object-cover"),p(K,Y,38,3,1193),d(I,"class","font-semibold text-neutral-300"),p(I,Y,46,6,1412),d(G,"class",se=o[5]>o[10]/1e6?"text-red-400 font-semibold text-sm":"text-neutral-400 text-sm"),p(G,Y,47,6,1473),p(b,Y,45,5,1400),Se(we.src,O="/profile.svg")||d(we,"src",O),d(we,"alt","Profile Icon"),d(we,"class","w-12 h-12 bg-white rounded-full object-cover"),p(we,Y,55,5,1664),d($,"class","flex space-x-8"),p($,Y,44,4,1366),d(j,"type","file"),d(j,"accept",".png, .jpg, .jpeg"),d(j,"class","hidden"),p(j,Y,65,5,2002),d(ce,"class","hover:cursor-pointer bg-[#378E8B] rounded-md p-2 font-semibold flex justify-center items-center w-36 hover:bg-[#2d7e7b] text-white text-sm"),p(ce,Y,62,4,1832),d(x,"class","flex flex-col items-center space-y-6"),p(x,Y,43,3,1311),d(A,"class","flex justify-around items-center my-4"),p(A,Y,37,2,1138),d(re,"class","font-semibold mb-4 text-neutral-300"),p(re,Y,75,2,2174),d(ne,"for","firstName"),d(ne,"class","text-neutral-400 font-semibold mb-2 text-sm"),p(ne,Y,78,4,2303),d(ve,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),d(ve,"maxlength","24"),p(ve,Y,79,4,2396),d(U,"class","flex flex-col flex-1"),p(U,Y,77,3,2264),d(Ee,"for","lastName"),d(Ee,"class","text-neutral-400 font-semibold mb-2 text-sm"),p(Ee,Y,82,4,2540),d(Pe,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),d(Pe,"maxlength","24"),p(Pe,Y,83,4,2631),d(oe,"class","flex flex-col flex-1"),p(oe,Y,81,3,2501),d(L,"class","flex space-x-4"),p(L,Y,76,2,2232),d(Ue,"class","font-semibold mb-4 text-neutral-300"),p(Ue,Y,86,2,2743),d(Be,"class","bg-[#1b1b1b] p-2 rounded-[4px] mb-4"),d(Be,"rows","4"),d(Be,"maxlength","512"),p(Be,Y,87,2,2800),d(H,"class","rounded-md bg-[#378E8B] hover:bg-[#2d7e7b] p-2 px-4"),p(H,Y,93,2,2919),d(t,"class","relative bg-[#333333] w-[500px] rounded-md text-white p-5 flex flex-col"),p(t,Y,24,1,591),d(e,"class","absolute left-0 top-0 w-screen h-screen bg-black/20 z-50 flex justify-center items-center overflow-y-auto"),p(e,Y,21,0,468)},m:function(De,be){le(De,e,be),a(e,t),a(t,l),a(l,s),a(t,n),a(t,r),a(r,c),a(t,i),a(t,u),a(t,g),a(t,k),a(k,y),a(k,P),a(P,S),a(P,M),a(P,J),a(t,X),a(t,A),a(A,K),a(A,E),a(A,x),a(x,$),a($,b),a(b,I),a(I,z),a(b,h),a(b,G),a(G,ae),a(G,_e),a($,Re),a($,we),o[11](we),a(x,he),a(x,ce),a(ce,j),a(ce,W),a(t,Q),a(t,re),a(re,ie),a(t,ke),a(t,L),a(L,U),a(U,ne),a(ne,Me),a(U,ue),a(U,ve),Je(ve,o[7]),a(L,Ne),a(L,oe),a(oe,Ee),a(Ee,Ie),a(oe,Te),a(oe,Pe),Je(Pe,o[8]),a(t,je),a(t,Ue),a(Ue,Ke),a(t,Qe),a(t,Be),Je(Be,o[9]),a(t,Ye),a(t,H),a(H,D),T||(fe=[Le(r,"click",function(){ao(o[1])&&o[1].apply(this,arguments)},!1,!1,!1,!1),Le(j,"change",o[12]),Le(ve,"input",o[13]),Le(Pe,"input",o[14]),Le(Be,"input",o[15]),Le(H,"click",o[16],!1,!1,!1,!1)],T=!0)},p:function(De,[be]){o=De,be&4&&!Se(K.src,te=o[2])&&d(K,"src",te),be&32&&Ae(ae,o[5]),be&32&&se!==(se=o[5]>o[10]/1e6?"text-red-400 font-semibold text-sm":"text-neutral-400 text-sm")&&d(G,"class",se),be&128&&ve.value!==o[7]&&Je(ve,o[7]),be&256&&Pe.value!==o[8]&&Je(Pe,o[8]),be&512&&Je(Be,o[9])},i:me,o:me,d:function(De){De&&m(e),o[11](null),T=!1,Ft(fe)}};return q("SvelteRegisterBlock",{block:ye,id:gt.name,type:"component",source:"",ctx:o}),ye}function vo(o,e,t){let{$$slots:l={},$$scope:s}=e;Mt("EditModal",l,[]);let{onSave:n}=e,{onClose:r}=e,{currentAvatar:c}=e,f,i="",u=0,g=1e6,k,y,P,S;o.$$.on_mount.push(function(){n===void 0&&!("onSave"in e||o.$$.bound[o.$$.props.onSave])&&console.warn("<EditModal> was created without expected prop 'onSave'"),r===void 0&&!("onClose"in e||o.$$.bound[o.$$.props.onClose])&&console.warn("<EditModal> was created without expected prop 'onClose'"),c===void 0&&!("currentAvatar"in e||o.$$.bound[o.$$.props.currentAvatar])&&console.warn("<EditModal> was created without expected prop 'currentAvatar'")});const B=["onSave","onClose","currentAvatar"];Object.keys(e).forEach(E=>{!~B.indexOf(E)&&E.slice(0,2)!=="$$"&&E!=="slot"&&console.warn(`<EditModal> was created with unknown prop '${E}'`)});function M(E){uo[E?"unshift":"push"](()=>{k=E,t(6,k),t(3,f),t(4,i)})}function J(){f=this.files,t(3,f)}function X(){y=this.value,t(7,y)}function A(){P=this.value,t(8,P)}function K(){S=this.value,t(9,S)}const te=()=>n(y||"",P||"",S||"",i||"");return o.$$set=E=>{"onSave"in E&&t(0,n=E.onSave),"onClose"in E&&t(1,r=E.onClose),"currentAvatar"in E&&t(2,c=E.currentAvatar)},o.$capture_state=()=>({onSave:n,onClose:r,currentAvatar:c,profilePicture:f,currentPicture:i,fileSize:u,maxFileSize:g,previewPhoto:k,firstName:y,lastName:P,bioText:S}),o.$inject_state=E=>{"onSave"in E&&t(0,n=E.onSave),"onClose"in E&&t(1,r=E.onClose),"currentAvatar"in E&&t(2,c=E.currentAvatar),"profilePicture"in E&&t(3,f=E.profilePicture),"currentPicture"in E&&t(4,i=E.currentPicture),"fileSize"in E&&t(5,u=E.fileSize),"maxFileSize"in E&&t(10,g=E.maxFileSize),"previewPhoto"in E&&t(6,k=E.previewPhoto),"firstName"in E&&t(7,y=E.firstName),"lastName"in E&&t(8,P=E.lastName),"bioText"in E&&t(9,S=E.bioText)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&24&&f&&(t(4,i=f[0]),i&&(t(5,u=Math.round((i==null?void 0:i.size)/1e3)/1e3),t(6,k.src=URL.createObjectURL(i),k)))},[n,r,c,f,i,u,k,y,P,S,g,M,J,X,A,K,te]}class qt extends Ut{constructor(e){super(e),Bt(this,e,vo,gt,Lt,{onSave:0,onClose:1,currentAvatar:2}),q("SvelteRegisterComponent",{component:this,tagName:"EditModal",options:e,id:gt.name})}get onSave(){throw new Error("<EditModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSave(e){throw new Error("<EditModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onClose(){throw new Error("<EditModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onClose(e){throw new Error("<EditModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentAvatar(){throw new Error("<EditModal>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentAvatar(e){throw new Error("<EditModal>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ge="src/lib/SmallPost.svelte";function Ot(o,e,t){const l=o.slice();return l[23]=e[t],l}function bt(o){var s;let e,t;e=new Ht({props:{onDelete:o[18],showDelete:((s=o[12])==null?void 0:s.id)===o[1]},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(r){$e(e.$$.fragment,r)},m:function(r,c){et(e,r,c),t=!0},p:function(r,c){var i;const f={};c&129&&(f.onDelete=r[18]),c&4098&&(f.showDelete=((i=r[12])==null?void 0:i.id)===r[1]),e.$set(f)},i:function(r){t||(ee(e.$$.fragment,r),t=!0)},o:function(r){de(e.$$.fragment,r),t=!1},d:function(r){tt(e,r)}};return q("SvelteRegisterBlock",{block:l,id:bt.name,type:"if",source:"(43:1) {#if showPostDropdown}",ctx:o}),l}function Xt(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/heart.svg")||d(e,"src",t),d(e,"alt","Dot Dot Dot"),d(e,"class","w-4 hover:cursor-pointer"),p(e,ge,69,15,1955)},m:function(n,r){le(n,e,r)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:Xt.name,type:"else",source:"(70:8) {:else}",ctx:o}),l}function Kt(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/heart-full.svg")||d(e,"src",t),d(e,"alt","Dot Dot Dot"),d(e,"class","w-4 hover:cursor-pointer"),p(e,ge,65,20,1841)},m:function(n,r){le(n,e,r)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:Kt.name,type:"if",source:"(66:5) {#if userLiked}",ctx:o}),l}function wt(o){let e,t;e=new zt({props:{$$slots:{default:[Qt]},$$scope:{ctx:o}},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(n){$e(e.$$.fragment,n)},m:function(n,r){et(e,n,r),t=!0},i:function(n){t||(ee(e.$$.fragment,n),t=!0)},o:function(n){de(e.$$.fragment,n),t=!1},d:function(n){tt(e,n)}};return q("SvelteRegisterBlock",{block:l,id:wt.name,type:"if",source:"(97:3) {#if showLikesDropdown}",ctx:o}),l}function Qt(o){let e;const t={c:function(){e=V("(call back to page and show load state while gathering most recent likes)")},l:function(s){e=C(s,"(call back to page and show load state while gathering most recent likes)")},m:function(s,n){le(s,e,n)},d:function(s){s&&m(e)}};return q("SvelteRegisterBlock",{block:t,id:Qt.name,type:"slot",source:"(98:3) <HoverDropdown>",ctx:o}),t}function kt(o){let e,t,l=o[8];ut(l);let s=[];for(let c=0;c<l.length;c+=1)s[c]=Et(Ot(o,l,c));const n=c=>de(s[c],1,1,()=>{s[c]=null}),r={c:function(){e=_("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l:function(f){e=v(f,"DIV",{class:!0});var i=w(e);for(let u=0;u<s.length;u+=1)s[u].l(i);i.forEach(m),this.h()},h:function(){d(e,"class","flex space-x-2 mb-4 flex-wrap"),p(e,ge,104,3,2839)},m:function(f,i){le(f,e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);t=!0},p:function(f,i){if(i&256){l=f[8],ut(l);let u;for(u=0;u<l.length;u+=1){const g=Ot(f,l,u);s[u]?(s[u].p(g,i),ee(s[u],1)):(s[u]=Et(g),s[u].c(),ee(s[u],1),s[u].m(e,null))}for(Ge(),u=l.length;u<s.length;u+=1)n(u);He()}},i:function(f){if(!t){for(let i=0;i<l.length;i+=1)ee(s[i]);t=!0}},o:function(f){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)de(s[i]);t=!1},d:function(f){f&&m(e),fo(s,f)}};return q("SvelteRegisterBlock",{block:r,id:kt.name,type:"if",source:"(104:2) {#if tagArr.length > 0}",ctx:o}),r}function Et(o){let e,t;e=new Gt({props:{label:o[23]},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(n){$e(e.$$.fragment,n)},m:function(n,r){et(e,n,r),t=!0},p:function(n,r){const c={};r&256&&(c.label=n[23]),e.$set(c)},i:function(n){t||(ee(e.$$.fragment,n),t=!0)},o:function(n){de(e.$$.fragment,n),t=!1},d:function(n){tt(e,n)}};return q("SvelteRegisterBlock",{block:l,id:Et.name,type:"each",source:"(106:4) {#each tagArr as tag}",ctx:o}),l}function Pt(o){var ie;let e,t,l,s,n,r,c,f,i,u,g,k,y,P,S,B,M,J,X,A,K,te,E,x,$,b,I,z=((ie=o[6])==null?void 0:ie.length)+"",h,G,ae,_e,se,Re,we,O=o[10]&&bt(o);function he(ke,L){return ke[9]?Kt:Xt}let ce=he(o),j=ce(o),W=o[11]&&wt(o),Q=o[8].length>0&&kt(o);const re={c:function(){e=_("div"),O&&O.c(),t=R(),l=_("div"),s=_("div"),n=_("div"),r=_("img"),f=R(),i=_("div"),u=_("button"),g=V(o[4]),k=R(),y=_("h4"),P=V(o[5]),S=R(),B=_("div"),M=_("button"),j.c(),J=R(),X=_("button"),A=_("img"),te=R(),E=_("p"),x=V(o[3]),$=R(),b=_("div"),I=_("p"),h=V(z),G=V(" likes"),ae=R(),W&&W.c(),_e=R(),Q&&Q.c(),this.h()},l:function(L){e=v(L,"DIV",{class:!0});var U=w(e);O&&O.l(U),t=N(U),l=v(U,"DIV",{class:!0});var ne=w(l);s=v(ne,"DIV",{class:!0});var Me=w(s);n=v(Me,"DIV",{class:!0});var ue=w(n);r=v(ue,"IMG",{src:!0,alt:!0,class:!0}),f=N(ue),i=v(ue,"DIV",{class:!0});var ve=w(i);u=v(ve,"BUTTON",{class:!0});var Ne=w(u);g=C(Ne,o[4]),Ne.forEach(m),k=N(ve),y=v(ve,"H4",{class:!0});var oe=w(y);P=C(oe,o[5]),oe.forEach(m),ve.forEach(m),ue.forEach(m),S=N(Me),B=v(Me,"DIV",{class:!0});var Ee=w(B);M=v(Ee,"BUTTON",{});var Ie=w(M);j.l(Ie),Ie.forEach(m),J=N(Ee),X=v(Ee,"BUTTON",{class:!0});var Te=w(X);A=v(Te,"IMG",{src:!0,alt:!0,class:!0}),Te.forEach(m),Ee.forEach(m),Me.forEach(m),te=N(ne),E=v(ne,"P",{class:!0});var Pe=w(E);x=C(Pe,o[3]),Pe.forEach(m),$=N(ne),b=v(ne,"DIV",{class:!0});var je=w(b);I=v(je,"P",{class:!0});var Ue=w(I);h=C(Ue,z),G=C(Ue," likes"),Ue.forEach(m),ae=N(je),W&&W.l(je),je.forEach(m),_e=N(ne),Q&&Q.l(ne),ne.forEach(m),U.forEach(m),this.h()},h:function(){Se(r.src,c=o[2])||d(r,"src",c),d(r,"alt","Profile Icon"),d(r,"class","h-10 w-10 object-cover mr-3 hover:cursor-pointer rounded-full bg-white"),p(r,ge,48,4,1273),d(u,"class","font-semibold hover:underline cursor-pointer text-left"),p(u,ge,54,5,1454),d(y,"class","text-sm text-neutral-300"),p(y,ge,60,5,1671),d(i,"class","flex flex-col"),p(i,ge,53,4,1421),d(n,"class","flex items-center"),p(n,ge,47,3,1237),p(M,ge,64,4,1777),Se(A.src,K="/dots.svg")||d(A,"src",K),d(A,"alt","Dot Dot Dot"),d(A,"class","w-4 hover:cursor-pointer"),p(A,ge,79,5,2223),d(X,"class","w-8 h-8 flex items-center justify-center rounded-full hover:bg-neutral-600"),p(X,ge,75,4,2081),d(B,"class","flex space-x-2"),p(B,ge,63,3,1744),d(s,"class","flex items-center justify-between mb-2"),p(s,ge,46,2,1181),d(E,"class","mb-4"),p(E,ge,84,2,2334),d(I,"class","hover:underline cursor-pointer"),p(I,ge,89,3,2451),d(b,"class","relative text-sm flex text-neutral-300 justify-between mb-4"),p(b,ge,88,2,2374),d(l,"class","bg-[#333333] w-[500px] rounded-md drop-shadow-md text-white p-5"),p(l,ge,45,1,1101),d(e,"class","relative"),p(e,ge,41,0,953)},m:function(L,U){le(L,e,U),O&&O.m(e,null),a(e,t),a(e,l),a(l,s),a(s,n),a(n,r),a(n,f),a(n,i),a(i,u),a(u,g),a(i,k),a(i,y),a(y,P),a(s,S),a(s,B),a(B,M),j.m(M,null),a(B,J),a(B,X),a(X,A),a(l,te),a(l,E),a(E,x),a(l,$),a(l,b),a(b,I),a(I,h),a(I,G),a(b,ae),W&&W.m(b,null),a(l,_e),Q&&Q.m(l,null),se=!0,Re||(we=[Le(u,"click",o[19],!1,!1,!1,!1),Le(M,"click",o[20],!1,!1,!1,!1),Le(X,"click",o[13],!1,!1,!1,!1),Le(I,"pointerenter",o[21],!1,!1,!1,!1),Le(I,"pointerleave",o[22],!1,!1,!1,!1)],Re=!0)},p:function(L,[U]){var ne;L[10]?O?(O.p(L,U),U&1024&&ee(O,1)):(O=bt(L),O.c(),ee(O,1),O.m(e,t)):O&&(Ge(),de(O,1,1,()=>{O=null}),He()),(!se||U&4&&!Se(r.src,c=L[2]))&&d(r,"src",c),(!se||U&16)&&Ae(g,L[4]),(!se||U&32)&&Ae(P,L[5]),ce!==(ce=he(L))&&(j.d(1),j=ce(L),j&&(j.c(),j.m(M,null))),(!se||U&8)&&Ae(x,L[3]),(!se||U&64)&&z!==(z=((ne=L[6])==null?void 0:ne.length)+"")&&Ae(h,z),L[11]?W?U&2048&&ee(W,1):(W=wt(L),W.c(),ee(W,1),W.m(b,null)):W&&(Ge(),de(W,1,1,()=>{W=null}),He()),L[8].length>0?Q?(Q.p(L,U),U&256&&ee(Q,1)):(Q=kt(L),Q.c(),ee(Q,1),Q.m(l,null)):Q&&(Ge(),de(Q,1,1,()=>{Q=null}),He())},i:function(L){se||(ee(O),ee(W),ee(Q),se=!0)},o:function(L){de(O),de(W),de(Q),se=!1},d:function(L){L&&m(e),O&&O.d(),j.d(),W&&W.d(),Q&&Q.d(),Re=!1,Ft(we)}};return q("SvelteRegisterBlock",{block:re,id:Pt.name,type:"component",source:"",ctx:o}),re}function po(o,e,t){let l;vt(We,"currentUser"),pt(o,We,h=>t(12,l=h));let{$$slots:s={},$$scope:n}=e;Mt("SmallPost",s,[]);let{id:r}=e,{authorId:c}=e,{authorAvatar:f}=e,{content:i}=e,{tags:u}=e,{author:g}=e,{date:k}=e,{likes:y=[]}=e,{onLike:P}=e,{onUnlike:S}=e,{onDelete:B}=e,M=[],J=!1,X=!1,A=!1;function K(){t(10,X=!X)}function te(h){J?S(h):P(h)}ct(()=>{t(8,M=u.split(" ")),M[0]===""&&t(8,M=[])}),at(()=>{l!=null&&t(9,J=y.includes(l.id))}),o.$$.on_mount.push(function(){r===void 0&&!("id"in e||o.$$.bound[o.$$.props.id])&&console.warn("<SmallPost> was created without expected prop 'id'"),c===void 0&&!("authorId"in e||o.$$.bound[o.$$.props.authorId])&&console.warn("<SmallPost> was created without expected prop 'authorId'"),f===void 0&&!("authorAvatar"in e||o.$$.bound[o.$$.props.authorAvatar])&&console.warn("<SmallPost> was created without expected prop 'authorAvatar'"),i===void 0&&!("content"in e||o.$$.bound[o.$$.props.content])&&console.warn("<SmallPost> was created without expected prop 'content'"),u===void 0&&!("tags"in e||o.$$.bound[o.$$.props.tags])&&console.warn("<SmallPost> was created without expected prop 'tags'"),g===void 0&&!("author"in e||o.$$.bound[o.$$.props.author])&&console.warn("<SmallPost> was created without expected prop 'author'"),k===void 0&&!("date"in e||o.$$.bound[o.$$.props.date])&&console.warn("<SmallPost> was created without expected prop 'date'"),P===void 0&&!("onLike"in e||o.$$.bound[o.$$.props.onLike])&&console.warn("<SmallPost> was created without expected prop 'onLike'"),S===void 0&&!("onUnlike"in e||o.$$.bound[o.$$.props.onUnlike])&&console.warn("<SmallPost> was created without expected prop 'onUnlike'"),B===void 0&&!("onDelete"in e||o.$$.bound[o.$$.props.onDelete])&&console.warn("<SmallPost> was created without expected prop 'onDelete'")});const E=["id","authorId","authorAvatar","content","tags","author","date","likes","onLike","onUnlike","onDelete"];Object.keys(e).forEach(h=>{!~E.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<SmallPost> was created with unknown prop '${h}'`)});const x=()=>B(r),$=()=>window.location.assign(`http://${window.location.host}/user/${c}`),b=()=>te(r),I=()=>t(11,A=!0),z=()=>t(11,A=!1);return o.$$set=h=>{"id"in h&&t(0,r=h.id),"authorId"in h&&t(1,c=h.authorId),"authorAvatar"in h&&t(2,f=h.authorAvatar),"content"in h&&t(3,i=h.content),"tags"in h&&t(15,u=h.tags),"author"in h&&t(4,g=h.author),"date"in h&&t(5,k=h.date),"likes"in h&&t(6,y=h.likes),"onLike"in h&&t(16,P=h.onLike),"onUnlike"in h&&t(17,S=h.onUnlike),"onDelete"in h&&t(7,B=h.onDelete)},o.$capture_state=()=>({currentUser:We,Tag:Gt,SmallDropdown:Ht,HoverDropdown:zt,onMount:ct,beforeUpdate:at,id:r,authorId:c,authorAvatar:f,content:i,tags:u,author:g,date:k,likes:y,onLike:P,onUnlike:S,onDelete:B,tagArr:M,userLiked:J,showPostDropdown:X,showLikesDropdown:A,togglePostDropdown:K,onLikeClicked:te,$currentUser:l}),o.$inject_state=h=>{"id"in h&&t(0,r=h.id),"authorId"in h&&t(1,c=h.authorId),"authorAvatar"in h&&t(2,f=h.authorAvatar),"content"in h&&t(3,i=h.content),"tags"in h&&t(15,u=h.tags),"author"in h&&t(4,g=h.author),"date"in h&&t(5,k=h.date),"likes"in h&&t(6,y=h.likes),"onLike"in h&&t(16,P=h.onLike),"onUnlike"in h&&t(17,S=h.onUnlike),"onDelete"in h&&t(7,B=h.onDelete),"tagArr"in h&&t(8,M=h.tagArr),"userLiked"in h&&t(9,J=h.userLiked),"showPostDropdown"in h&&t(10,X=h.showPostDropdown),"showLikesDropdown"in h&&t(11,A=h.showLikesDropdown)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[r,c,f,i,g,k,y,B,M,J,X,A,l,K,te,u,P,S,x,$,b,I,z]}class Yt extends Ut{constructor(e){super(e),Bt(this,e,po,Pt,Lt,{id:0,authorId:1,authorAvatar:2,content:3,tags:15,author:4,date:5,likes:6,onLike:16,onUnlike:17,onDelete:7}),q("SvelteRegisterComponent",{component:this,tagName:"SmallPost",options:e,id:Pt.name})}get id(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorId(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorId(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get authorAvatar(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set authorAvatar(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get content(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set content(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get tags(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set tags(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get author(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get date(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set date(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get likes(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set likes(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onLike(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onLike(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onUnlike(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onUnlike(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onDelete(){throw new Error("<SmallPost>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onDelete(e){throw new Error("<SmallPost>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:go}=ho,F="src/routes/user/[userid]/+page.svelte";function it(o,e,t){const l=o.slice();return l[20]=e[t],l}function Zt(o){let e,t,l,s,n,r,c,f;const i={c:function(){e=_("div"),t=_("h1"),l=V("This page can not be found"),s=R(),n=_("button"),r=V("Return home"),this.h()},l:function(g){e=v(g,"DIV",{class:!0});var k=w(e);t=v(k,"H1",{class:!0});var y=w(t);l=C(y,"This page can not be found"),y.forEach(m),s=N(k),n=v(k,"BUTTON",{class:!0});var P=w(n);r=C(P,"Return home"),P.forEach(m),k.forEach(m),this.h()},h:function(){d(t,"class","font-semibold text-3xl"),p(t,F,233,2,6936),d(n,"class","rounded-md text-[#378E8B] underline text-lg hover:font-semibold"),p(n,F,234,2,7005),d(e,"class","text-white flex justify-center items-center h-screen flex-col space-y-12"),p(e,F,232,1,6847)},m:function(g,k){le(g,e,k),a(e,t),a(t,l),a(e,s),a(e,n),a(n,r),c||(f=Le(n,"click",o[16],!1,!1,!1,!1),c=!0)},p:me,i:me,o:me,d:function(g){g&&m(e),c=!1,f()}};return q("SvelteRegisterBlock",{block:i,id:Zt.name,type:"else",source:"(232:0) {:else}",ctx:o}),i}function Jt(o){var je,Ue,Ke,Qe,Be,Ye;let e,t,l,s,n,r,c,f,i=((je=o[0])==null?void 0:je.username)+"",u,g,k,y,P,S,B=((Ke=(Ue=o[0])==null?void 0:Ue.followers)==null?void 0:Ke.length)+"",M,J,X,A,K=((Be=(Qe=o[0])==null?void 0:Qe.following)==null?void 0:Be.length)+"",te,E,x,$,b,I,z,h,G,ae,_e,se,Re,we,O,he,ce,j=o[1]&&yt(o);function W(H,D){var T;return(T=H[0])!=null&&T.avatar?$t:xt}let Q=W(o),re=Q(o),ie=((Ye=o[0])==null?void 0:Ye.verified)&&St(o);function ke(H,D){var T,fe,ye;if(((T=H[3])==null?void 0:T.id)==((fe=H[0])==null?void 0:fe.id))return to;if((ye=H[0])!=null&&ye.name)return eo}let L=ke(o),U=L&&L(o);function ne(H,D){var T,fe,ye,pe;return D&9&&($=null),((T=H[3])==null?void 0:T.id)==((fe=H[0])==null?void 0:fe.id)?lo:($==null&&($=!!((pe=H[3])!=null&&pe.following.includes((ye=H[0])==null?void 0:ye.id))),$?no:oo)}let Me=ne(o,-1),ue=Me(o);function ve(H,D){var T,fe;return((T=H[3])==null?void 0:T.id)==((fe=H[0])==null?void 0:fe.id)?ro:so}let Ne=ve(o),oe=Ne(o);const Ee=[co,io],Ie=[];function Te(H,D){return H[2].length>=1?0:1}O=Te(o),he=Ie[O]=Ee[O](o);const Pe={c:function(){j&&j.c(),e=R(),t=_("div"),l=_("div"),s=_("div"),re.c(),n=R(),r=_("div"),c=_("div"),f=_("h1"),u=V(i),g=R(),ie&&ie.c(),k=R(),U&&U.c(),y=R(),P=_("div"),S=_("h2"),M=V(B),J=V(" Followers"),X=R(),A=_("h2"),te=V(K),E=V(" Following"),x=R(),ue.c(),b=R(),I=_("div"),z=_("h3"),h=V("Bio:"),G=R(),oe.c(),ae=R(),_e=_("div"),se=_("h3"),Re=V("Posts:"),we=R(),he.c(),this.h()},l:function(D){j&&j.l(D),e=N(D),t=v(D,"DIV",{class:!0});var T=w(t);l=v(T,"DIV",{class:!0});var fe=w(l);s=v(fe,"DIV",{class:!0});var ye=w(s);re.l(ye),n=N(ye),r=v(ye,"DIV",{});var pe=w(r);c=v(pe,"DIV",{class:!0});var De=w(c);f=v(De,"H1",{class:!0});var be=w(f);u=C(be,i),be.forEach(m),g=N(De),ie&&ie.l(De),De.forEach(m),k=N(pe),U&&U.l(pe),y=N(pe),P=v(pe,"DIV",{class:!0});var Z=w(P);S=v(Z,"H2",{class:!0});var Ve=w(S);M=C(Ve,B),J=C(Ve," Followers"),Ve.forEach(m),X=N(Z),A=v(Z,"H2",{class:!0});var Ze=w(A);te=C(Ze,K),E=C(Ze," Following"),Ze.forEach(m),Z.forEach(m),pe.forEach(m),ye.forEach(m),x=N(fe),ue.l(fe),fe.forEach(m),b=N(T),I=v(T,"DIV",{class:!0});var Oe=w(I);z=v(Oe,"H3",{class:!0});var ze=w(z);h=C(ze,"Bio:"),ze.forEach(m),G=N(Oe),oe.l(Oe),Oe.forEach(m),ae=N(T),_e=v(T,"DIV",{class:!0});var Ce=w(_e);se=v(Ce,"H3",{class:!0});var qe=w(se);Re=C(qe,"Posts:"),qe.forEach(m),we=N(Ce),he.l(Ce),Ce.forEach(m),T.forEach(m),this.h()},h:function(){d(f,"class","font-semibold text-white text-2xl"),p(f,F,146,6,3982),d(c,"class","flex space-x-1 items-center"),p(c,F,145,5,3934),d(S,"class","hover:underline cursor-pointer"),p(S,F,160,6,4491),d(A,"class","hover:underline cursor-pointer"),p(A,F,163,6,4602),d(P,"class","text-[#49b4b1] text-sm font-semibold flex space-x-2 mt-1"),p(P,F,159,5,4414),p(r,F,144,4,3923),d(s,"class","flex space-x-6 items-center "),p(s,F,125,3,3432),d(l,"class","px-16 pt-24 pb-8 mb-4 bg-[#2e2e2e] flex justify-between items-center drop-shadow-sm"),p(l,F,122,2,3325),d(z,"class","text-white text-lg font-semibold mb-2"),p(z,F,195,3,5699),d(I,"class","px-16 mb-4"),p(I,F,194,2,5671),d(se,"class","text-white text-lg font-semibold mb-4"),p(se,F,203,3,6025),d(_e,"class","px-16"),p(_e,F,202,2,6002),d(t,"class",""),p(t,F,121,1,3308)},m:function(D,T){j&&j.m(D,T),le(D,e,T),le(D,t,T),a(t,l),a(l,s),re.m(s,null),a(s,n),a(s,r),a(r,c),a(c,f),a(f,u),a(c,g),ie&&ie.m(c,null),a(r,k),U&&U.m(r,null),a(r,y),a(r,P),a(P,S),a(S,M),a(S,J),a(P,X),a(P,A),a(A,te),a(A,E),a(l,x),ue.m(l,null),a(t,b),a(t,I),a(I,z),a(z,h),a(I,G),oe.m(I,null),a(t,ae),a(t,_e),a(_e,se),a(se,Re),a(_e,we),Ie[O].m(_e,null),ce=!0},p:function(D,T){var ye,pe,De,be,Z,Ve;D[1]?j?(j.p(D,T),T&2&&ee(j,1)):(j=yt(D),j.c(),ee(j,1),j.m(e.parentNode,e)):j&&(Ge(),de(j,1,1,()=>{j=null}),He()),Q===(Q=W(D))&&re?re.p(D,T):(re.d(1),re=Q(D),re&&(re.c(),re.m(s,n))),(!ce||T&1)&&i!==(i=((ye=D[0])==null?void 0:ye.username)+"")&&Ae(u,i),(pe=D[0])!=null&&pe.verified?ie||(ie=St(D),ie.c(),ie.m(c,null)):ie&&(ie.d(1),ie=null),L===(L=ke(D))&&U?U.p(D,T):(U&&U.d(1),U=L&&L(D),U&&(U.c(),U.m(r,y))),(!ce||T&1)&&B!==(B=((be=(De=D[0])==null?void 0:De.followers)==null?void 0:be.length)+"")&&Ae(M,B),(!ce||T&1)&&K!==(K=((Ve=(Z=D[0])==null?void 0:Z.following)==null?void 0:Ve.length)+"")&&Ae(te,K),Me===(Me=ne(D,T))&&ue?ue.p(D,T):(ue.d(1),ue=Me(D),ue&&(ue.c(),ue.m(l,null))),Ne===(Ne=ve(D))&&oe?oe.p(D,T):(oe.d(1),oe=Ne(D),oe&&(oe.c(),oe.m(I,null)));let fe=O;O=Te(D),O===fe?Ie[O].p(D,T):(Ge(),de(Ie[fe],1,1,()=>{Ie[fe]=null}),He(),he=Ie[O],he?he.p(D,T):(he=Ie[O]=Ee[O](D),he.c()),ee(he,1),he.m(_e,null))},i:function(D){ce||(ee(j),ee(he),ce=!0)},o:function(D){de(j),de(he),ce=!1},d:function(D){j&&j.d(D),D&&m(e),D&&m(t),re.d(),ie&&ie.d(),U&&U.d(),ue.d(),oe.d(),Ie[O].d()}};return q("SvelteRegisterBlock",{block:Pe,id:Jt.name,type:"if",source:"(111:21) ",ctx:o}),Pe}function Wt(o){const e={c:me,l:me,m:me,p:me,i:me,o:me,d:me};return q("SvelteRegisterBlock",{block:e,id:Wt.name,type:"if",source:"(109:0) {#if viewedUser === ''}",ctx:o}),e}function yt(o){var s,n,r,c;let e,t;e=new qt({props:{currentAvatar:(s=o[3])!=null&&s.avatar?Xe((n=o[3])==null?void 0:n.collectionId,((r=o[3])==null?void 0:r.id)||"",(c=o[3])==null?void 0:c.avatar):"/profile.svg",onSave:o[11],onClose:o[5]},$$inline:!0});const l={c:function(){xe(e.$$.fragment)},l:function(i){$e(e.$$.fragment,i)},m:function(i,u){et(e,i,u),t=!0},p:function(i,u){var k,y,P,S;const g={};u&8&&(g.currentAvatar=(k=i[3])!=null&&k.avatar?Xe((y=i[3])==null?void 0:y.collectionId,((P=i[3])==null?void 0:P.id)||"",(S=i[3])==null?void 0:S.avatar):"/profile.svg"),e.$set(g)},i:function(i){t||(ee(e.$$.fragment,i),t=!0)},o:function(i){de(e.$$.fragment,i),t=!1},d:function(i){tt(e,i)}};return q("SvelteRegisterBlock",{block:l,id:yt.name,type:"if",source:"(112:1) {#if showModal}",ctx:o}),l}function xt(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/profile.svg")||d(e,"src",t),d(e,"alt","Profile Icon"),d(e,"class","w-20 hover:cursor-pointer bg-white rounded-full"),p(e,F,137,5,3783)},m:function(n,r){le(n,e,r)},p:me,d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:xt.name,type:"else",source:"(137:4) {:else}",ctx:o}),l}function $t(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){var n,r,c;Se(e.src,t=Xe((n=o[0])==null?void 0:n.collectionId,((r=o[0])==null?void 0:r.id)||"",(c=o[0])==null?void 0:c.avatar)||"/profile.svg")||d(e,"src",t),d(e,"alt","Profile Icon"),d(e,"class","w-20 h-20 object-cover hover:cursor-pointer bg-white rounded-full"),p(e,F,127,5,3509)},m:function(n,r){le(n,e,r)},p:function(n,r){var c,f,i;r&1&&!Se(e.src,t=Xe((c=n[0])==null?void 0:c.collectionId,((f=n[0])==null?void 0:f.id)||"",(i=n[0])==null?void 0:i.avatar)||"/profile.svg")&&d(e,"src",t)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:$t.name,type:"if",source:"(127:4) {#if viewedUser?.avatar}",ctx:o}),l}function St(o){let e,t;const l={c:function(){e=_("img"),this.h()},l:function(n){e=v(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Se(e.src,t="/verified.svg")||d(e,"src",t),d(e,"alt","Verified"),d(e,"class","w-5"),p(e,F,147,32,4088)},m:function(n,r){le(n,e,r)},d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:St.name,type:"if",source:"(148:6) {#if viewedUser?.verified}",ctx:o}),l}function eo(o){var n;let e,t=((n=o[0])==null?void 0:n.name)+"",l;const s={c:function(){e=_("h2"),l=V(t),this.h()},l:function(c){e=v(c,"H2",{class:!0});var f=w(e);l=C(f,t),f.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,155,6,4329)},m:function(c,f){le(c,e,f),a(e,l)},p:function(c,f){var i;f&1&&t!==(t=((i=c[0])==null?void 0:i.name)+"")&&Ae(l,t)},d:function(c){c&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:eo.name,type:"if",source:"(155:32) ",ctx:o}),s}function to(o){var n;let e,t=((n=o[3])==null?void 0:n.name)+"",l;const s={c:function(){e=_("h2"),l=V(t),this.h()},l:function(c){e=v(c,"H2",{class:!0});var f=w(e);l=C(f,t),f.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,151,6,4219)},m:function(c,f){le(c,e,f),a(e,l)},p:function(c,f){var i;f&8&&t!==(t=((i=c[3])==null?void 0:i.name)+"")&&Ae(l,t)},d:function(c){c&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:to.name,type:"if",source:"(151:5) {#if $currentUser?.id == viewedUser?.id}",ctx:o}),s}function oo(o){let e,t,l,s,n,r,c,f;const i={c:function(){e=_("button"),t=_("img"),s=R(),n=_("p"),r=V("Follow User"),this.h()},l:function(g){e=v(g,"BUTTON",{class:!0});var k=w(e);t=v(k,"IMG",{src:!0,alt:!0,class:!0}),s=N(k),n=v(k,"P",{class:!0});var y=w(n);r=C(y,"Follow User"),y.forEach(m),k.forEach(m),this.h()},h:function(){Se(t.src,l="/follow.svg")||d(t,"src",l),d(t,"alt","Edit Pen"),d(t,"class","w-5"),p(t,F,189,5,5521),d(n,"class","text-neutral-300 font-semibold"),p(n,F,190,5,5579),d(e,"class","flex space-x-2 items-center rounded-md bg-[#378E8B] hover:bg-[#2d7e7b] p-2 px-4"),p(e,F,185,4,5360)},m:function(g,k){le(g,e,k),a(e,t),a(e,s),a(e,n),a(n,r),c||(f=Le(e,"click",o[12],!1,!1,!1,!1),c=!0)},p:me,d:function(g){g&&m(e),c=!1,f()}};return q("SvelteRegisterBlock",{block:i,id:oo.name,type:"else",source:"(185:3) {:else}",ctx:o}),i}function no(o){let e,t,l,s,n,r;const c={c:function(){e=_("button"),t=_("img"),s=R(),n=_("p"),r=V("Following"),this.h()},l:function(i){e=v(i,"BUTTON",{class:!0});var u=w(e);t=v(u,"IMG",{src:!0,alt:!0,class:!0}),s=N(u),n=v(u,"P",{class:!0});var g=w(n);r=C(g,"Following"),g.forEach(m),u.forEach(m),this.h()},h:function(){Se(t.src,l="/follow.svg")||d(t,"src",l),d(t,"alt","Edit Pen"),d(t,"class","w-5"),p(t,F,181,5,5217),d(n,"class","text-neutral-300 font-semibold"),p(n,F,182,5,5275),d(e,"class","flex space-x-2 items-center rounded-md bg-[#378E8B] hover:bg-[#2d7e7b] p-2 px-4"),p(e,F,178,4,5105)},m:function(i,u){le(i,e,u),a(e,t),a(e,s),a(e,n),a(n,r)},p:me,d:function(i){i&&m(e)}};return q("SvelteRegisterBlock",{block:c,id:no.name,type:"if",source:"(178:62) ",ctx:o}),c}function lo(o){let e,t,l,s,n,r,c,f;const i={c:function(){e=_("button"),t=_("img"),s=R(),n=_("p"),r=V("Edit Profile"),this.h()},l:function(g){e=v(g,"BUTTON",{class:!0});var k=w(e);t=v(k,"IMG",{src:!0,alt:!0,class:!0}),s=N(k),n=v(k,"P",{class:!0});var y=w(n);r=C(y,"Edit Profile"),y.forEach(m),k.forEach(m),this.h()},h:function(){Se(t.src,l="/edit.svg")||d(t,"src",l),d(t,"alt","Edit Pen"),d(t,"class","w-4"),p(t,F,174,5,4909),d(n,"class","text-neutral-300 font-semibold"),p(n,F,175,5,4965),d(e,"class","flex space-x-2 items-center rounded-md bg-neutral-700 p-2 px-4"),p(e,F,170,4,4788)},m:function(g,k){le(g,e,k),a(e,t),a(e,s),a(e,n),a(n,r),c||(f=Le(e,"click",o[6],!1,!1,!1,!1),c=!0)},p:me,d:function(g){g&&m(e),c=!1,f()}};return q("SvelteRegisterBlock",{block:i,id:lo.name,type:"if",source:"(170:3) {#if $currentUser?.id == viewedUser?.id}",ctx:o}),i}function so(o){var n;let e,t=(((n=o[0])==null?void 0:n.bio)||"Nothing to see here yet")+"",l;const s={c:function(){e=_("p"),l=V(t),this.h()},l:function(c){e=v(c,"P",{class:!0});var f=w(e);l=C(f,t),f.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,199,4,5903)},m:function(c,f){le(c,e,f),a(e,l)},p:function(c,f){var i;f&1&&t!==(t=(((i=c[0])==null?void 0:i.bio)||"Nothing to see here yet")+"")&&Ae(l,t)},d:function(c){c&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:so.name,type:"else",source:"(199:3) {:else}",ctx:o}),s}function ro(o){var n;let e,t=(((n=o[3])==null?void 0:n.bio)||"Nothing to see here yet")+"",l;const s={c:function(){e=_("p"),l=V(t),this.h()},l:function(c){e=v(c,"P",{class:!0});var f=w(e);l=C(f,t),f.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,197,4,5807)},m:function(c,f){le(c,e,f),a(e,l)},p:function(c,f){var i;f&8&&t!==(t=(((i=c[3])==null?void 0:i.bio)||"Nothing to see here yet")+"")&&Ae(l,t)},d:function(c){c&&m(e)}};return q("SvelteRegisterBlock",{block:s,id:ro.name,type:"if",source:"(197:3) {#if $currentUser?.id == viewedUser?.id}",ctx:o}),s}function io(o){let e,t;const l={c:function(){e=_("p"),t=V("Nothing to see here yet"),this.h()},l:function(n){e=v(n,"P",{class:!0});var r=w(e);t=C(r,"Nothing to see here yet"),r.forEach(m),this.h()},h:function(){d(e,"class","text-neutral-300"),p(e,F,227,4,6756)},m:function(n,r){le(n,e,r),a(e,t)},p:me,i:me,o:me,d:function(n){n&&m(e)}};return q("SvelteRegisterBlock",{block:l,id:io.name,type:"else",source:"(227:3) {:else}",ctx:o}),l}function co(o){let e,t=[],l=new Map,s,n=o[2]||[];ut(n);const r=f=>f[20].id;Ct(o,n,it,r);for(let f=0;f<n.length;f+=1){let i=it(o,n,f),u=r(i);l.set(u,t[f]=It(u,i))}const c={c:function(){e=_("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l:function(i){e=v(i,"DIV",{class:!0});var u=w(e);for(let g=0;g<t.length;g+=1)t[g].l(u);u.forEach(m),this.h()},h:function(){d(e,"class","flex flex-wrap gap-12"),p(e,F,205,4,6121)},m:function(i,u){le(i,e,u);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);s=!0},p:function(i,u){u&1797&&(n=i[2]||[],ut(n),Ge(),Ct(i,n,it,r),t=mo(t,u,r,1,i,n,l,e,_o,It,null,it),He())},i:function(i){if(!s){for(let u=0;u<n.length;u+=1)ee(t[u]);s=!0}},o:function(i){for(let u=0;u<t.length;u+=1)de(t[u]);s=!1},d:function(i){i&&m(e);for(let u=0;u<t.length;u+=1)t[u].d()}};return q("SvelteRegisterBlock",{block:c,id:co.name,type:"if",source:"(205:3) {#if postList.length >= 1}",ctx:o}),c}function It(o,e){var r,c,f,i,u,g,k,y;let t,l,s;l=new Yt({props:{id:e[20].id,authorId:e[0].id,authorAvatar:(r=e[0])!=null&&r.avatar?Xe((c=e[0])==null?void 0:c.collectionId,((f=e[0])==null?void 0:f.id)||"",(i=e[0])==null?void 0:i.avatar):"/profile.svg",author:e[0].username,date:(u=e[20])==null?void 0:u.date,content:(g=e[20])==null?void 0:g.content,tags:(k=e[20])==null?void 0:k.tags,likes:(y=e[20])==null?void 0:y.likes,onLike:e[13],onUnlike:e[14],onDelete:e[15]},$$inline:!0});const n={key:o,first:null,c:function(){t=ft(),xe(l.$$.fragment),this.h()},l:function(S){t=ft(),$e(l.$$.fragment,S),this.h()},h:function(){this.first=t},m:function(S,B){le(S,t,B),et(l,S,B),s=!0},p:function(S,B){var J,X,A,K,te,E,x,$;e=S;const M={};B&4&&(M.id=e[20].id),B&1&&(M.authorId=e[0].id),B&1&&(M.authorAvatar=(J=e[0])!=null&&J.avatar?Xe((X=e[0])==null?void 0:X.collectionId,((A=e[0])==null?void 0:A.id)||"",(K=e[0])==null?void 0:K.avatar):"/profile.svg"),B&1&&(M.author=e[0].username),B&4&&(M.date=(te=e[20])==null?void 0:te.date),B&4&&(M.content=(E=e[20])==null?void 0:E.content),B&4&&(M.tags=(x=e[20])==null?void 0:x.tags),B&4&&(M.likes=($=e[20])==null?void 0:$.likes),l.$set(M)},i:function(S){s||(ee(l.$$.fragment,S),s=!0)},o:function(S){de(l.$$.fragment,S),s=!1},d:function(S){S&&m(t),tt(l,S)}};return q("SvelteRegisterBlock",{block:n,id:It.name,type:"each",source:"(207:5) {#each postList || [] as post (post.id)}",ctx:e}),n}function Dt(o){let e,t,l,s;const n=[Wt,Jt,Zt],r=[];function c(i,u){return i[0]===""?0:i[0]?1:2}e=c(o),t=r[e]=n[e](o);const f={c:function(){t.c(),l=ft()},l:function(u){t.l(u),l=ft()},m:function(u,g){r[e].m(u,g),le(u,l,g),s=!0},p:function(u,[g]){let k=e;e=c(u),e===k?r[e].p(u,g):(Ge(),de(r[k],1,1,()=>{r[k]=null}),He(),t=r[e],t?t.p(u,g):(t=r[e]=n[e](u),t.c()),ee(t,1),t.m(l.parentNode,l))},i:function(u){s||(ee(t),s=!0)},o:function(u){de(t),s=!1},d:function(u){r[e].d(u),u&&m(l)}};return q("SvelteRegisterBlock",{block:f,id:Dt.name,type:"component",source:"",ctx:o}),f}function _t(o){return o.charAt(0).toLocaleUpperCase()+o.slice(1).toLocaleLowerCase()}function bo(o,e,t){let l,s;vt(We,"currentUser"),pt(o,We,b=>t(3,l=b)),vt(mt,"page"),pt(o,mt,b=>t(19,s=b));let{$$slots:n={},$$scope:r}=e;Mt("Page",n,[]);let c="",f=!1,i=[];at(async()=>{l&&(y=l.following,P=l.expand.following||[])}),ct(async()=>{try{t(0,c=await Fe.collection("users").getOne(s.params.userid,{expand:"posts"}))}catch(b){console.error(b)}t(2,i=c.expand.posts||[])});async function u(b,I,z,h){if(l==null)return;const G=new FormData;z&&G.append("bio",z),b&&I&&G.append("name",`${_t(b)} ${_t(I)}`),h&&G.append("avatar",h),G&&(g(),await Fe.collection("users").update(l.id,G))}function g(){t(1,f=!1)}function k(){t(1,f=!0)}let y=[],P=[];async function S(b){if(l==null||y.includes(c.id))return;let I=[c.id,...y];const z={following:I};let h=await Fe.collection("users").update(l.id,z,{expand:"following"});y=I,P=h.expand.following;const ae={followers:[...c.followers,l.id]};await Fe.collection("users").update(c.id,ae)}async function B(b){t(2,i=i.filter(I=>I.id!==b)),await Fe.collection("posts").delete(b)}async function M(b){if(l==null)return;let I=i.filter(G=>G.id==b)[0],z=[...I.likes,l.id];const h={likes:z};t(2,i=i.map(G=>(G.id==I.id&&(G.likes=z),G))),await Fe.collection("posts").update(b,h)}async function J(b){if(l==null)return;let I=i.filter(ae=>ae.id==b)[0],z=I.likes.indexOf(l.id);I.likes.splice(z,1);let h=I.likes;const G={likes:h};t(2,i=i.map(ae=>(ae.id==I.id&&(ae.likes=h),ae))),await Fe.collection("posts").update(b,G)}const X=[];Object.keys(e).forEach(b=>{!~X.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&go.warn(`<Page> was created with unknown prop '${b}'`)});const A=(b,I,z,h)=>u(b,I,z,h),K=()=>S(c==null?void 0:c.id),te=b=>M(b),E=b=>J(b),x=b=>B(b),$=()=>window.location.assign(`http://${window.location.host}/home`);return o.$capture_state=()=>({currentUser:We,pb:Fe,getImageURL:Xe,page:mt,onMount:ct,beforeUpdate:at,EditModal:qt,SmallPost:Yt,viewedUser:c,showModal:f,postList:i,toCapitalize:_t,updateProfile:u,closeModal:g,openModal:k,followIds:y,followList:P,followUser:S,deletePost:B,likePost:M,unlikePost:J,$currentUser:l,$page:s}),o.$inject_state=b=>{"viewedUser"in b&&t(0,c=b.viewedUser),"showModal"in b&&t(1,f=b.showModal),"postList"in b&&t(2,i=b.postList),"followIds"in b&&(y=b.followIds),"followList"in b&&(P=b.followList)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[c,f,i,l,u,g,k,S,B,M,J,A,K,te,E,x,$]}class yo extends Ut{constructor(e){super(e),Bt(this,e,bo,Dt,Lt,{}),q("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Dt.name})}}export{yo as component};
