import"./modulepreload-polyfill-3cfb730f.js";import{S as ae,i as fe,s as le,A as Pe,f as T,E as J,b as w,c as H,B as Ve,C as De,D as Ee,r as k,o as b,d as S,u as re,a1 as Qe,v as Yt,y as Oe,w as qe,z as W,x as ce,e as Ae,h as Re,m as ie,n as oe,p as ue,a0 as ne,t as M,I as ze,U as Vt,g as nt,j as me,l as be,K as P,L as V,M as D,a as $t,F as x,aj as We,G as Fe,N as Dt,k as q,ak as xt,a2 as de,a3 as he,Z as lt,W as en,R as tn,T as nn,_ as ot,O as ut,J as Ce,aa as ln,X as Ze,P as Et,al as on,am as sn,a6 as rn,a4 as Me,ah as un}from"./index-8aa16f0e.js";import{f as at}from"./index-8bf43790.js";async function Te(l){throw console.error()}function an(l){let e,t,n,o,r,i,u,s,a,f,d;const c=l[27].default,h=Pe(c,l,l[26],null);return{c(){var m;e=T("div"),n=J(),o=T("div"),h&&h.c(),r=J(),i=T("div"),s=J(),a=T("div"),w(e,"class","loader top svelte-1dv6zp6"),w(e,"style",t=`height:${l[1]}px`),w(o,"class","items"),w(i,"class","loader bottom svelte-1dv6zp6"),w(i,"style",u=`height:${l[1]}px`),w(a,"class","spacefiller"),w(a,"style",f=`height:${(m=l[0])==null?void 0:m.clientHeight}px`)},m(m,g){H(m,e,g),l[28](e),H(m,n,g),H(m,o,g),h&&h.m(o,null),l[29](o),H(m,r,g),H(m,i,g),l[30](i),H(m,s,g),H(m,a,g),d=!0},p(m,g){var C;(!d||g[0]&2&&t!==(t=`height:${m[1]}px`))&&w(e,"style",t),h&&h.p&&(!d||g[0]&67108864)&&Ve(h,c,m,m[26],d?Ee(c,m[26],g,null):De(m[26]),null),(!d||g[0]&2&&u!==(u=`height:${m[1]}px`))&&w(i,"style",u),(!d||g[0]&1&&f!==(f=`height:${(C=m[0])==null?void 0:C.clientHeight}px`))&&w(a,"style",f)},i(m){d||(k(h,m),d=!0)},o(m){b(h,m),d=!1},d(m){m&&S(e),l[28](null),m&&S(n),m&&S(o),h&&h.d(m),l[29](null),m&&S(r),m&&S(i),l[30](null),m&&S(s),m&&S(a)}}}let Ue=40;async function ft(l){}function fn(l,e,t){let n,{$$slots:o={},$$scope:r}=e,{items:i}=e,{serverCommand:u}=e,{canRemoveItem:s=(v,F)=>!0}=e,{fetchAmount:a=10}=e,{loaderHeight:f=500}=e,{shouldTrackFocus:d=!1}=e,{state:c=null}=e,{verbose:h=!1}=e,{viewerElement:m=null}=e,g,C,_,L=0,R=0,Y=!1;function X(){t(6,i=[]),L=0,R=0}function z(){return _}function B(){var v,F;L=(v=i[0])==null?void 0:v.index,R=((F=i[i.length-1])==null?void 0:F.index)+1}let U=[],O={},y={};function p(v,F,G){U[v]={start:F,end:G},O.hasOwnProperty(F)?O[F].push(v):O[F]=[v],y.hasOwnProperty(G)?y[G].push(v):y[G]=[v],O=Object.keys(O).sort().reduce(($,se)=>($[se]=O[se],$),{}),y=Object.keys(y).sort().reduce(($,se)=>($[se]=y[se],$),{})}function j(v){let F=U[v];O[F.start]=O[F.start].filter(G=>G!==v),O[F.start].length==0&&delete O[F.start],y[F.end]=y[F.end].filter(G=>G!==v),y[F.end].length==0&&delete y[F.end],delete U[v]}new IntersectionObserver(v=>{if(h&&console.log("observer muted: ",Y),Y)return;let F=!1,G=!1;for(let $ of v)$.isIntersecting&&(F=$.target==C,G=$.target==g);F?(h&&console.log("bottom loader in view"),Se()):G&&(h&&console.log("top loader in view"),je())},{root:m,rootMargin:"0px",threshold:0});function A(v){let F=_.children[v];return F&&F.offsetTop-m.scrollTop+F.offsetHeight>Ue&&F.offsetTop-m.scrollTop<Ue}let Q=0,E=qe(null);re(l,E,v=>t(41,n=v));function K(){h&&console.log("currentFocus",Q),ce(E,n=i[Q],n)}function Z(){return E}function He(){return n}let Le=function(){if(A(Q))return;let v=0;for(;Q+v<_.children.length||Q-v>0;){if(v+=1,A(Q+v)){Q+=v,K();return}if(A(Q-v)){Q-=v,K();return}}m.scrollTop>m.scrollHeight-m.scrollTop?Q=0:Q=_.children.length-1};Qe(async function(){});function ve(){t(7,c={startIndex:L,endIndex:R,scrollTop:m.scrollTop})}function N(v){Y=v}Yt(function(){Le&&m.removeEventListener("scroll",Le)});async function ee(v){let F=[{start:L-v,end:L}];h&&console.log("original range",F[0]);let G=F[0],$=Object.keys(y).map(Number);$.reverse();for(let ke of $){let Ie=y[ke];if(ke>G.start&&ke<G.end){let we=U[Ie[0]];for(let $e=1;$e<Ie.length;$e++){let xe=U[Ie[$e]];we.end-we.start<xe.end-xe.start&&(we=xe)}h&&console.log("removing range: ",we);let Jt=G.end-G.start-(G.end-(we.end+1));G.start=we.end+1,F.push({start:we.start-Jt,end:we.start}),G=F[F.length-1],h&&console.log("loadRanges: ",F)}}F.reverse();let se=[];h&&F.length!=1&&console.log("loading ranges: ",F);for(let ke of F){let Ie=Math.max(0,ke.start),we=Math.max(0,ke.end);h&&console.log("loading: ",Ie,we),se=se.concat(await u(Ie,we))}return L-=F[F.length-1].end-F[0].start,h&&console.log("newItems: ",se),se}async function I(){if(C.offsetTop-m.scrollTop<m.clientHeight){let v=await ft();if(v.length==0)return;t(6,i=[...i,...v]),await Oe(),I()}}async function ge(){if(g.offsetTop-m.scrollTop+g.clientHeight>0){let v=await ee(a);if(v.length==0)return;let F=_.clientHeight;t(6,i=[...i,...v]),await Oe(),t(0,m.scrollTop+=_.clientHeight-F,m),ge()}}async function je(){var $;h&&console.log("loading top");let v=await ee(a);if(v.length==0)return;let F=0;for(let se=_.children.length-1;se>=0;se--){let ke=_.children[se];if(ke.offsetTop-m.scrollTop>m.clientHeight&&s(i[se],ke))i.pop(),F-=ke.clientHeight;else break}let G=_.clientHeight;t(6,i=[...v,...i]),R=(($=i[i.length-1])==null?void 0:$.index)+1,await Oe(),F+=G-_.clientHeight,t(0,m.scrollTop-=F,m),await ge(),h&&console.log(i)}async function Se(){var G;h&&console.log("loading bottom");let v=await ft();if(v.length==0)return;let F=0;for(let $=0;$<_.children.length;$++){let se=_.children[$];if(se.offsetTop-m.scrollTop+se.clientHeight<0&&s(i[$],se))i.shift(),F-=se.clientHeight;else break}t(6,i=[...i,...v]),L=(G=i[0])==null?void 0:G.index,await Oe(),t(0,m.scrollTop+=F,m),await I(),h&&console.log("loaded items: ",i)}let _e=[];function Ut(v,F){let G={index:v,force:F};_e.push(G),h&&console.log("teleport queue increased to: ",_e.length),_e.length==1&&rt(G.index,G.force)}let Ye=[];function Gt(v){_e.length==0?v():Ye.push(v)}async function rt(v,F){if(await it(v,F),_e.shift(),h&&console.log("teleport queue decreased to: ",_e.length),_e.length>0){let G=_e[0];rt(G.index,G.force)}else{for(let G of Ye)G();Ye=[]}}async function it(v,F){var G;if(h&&console.log("teleporting to: ",v),!F&&i.length>0&&v>=L&&v<R){let $=_.children[v-L];if($&&!($.offsetTop<f)&&!($.offsetTop+m.clientHeight>C.offsetTop))return h&&console.log("doing fake teleport"),h&&console.trace(),t(0,m.scrollTop=$.offsetTop-Ue+1,m),d&&(Q=0,K()),!0}return h&&console.log("doing real teleport"),Y=!0,h&&console.log("muting obvservers"),X(),L=v,R=v,await Se(),t(0,m.scrollTop=Math.max((G=_.children[0])==null?void 0:G.offsetTop,f)-Ue+1,m),h&&console.log("set viewer scrollTop: ",m.scrollTop),Y=!1,h&&console.log("unmuting obvservers"),d&&(Q=0,K()),!0}function Zt(v){W[v?"unshift":"push"](()=>{g=v,t(2,g)})}function Xt(v){W[v?"unshift":"push"](()=>{_=v,t(4,_)})}function Wt(v){W[v?"unshift":"push"](()=>{C=v,t(3,C)})}return l.$$set=v=>{"items"in v&&t(6,i=v.items),"serverCommand"in v&&t(8,u=v.serverCommand),"canRemoveItem"in v&&t(9,s=v.canRemoveItem),"fetchAmount"in v&&t(10,a=v.fetchAmount),"loaderHeight"in v&&t(1,f=v.loaderHeight),"shouldTrackFocus"in v&&t(11,d=v.shouldTrackFocus),"state"in v&&t(7,c=v.state),"verbose"in v&&t(12,h=v.verbose),"viewerElement"in v&&t(0,m=v.viewerElement),"$$scope"in v&&t(26,r=v.$$scope)},[m,f,g,C,_,E,i,c,u,s,a,d,h,X,z,B,p,j,Z,He,ve,N,Se,Ut,Gt,it,r,o,Zt,Xt,Wt]}class st extends ae{constructor(e){super(),fe(this,e,fn,an,le,{items:6,serverCommand:8,canRemoveItem:9,fetchAmount:10,loaderHeight:1,shouldTrackFocus:11,state:7,verbose:12,viewerElement:0,reset:13,getItemsElement:14,updateIndex:15,addSkipRange:16,removeSkipRange:17,getFocusStore:18,getFocus:19,saveState:20,setMuteObservers:21,loadBottom:22,teleport:23,onTeleportDone:24,pureTeleport:25},null,[-1,-1])}get reset(){return this.$$.ctx[13]}get getItemsElement(){return this.$$.ctx[14]}get updateIndex(){return this.$$.ctx[15]}get addSkipRange(){return this.$$.ctx[16]}get removeSkipRange(){return this.$$.ctx[17]}get getFocusStore(){return this.$$.ctx[18]}get getFocus(){return this.$$.ctx[19]}get saveState(){return this.$$.ctx[20]}get setMuteObservers(){return this.$$.ctx[21]}get loadBottom(){return this.$$.ctx[22]}get teleport(){return this.$$.ctx[23]}get onTeleportDone(){return this.$$.ctx[24]}get pureTeleport(){return this.$$.ctx[25]}}var te=(l=>(l[l.Top=0]="Top",l[l.Bottom=1]="Bottom",l[l.Left=2]="Left",l[l.Right=3]="Right",l[l.TopLeft=4]="TopLeft",l[l.TopRight=5]="TopRight",l[l.BottomLeft=6]="BottomLeft",l[l.BottomRight=7]="BottomRight",l))(te||{});let Ke=200;function cn(l,{delay:e=0,duration:t=500}){return{delay:e,duration:t,css:function(n){return`
        display: block;
        opacity: ${Math.cos(n*Math.PI*4)+1};
        transform: scale(${n*2});
      `}}}function ct(l,{delay:e=0,duration:t=Ke}){return{delay:e,duration:t,css:function(n){const o=Ae(n);return l.classList.contains("showSearchResults")?`
        transform: translateX(${(1-o)*100}%);
      `:""}}}function dt(l,{delay:e=0,duration:t=Ke}){return{delay:e,duration:t,css:function(n){return`
        transform: translateX(${(1-Ae(n))*-100}%);
      `}}}function ht(l,{delay:e=0,duration:t=Ke,align:n=te.TopRight}){let o="1rem",r="1rem";return(n==te.Right||n===te.TopRight||n==te.BottomRight)&&(o="calc(100% - 1rem)"),(n==te.Bottom||n===te.BottomRight||n==te.BottomLeft)&&(r="calc(100% - 1rem)"),{delay:e,duration:t,css:function(i){return`
        clip-path: circle(calc(1rem + ${Ae(i)*150}%) at ${o} ${r});
      `}}}function dn(l,{delay:e=0,duration:t=Ke}){return{delay:e,duration:t,css:function(n){return`
        clip-path: circle(calc(${Ae(n)*150}%) at 50% 50%);
      `}}}function mt(l,{delay:e=0,duration:t=Ke}){let n=l.offsetHeight;return{delay:e,duration:t,css:function(o){return`
        overflow: hidden;
        height: ${Ae(o)*n}px;`}}}function hn(l){let e,t;const n=l[4].default,o=Pe(n,l,l[3],null);return{c(){e=T("mark"),o&&o.c(),w(e,"class","svelte-1wdy0hm")},m(r,i){H(r,e,i),o&&o.m(e,null),t=!0},p(r,i){o&&o.p&&(!t||i&8)&&Ve(o,n,r,r[3],t?Ee(n,r[3],i,null):De(r[3]),null)},i(r){t||(k(o,r),t=!0)},o(r){b(o,r),t=!1},d(r){r&&S(e),o&&o.d(r)}}}function mn(l){let e,t,n;const o=l[4].default,r=Pe(o,l,l[3],null);return{c(){e=T("mark"),r&&r.c(),w(e,"class","svelte-1wdy0hm"),M(e,"selected",l[0])},m(i,u){H(i,e,u),r&&r.m(e,null),l[5](e),n=!0},p(i,u){r&&r.p&&(!n||u&8)&&Ve(r,o,i,i[3],n?Ee(o,i[3],u,null):De(i[3]),null),(!n||u&1)&&M(e,"selected",i[0])},i(i){n||(k(r,i),t||ze(()=>{t=Vt(e,cn,{}),t.start()}),n=!0)},o(i){b(r,i),n=!1},d(i){i&&S(e),r&&r.d(i),l[5](null)}}}function gt(l){let e,t,n,o;const r=[mn,hn],i=[];function u(s,a){return s[0]?0:1}return e=u(l),t=i[e]=r[e](l),{c(){t.c(),n=Re()},m(s,a){i[e].m(s,a),H(s,n,a),o=!0},p(s,a){let f=e;e=u(s),e===f?i[e].p(s,a):(ie(),b(i[f],1,1,()=>{i[f]=null}),ue(),t=i[e],t?t.p(s,a):(t=i[e]=r[e](s),t.c()),k(t,1),t.m(n.parentNode,n))},i(s){o||(k(t),o=!0)},o(s){b(t),o=!1},d(s){i[e].d(s),s&&S(n)}}}function gn(l){let e=l[2],t,n,o=gt(l);return{c(){o.c(),t=Re()},m(r,i){o.m(r,i),H(r,t,i),n=!0},p(r,[i]){i&4&&le(e,e=r[2])?(ie(),b(o,1,1,oe),ue(),o=gt(r),o.c(),k(o,1),o.m(t.parentNode,t)):o.p(r,i)},i(r){n||(k(o),n=!0)},o(r){b(o),n=!1},d(r){r&&S(t),o.d(r)}}}function _n(l,e,t){let{$$slots:n={},$$scope:o}=e,{selected:r=!1}=e,i,u=ne("getDocLoader"),s=!1;function a(){r&&(console.log("pls teleport"),u().onTeleportDone(function(){i.scrollIntoView({block:"start",inline:"nearest"}),t(2,s=!s)}))}Qe(a);function f(d){W[d?"unshift":"push"](()=>{i=d,t(1,i)})}return l.$$set=d=>{"selected"in d&&t(0,r=d.selected),"$$scope"in d&&t(3,o=d.$$scope)},l.$$.update=()=>{l.$$.dirty&1},[r,i,s,o,n,f]}class Nt extends ae{constructor(e){super(),fe(this,e,_n,gn,le,{selected:0})}}function _t(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function pn(l){let e=l[9]+"",t;return{c(){t=me(e)},m(n,o){H(n,t,o)},p(n,o){o&2&&e!==(e=n[9]+"")&&be(t,e)},i:oe,o:oe,d(n){n&&S(t)}}}function kn(l){let e,t;return e=new Nt({props:{$$slots:{default:[bn]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&4098&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function wn(l){let e,t;return e=new Nt({props:{selected:!0,$$slots:{default:[yn]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&4098&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function bn(l){let e=l[9]+"",t;return{c(){t=me(e)},m(n,o){H(n,t,o)},p(n,o){o&2&&e!==(e=n[9]+"")&&be(t,e)},d(n){n&&S(t)}}}function yn(l){let e=l[9]+"",t;return{c(){t=me(e)},m(n,o){H(n,t,o)},p(n,o){o&2&&e!==(e=n[9]+"")&&be(t,e)},d(n){n&&S(t)}}}function pt(l){let e,t,n,o;const r=[wn,kn,pn],i=[];function u(s,a){return s[2][s[11]]==2?0:s[2][s[11]]==1?1:2}return e=u(l),t=i[e]=r[e](l),{c(){t.c(),n=Re()},m(s,a){i[e].m(s,a),H(s,n,a),o=!0},p(s,a){let f=e;e=u(s),e===f?i[e].p(s,a):(ie(),b(i[f],1,1,()=>{i[f]=null}),ue(),t=i[e],t?t.p(s,a):(t=i[e]=r[e](s),t.c()),k(t,1),t.m(n.parentNode,n))},i(s){o||(k(t),o=!0)},o(s){b(t),o=!1},d(s){i[e].d(s),s&&S(n)}}}function vn(l){let e,t,n,o=l[1],r=[];for(let u=0;u<o.length;u+=1)r[u]=pt(_t(l,o,u));const i=u=>b(r[u],1,1,()=>{r[u]=null});return{c(){e=T("span");for(let u=0;u<r.length;u+=1)r[u].c();w(e,"style",t=`font-size: ${l[0].size?l[0].size*.05:1}em;`),w(e,"class","svelte-4b112d"),M(e,"bold",l[0].bold),M(e,"underline",l[0].underline),M(e,"highlight",l[0].highlight)},m(u,s){H(u,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);n=!0},p(u,[s]){if(s&6){o=u[1];let a;for(a=0;a<o.length;a+=1){const f=_t(u,o,a);r[a]?(r[a].p(f,s),k(r[a],1)):(r[a]=pt(f),r[a].c(),k(r[a],1),r[a].m(e,null))}for(ie(),a=o.length;a<r.length;a+=1)i(a);ue()}(!n||s&1&&t!==(t=`font-size: ${u[0].size?u[0].size*.05:1}em;`))&&w(e,"style",t),(!n||s&1)&&M(e,"bold",u[0].bold),(!n||s&1)&&M(e,"underline",u[0].underline),(!n||s&1)&&M(e,"highlight",u[0].highlight)},i(u){if(!n){for(let s=0;s<o.length;s+=1)k(r[s]);n=!0}},o(u){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)b(r[s]);n=!1},d(u){u&&S(e),nt(r,u)}}}function Cn(l,e,t){let n,o=ne("query");re(l,o,c=>t(7,n=c));let{text:r}=e,{style:i}=e,{queryMatches:u}=e,{selectedQueryMatch:s}=e,a=[],f=[];function d(){if(u==null){t(1,a=[r]),t(2,f=[0]);return}t(1,a=[]),t(2,f=[]);let c=0;u.forEach(function(h,m){h-c>0&&(a.push(r.substring(c,h)),f.push(0)),a.push(r.substring(h,h+n.text.length)),m===s?f.push(2):f.push(1),c=h+n.text.length}),r.length-c>0&&(a.push(r.substring(c)),f.push(0)),t(1,a),t(2,f)}return l.$$set=c=>{"text"in c&&t(4,r=c.text),"style"in c&&t(0,i=c.style),"queryMatches"in c&&t(5,u=c.queryMatches),"selectedQueryMatch"in c&&t(6,s=c.selectedQueryMatch)},l.$$.update=()=>{l.$$.dirty&96&&d()},[i,a,f,o,r,u,s]}class Rn extends ae{constructor(e){super(),fe(this,e,Cn,vn,le,{text:4,style:0,queryMatches:5,selectedQueryMatch:6})}}function Ln(l){let e,t=l[1].svg+"",n;return{c(){e=$t("svg"),w(e,"style",n=`width:${l[0]};height:${l[0]};`),w(e,"viewBox","0 0 100 100"),w(e,"fill","none"),w(e,"stroke","var(--text)"),w(e,"class","svelte-1ab3fjp")},m(o,r){H(o,e,r),e.innerHTML=t},p(o,[r]){r&2&&t!==(t=o[1].svg+"")&&(e.innerHTML=t),r&1&&n!==(n=`width:${o[0]};height:${o[0]};`)&&w(e,"style",n)},i:oe,o:oe,d(o){o&&S(e)}}}function Mn(l,e,t){let{name:n}=e,{size:o="1em"}=e,r=[{name:"arrowRight",svg:'<path d="M27 7L74 50L27 93" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowLeft",svg:'<path d="M74 93L27 50L74 7" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowUp",svg:'<path d="M7.5 73.5L50.5 26.5L93.5 73.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowDown",svg:'<path d="M93.5 26.5L50.5 73.5L7.5 26.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"delete",svg:`<path d="M78.5685 22L22 78.5685" stroke-width="10" stroke-linecap="round"/>
<path d="M22 22L78.5685 78.5685" stroke-width="10" stroke-linecap="round"/>`},{name:"add",svg:`<path d="M50 15L50 85" stroke-width="10" stroke-linecap="round"/>
<path d="M15 50H85" stroke-width="10" stroke-linecap="round"/>`},{name:"download",svg:`<path d="M71 45L50 68L29 45" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 66L50 14" stroke-width="10" stroke-linecap="round"/>`},{name:"upload",svg:`<path d="M29 37L50 14L71 37" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 16L50 68" stroke-width="10" stroke-linecap="round"/>`},{name:"addUp",svg:`<path d="M85 25V25C87.7614 25 90 27.2386 90 30V70C90 75.5228 85.5228 80 80 80H20C14.4772 80 10 75.5228 10 70L10 30C10 27.2386 12.2386 25 15 25V25" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 25H65" stroke-width="10" stroke-linecap="round"/>
<path d="M50 40V10" stroke-width="10" stroke-linecap="round"/>`},{name:"addDown",svg:`<path d="M15 75V75C12.2386 75 10 72.7614 10 70L10 30C10 24.4772 14.4772 20 20 20L80 20C85.5228 20 90 24.4772 90 30L90 70C90 72.7614 87.7614 75 85 75V75" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M65 75H35" stroke-width="10" stroke-linecap="round"/>
<path d="M50 60L50 90" stroke-width="10" stroke-linecap="round"/>`},{name:"addRight",svg:`<path d="M75 85V85C75 87.7614 72.7614 90 70 90H30C24.4772 90 20 85.5228 20 80V20C20 14.4772 24.4772 10 30 10H70C72.7614 10 75 12.2386 75 15V15" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M75 35V65" stroke-width="10" stroke-linecap="round"/>
<path d="M60 50H90" stroke-width="10" stroke-linecap="round"/>`},{name:"undo",svg:`<path d="M10 47H70C81.0457 47 90 55.9543 90 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M36 70L10 47L36 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"redo",svg:`<path d="M90 47H30C18.9543 47 10 55.9543 10 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M64 70L90 47L64 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"settings",svg:`<line x1="10" y1="50" x2="90" y2="50" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="80" x2="90" y2="80" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="20" x2="90" y2="20" stroke-width="10" stroke-linecap="round"/>
<circle cx="26.25" cy="50.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="80.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="20.25" r="6.25" stroke-width="10"/>`},{name:"check",svg:'<path d="M88.7817 29.2843L39.2842 78.7817L11 50.4975" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"dots",svg:`<circle cx="26.25" cy="50.25" r="5.625" stroke-width="11.25"/>
<circle cx="71.25" cy="80.25" r="5.625" stroke-width="11.25"/>
<circle cx="71.25" cy="20.25" r="5.625" stroke-width="11.25"/>`},{name:"copy",svg:`<path d="M20 73V73C17.2386 73 15 70.7614 15 68L15 19C15 13.4772 19.4772 9 25 9H60C62.7614 9 65 11.2386 65 14V14" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 38V82C35 87.5228 39.4772 92 45 92H75C80.5228 92 85 87.5228 85 82V38C85 32.4772 80.5228 28 75 28H45C39.4772 28 35 32.4772 35 38Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"magnifyGlass",svg:`<rect width="100" height="100" fill="black"/>
<circle cx="46.5" cy="46.5" r="35.5" stroke-width="10"/>
<path d="M72 73L80.5 81.5L89 90" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"magnifyGlassMinus",svg:`<circle cx="46.5" cy="46.5" r="35.5" stroke-width="10"/>
<path d="M72 73L80.5 81.5L89 90" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M32 46H62" stroke-width="10" stroke-linecap="round"/>`},{name:"magnifyGlassPlus",svg:`<circle cx="46.5" cy="46.5" r="35.5" stroke-width="10"/>
<path d="M72 73L80.5 81.5L89 90" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M42 61C42 63.7614 44.2386 66 47 66C49.7614 66 52 63.7614 52 61V51H62C64.7614 51 67 48.7614 67 46C67 43.2386 64.7614 41 62 41H52V31C52 28.2386 49.7614 26 47 26C44.2386 26 42 28.2386 42 31V41H32C29.2386 41 27 43.2386 27 46C27 48.7614 29.2386 51 32 51H42V61Z" fill="currentColor"/>`},{name:"link",svg:`<path d="M42.929 71.2132L53.5356 81.8198C61.3461 89.6303 74.0094 89.6303 81.8199 81.8198V81.8198C89.6304 74.0093 89.6304 61.346 81.8199 53.5355L71.2133 42.9289" stroke-width="10" stroke-linecap="round"/>
<path d="M28.7868 57.0711L18.1802 46.4645C10.3697 38.654 10.3697 25.9907 18.1802 18.1802V18.1802C25.9907 10.3697 38.654 10.3697 46.4645 18.1802L57.0711 28.7868" stroke-width="10" stroke-linecap="round"/>
<path d="M37.272 37.2721L63.0814 63.0815" stroke-width="10" stroke-linecap="round"/>`},{name:"ellipses",svg:`<circle cx="19.25" cy="50.25" r="5.625" stroke-width="11.25"/>
<circle cx="50.25" cy="50.25" r="5.625" stroke-width="11.25"/>
<circle cx="81.25" cy="50.25" r="5.625" stroke-width="11.25"/>`},{name:"funnel",svg:`<line x1="25" y1="50" x2="75" y2="50" stroke-width="10" stroke-linecap="round"/>
<line x1="40" y1="79" x2="60" y2="79" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="20" x2="90" y2="20" stroke-width="10" stroke-linecap="round"/>`},{name:"copyBelow",svg:`<path d="M20 73V73C17.2386 73 15 70.7614 15 68V62M65 14V14C65 11.2386 62.7614 9 60 9H25C19.4772 9 15 13.4772 15 19L15 31" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 33V33C35 30.2386 37.2386 28 40 28H75C80.5228 28 85 32.4772 85 38V82C85 87.5228 80.5228 92 75 92H45C39.4772 92 35 87.5228 35 82V82" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M73 47L49.5 73L26 47" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"copyAbove",svg:`<path d="M20 73V73C17.2386 73 15 70.7614 15 68V62M65 14V14C65 11.2386 62.7614 9 60 9H25C19.4772 9 15 13.4772 15 19L15 31" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 33V33C35 30.2386 37.2386 28 40 28H75C80.5228 28 85 32.4772 85 38V82C85 87.5228 80.5228 92 75 92H45C39.4772 92 35 87.5228 35 82V82" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M73 47L49.5 73L26 47" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M73 73L49.5 81.5L26 73" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"rainbow",svg:`<path d="M28 68C28 36 70 36 70 68" stroke-width="10" stroke-linecap="round"/>
<path d="M8 68C8 9.33333 92 9.33333 92 68" stroke-width="10" stroke-linecap="round"/>`}],i;function u(){t(1,i=r.find(s=>s.name===n))}return u(),l.$$set=s=>{"name"in s&&t(2,n=s.name),"size"in s&&t(0,o=s.size)},l.$$.update=()=>{l.$$.dirty&4&&u()},[o,i,n]}class ye extends ae{constructor(e){super(),fe(this,e,Mn,Ln,le,{name:2,size:0})}}function Tn(l){let e,t,n,o;const r=l[5].default,i=Pe(r,l,l[4],null);return{c(){e=T("button"),i&&i.c(),e.disabled=l[1],w(e,"class","svelte-kupzx"),M(e,"background",l[0]),M(e,"small",l[2]),M(e,"hoverShadow",l[3])},m(u,s){H(u,e,s),i&&i.m(e,null),t=!0,n||(o=[x(e,"click",l[6]),x(e,"mousedown",We(On))],n=!0)},p(u,[s]){i&&i.p&&(!t||s&16)&&Ve(i,r,u,u[4],t?Ee(r,u[4],s,null):De(u[4]),null),(!t||s&2)&&(e.disabled=u[1]),(!t||s&1)&&M(e,"background",u[0]),(!t||s&4)&&M(e,"small",u[2]),(!t||s&8)&&M(e,"hoverShadow",u[3])},i(u){t||(k(i,u),t=!0)},o(u){b(i,u),t=!1},d(u){u&&S(e),i&&i.d(u),n=!1,Fe(o)}}}const On=()=>{};function Hn(l,e,t){let{$$slots:n={},$$scope:o}=e,{background:r=!0}=e,{disabled:i=!1}=e,{small:u=!1}=e,{hoverShadow:s=!1}=e;function a(f){Dt.call(this,l,f)}return l.$$set=f=>{"background"in f&&t(0,r=f.background),"disabled"in f&&t(1,i=f.disabled),"small"in f&&t(2,u=f.small),"hoverShadow"in f&&t(3,s=f.hoverShadow),"$$scope"in f&&t(4,o=f.$$scope)},[r,i,u,s,o,n,a]}class pe extends ae{constructor(e){super(),fe(this,e,Hn,Tn,le,{background:0,disabled:1,small:2,hoverShadow:3})}}function kt(l,e,t){const n=l.slice();return n[23]=e[t],n}function Sn(l){let e,t;return e=new ye({props:{name:"copy"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function In(l){let e,t;return e=new ye({props:{name:"copyBelow"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function wt(l){let e,t;return e=new Rn({props:{text:l[23].text,style:l[23].style,queryMatches:l[23].queryMatches,selectedQueryMatch:l[23].selectedQueryMatch}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&8&&(r.text=n[23].text),o&8&&(r.style=n[23].style),o&8&&(r.queryMatches=n[23].queryMatches),o&8&&(r.selectedQueryMatch=n[23].selectedQueryMatch),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function et(l){let e,t,n,o,r=l[3],i=[];for(let s=0;s<r.length;s+=1)i[s]=wt(kt(l,r,s));const u=s=>b(i[s],1,1,()=>{i[s]=null});return{c(){e=T(l[2]);for(let s=0;s<i.length;s+=1)i[s].c();xt(l[2])(e,{class:"para svelte-1imszax"})},m(s,a){H(s,e,a);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);t=!0,n||(o=x(e,"click",l[17]),n=!0)},p(s,a){if(a&8){r=s[3];let f;for(f=0;f<r.length;f+=1){const d=kt(s,r,f);i[f]?(i[f].p(d,a),k(i[f],1)):(i[f]=wt(d),i[f].c(),k(i[f],1),i[f].m(e,null))}for(ie(),f=r.length;f<i.length;f+=1)u(f);ue()}},i(s){if(!t){for(let a=0;a<r.length;a+=1)k(i[a]);t=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)b(i[a]);t=!1},d(s){s&&S(e),nt(i,s),n=!1,o()}}}function qn(l){let e,t,n,o,r,i,u,s=l[2],a,f,d;o=new pe({props:{$$slots:{default:[Sn]},$$scope:{ctx:l}}}),o.$on("click",l[13]),i=new pe({props:{disabled:l[4],$$slots:{default:[In]},$$scope:{ctx:l}}}),i.$on("click",l[14]);let c=l[2]&&et(l);return{c(){e=T("div"),t=T("div"),n=T("div"),P(o.$$.fragment),r=J(),P(i.$$.fragment),u=J(),c&&c.c(),w(n,"class","buttons svelte-1imszax"),M(n,"loading",l[4]),w(t,"class","buttonsContainer svelte-1imszax"),M(t,"showButtons",l[5]),w(e,"class","top svelte-1imszax")},m(h,m){H(h,e,m),q(e,t),q(t,n),V(o,n,null),q(n,r),V(i,n,null),q(e,u),c&&c.m(e,null),a=!0,f||(d=[x(t,"mouseenter",l[15]),x(t,"mouseleave",l[16]),x(e,"click",l[18])],f=!0)},p(h,[m]){const g={};m&67108864&&(g.$$scope={dirty:m,ctx:h}),o.$set(g);const C={};m&16&&(C.disabled=h[4]),m&67108864&&(C.$$scope={dirty:m,ctx:h}),i.$set(C),(!a||m&16)&&M(n,"loading",h[4]),(!a||m&32)&&M(t,"showButtons",h[5]),h[2]?s?le(s,h[2])?(c.d(1),c=et(h),s=h[2],c.c(),c.m(e,null)):c.p(h,m):(c=et(h),s=h[2],c.c(),c.m(e,null)):s&&(c.d(1),c=null,s=h[2])},i(h){a||(k(o.$$.fragment,h),k(i.$$.fragment,h),a=!0)},o(h){b(o.$$.fragment,h),b(i.$$.fragment,h),b(c),a=!1},d(h){h&&S(e),D(o),D(i),c&&c.d(h),f=!1,Fe(d)}}}function zn(l,e,t){let n,o,{copySelfAndChildren:r}=e,{runs:i=[]}=e,{outline_level:u}=e,{index:s}=e,a="p";u===0?a="h1":u===1?a="h2":u===2?a="h3":u===3?a="h4":u===4?a="h5":u===5&&(a="h6");let f=ne("query");re(l,f,y=>t(12,o=y));let d=ne("selectedQuery");re(l,d,y=>t(11,n=y));let c=[],h=i.reduce((y,p)=>y+p.text,"");function m(){if(o.onlyOutline&&u==null){t(3,c=i);return}t(3,c=[]);let y=[];if(o.text.length>0){let j=o.text,A=h;o.matchCase||(j=j.toLowerCase(),A=A.toLowerCase()),y=[];let Q=A.indexOf(j);for(;Q<A.length&&Q!=-1;)y.push(Q),Q=A.indexOf(j,Q+1)}let p=0;for(let j of i){let A=[],Q;for(let E of y)E+o.text.length>=p&&E<p+j.text.length&&(A.push(E-p),s===n.paraIndex&&E===n.charIndex&&(Q=A.length-1));c.push({...j,queryMatches:A,selectedQueryMatch:Q}),p+=j.text.length}}function g(){let y=document.createElement(a);y.setAttribute("style",`
      font-family: Calibri;
      line-height: 1em;
    `);for(let p of i){let j=document.createElement("span");j.setAttribute("style",`
        font-weight: ${p.style.bold?"bold":"normal"};
        text-decoration: ${p.style.underline?"underline":"none"};
        font-size: ${p.style.size?p.style.size/2:12}pt;
        background-color: ${p.style.highlight?"yellow":"none"};
      `),j.innerText=p.text.replaceAll(`
`,"").replaceAll("\r",""),y.appendChild(j)}return y}function C(){let y="";for(let p of i)y+=p.text;return y}function _(){const y=new window.ClipboardItem({"text/html":new Blob([g().outerHTML],{type:"text/html"}),"text/plain":new Blob([C()],{type:"text/plain"})});navigator.clipboard.write([y])}let L=!1,R=!1;const Y=()=>{_()},X=async()=>{t(4,L=!0),await r(),t(4,L=!1)},z=()=>t(5,R=!0),B=()=>t(5,R=!1),U=()=>console.log(s),O=()=>console.log(s);return l.$$set=y=>{"copySelfAndChildren"in y&&t(0,r=y.copySelfAndChildren),"runs"in y&&t(9,i=y.runs),"outline_level"in y&&t(10,u=y.outline_level),"index"in y&&t(1,s=y.index)},l.$$.update=()=>{l.$$.dirty&6144&&m()},[r,s,a,c,L,R,f,d,_,i,u,n,o,Y,X,z,B,U,O]}class Fn extends ae{constructor(e){super(),fe(this,e,zn,qn,le,{copySelfAndChildren:0,runs:9,outline_level:10,index:1})}}function jn(l,e){const t=window.getSelection(),n=l.querySelector(".items");if(!(t.rangeCount&&t.containsNode(l,!0)))return;const o=t.getRangeAt(0);let r={start:{para:void 0,run:void 0,offset:void 0},end:{para:void 0,run:void 0,offset:void 0}},i=0;for(let s of n.children){if(s.contains(o.startContainer)){let a=0;for(let f of s.querySelector(".para").children){if(f.contains(o.startContainer)){let d=0;for(let c of f.childNodes){if(c==o.startContainer||c.contains(o.startContainer)){r.start.para=i,r.start.run=a,r.start.offset=d+o.startOffset;break}d+=c.textContent.length}}a++}}if(s.contains(o.endContainer)){let a=0,f=!1;for(let d of s.querySelector(".para").children){if(d.contains(o.endContainer)){f=!0;let c=0;for(let h of d.childNodes){if(h==o.endContainer||h.contains(o.endContainer)){r.end.para=i,r.end.run=a,r.end.offset=c+o.endOffset;break}c+=h.textContent.length}}f||(r.end.para=i,r.end.run=0,r.end.offset=0),a++}}i++}r.end.para==null&&(r.end.para=e.length-1,r.end.run=e[r.end.para].runs.length-1,r.end.offset=e[r.end.para].runs[r.end.run].text.length),console.log(r);let u=document.createElement("div");for(let s=r.start.para;s<r.end.para+1;s++){let a=e[s],f;s==r.start.para&&s==r.end.para?f=Be(a,r.start.run,r.end.run,r.start.offset,r.end.offset):s==r.start.para?f=Be(a,r.start.run,null,r.start.offset,null):s==r.end.para?f=Be(a,null,r.end.run,null,r.end.offset):f=Be(a),u.appendChild(f)}return u}function Be(l,e,t,n,o){let r="p";l.outline_level===0?r="h1":l.outline_level===1?r="h2":l.outline_level===2?r="h3":l.outline_level===3?r="h4":l.outline_level===4?r="h5":l.outline_level===5&&(r="h6");let i=document.createElement(r);i.setAttribute("style",`
    font-family: Calibri;
    line-height: 1em;
  `);let u=l.runs;e=e??0,t=t??u.length-1;for(let s=e;s<t+1;s++)s==e&&s==t?i.appendChild(Ge(u[s],n,o)):s==e?i.appendChild(Ge(u[s],n,null)):s==t?i.appendChild(Ge(u[s],null,o)):i.appendChild(Ge(u[s]));return i}function Ge(l,e,t){let n=document.createElement("span");n.setAttribute("style",`
      font-weight: ${l.style.bold?"bold":"normal"};
      text-decoration: ${l.style.underline?"underline":"none"};
      font-size: ${l.style.size?l.style.size/2:12}pt;
      background-color: ${l.style.highlight?"yellow":"none"};
    `),e=e??0,t=t??l.text.length;let o=l.text.slice(e,t);return n.innerText=o.replace(/\n/g,"").replace(/\r/g,""),n}function bt(l){let e=new Blob([l.innerHTML],{type:"text/html"});for(let o of l.children)o.appendChild(document.createTextNode(`
`));let t=new Blob([l.textContent],{type:"text/plain"});const n=new window.ClipboardItem({"text/html":e,"text/plain":t});navigator.clipboard.write([n])}let tt={};function Ne(l,e){tt[l]=e}window.addEventListener("keydown",function(l){for(let e of Object.keys(tt)){let t=e.split("+"),n=!0;for(let o of t)if(o=="CommandOrControl"?n=l.metaKey||l.ctrlKey:o=="Control"?n=l.ctrlKey:o=="Command"?n=l.metaKey:o=="Shift"&&l.shiftKey?n=l.shiftKey:o=="Alt"&&l.altKey?n=l.altKey:n=o.toLowerCase()==l.key.toLowerCase(),!n)break;n&&(l.preventDefault(),l.stopPropagation(),tt[e]())}});function yt(l,e,t){const n=l.slice();return n[24]=e[t],n[26]=t,n}function vt(l){let e,t,n,o;function r(s){l[18](s)}function i(s){l[19](s)}let u={viewerElement:l[3],serverCommand:Qt,canRemoveItem:Vn,shouldTrackFocus:!0,verbose:!0,$$slots:{default:[Bn]},$$scope:{ctx:l}};return l[6]!==void 0&&(u.items=l[6]),l[0].loader!==void 0&&(u.state=l[0].loader),e=new st({props:u}),l[17](e),W.push(()=>de(e,"items",r)),W.push(()=>de(e,"state",i)),{c(){P(e.$$.fragment)},m(s,a){V(e,s,a),o=!0},p(s,a){const f={};a&8&&(f.viewerElement=s[3]),a&134217792&&(f.$$scope={dirty:a,ctx:s}),!t&&a&64&&(t=!0,f.items=s[6],he(()=>t=!1)),!n&&a&1&&(n=!0,f.state=s[0].loader,he(()=>n=!1)),e.$set(f)},i(s){o||(k(e.$$.fragment,s),o=!0)},o(s){b(e.$$.fragment,s),o=!1},d(s){l[17](null),D(e,s)}}}function Ct(l,e){let t,n,o;function r(){return e[16](e[26])}const i=[e[24],{copySelfAndChildren:r}];let u={};for(let s=0;s<i.length;s+=1)u=en(u,i[s]);return n=new Fn({props:u}),{key:l,first:null,c(){t=Re(),P(n.$$.fragment),this.first=t},m(s,a){H(s,t,a),V(n,s,a),o=!0},p(s,a){e=s;const f=a&16448?tn(i,[a&64&&nn(e[24]),{copySelfAndChildren:r}]):{};n.$set(f)},i(s){o||(k(n.$$.fragment,s),o=!0)},o(s){b(n.$$.fragment,s),o=!1},d(s){s&&S(t),D(n,s)}}}function Bn(l){let e=[],t=new Map,n,o,r=l[6];const i=u=>u[24].index;for(let u=0;u<r.length;u+=1){let s=yt(l,r,u),a=i(s);t.set(a,e[u]=Ct(a,s))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=Re()},m(u,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(u,s);H(u,n,s),o=!0},p(u,s){s&16448&&(r=u[6],ie(),e=lt(e,s,i,1,u,r,t,n.parentNode,ot,Ct,n,yt),ue())},i(u){if(!o){for(let s=0;s<r.length;s+=1)k(e[s]);o=!0}},o(u){for(let s=0;s<e.length;s+=1)b(e[s]);o=!1},d(u){for(let s=0;s<e.length;s+=1)e[s].d(u);u&&S(n)}}}function Pn(l){let e,t,n,o,r,i,u,s,a=l[3]&&vt(l);return{c(){e=T("div"),t=T("div"),n=T("div"),o=T("div"),a&&a.c(),w(o,"class","paras svelte-qaoydo"),w(n,"class","paras-container svelte-qaoydo"),w(t,"class","content svelte-qaoydo"),w(t,"style",r=`font-size: ${l[8]*16}px;`),w(e,"class","viewer svelte-qaoydo"),M(e,"showOutline",l[1]),M(e,"showSearchResults",l[2]&&l[4].text.length>0),M(e,"isResizing",l[9])},m(f,d){H(f,e,d),q(e,t),q(t,n),q(n,o),a&&a.m(o,null),l[20](o),l[21](e),i=!0,u||(s=x(e,"wheel",l[13]),u=!0)},p(f,[d]){f[3]?a?(a.p(f,d),d&8&&k(a,1)):(a=vt(f),a.c(),k(a,1),a.m(o,null)):a&&(ie(),b(a,1,1,()=>{a=null}),ue()),(!i||d&256&&r!==(r=`font-size: ${f[8]*16}px;`))&&w(t,"style",r),(!i||d&2)&&M(e,"showOutline",f[1]),(!i||d&20)&&M(e,"showSearchResults",f[2]&&f[4].text.length>0),(!i||d&512)&&M(e,"isResizing",f[9])},i(f){i||(k(a),i=!0)},o(f){b(a),i=!1},d(f){f&&S(e),a&&a.d(),l[20](null),l[21](null),u=!1,s()}}}async function Qt(l,e){}function Vn(l,e){const t=window.getSelection();return!(t.rangeCount&&t.containsNode(e,!0))}function Dn(l,e,t){let n,o,r,i=ne("isResizing");re(l,i,p=>t(9,r=p));let u=ne("query");re(l,u,p=>t(4,n=p));let s=ne("zoom");re(l,s,p=>t(8,o=p));let{showOutline:a}=e,{showSearchResults:f}=e,{state:d}=e,c,h;function m(){return h}let g=[];async function C(p){if(p.ctrlKey){p.preventDefault(),ce(s,o-=p.deltaY*.01,o),ce(s,o=Math.max(Math.min(o,8),.3),o);let j=(c.scrollTop+c.clientHeight/2)/c.scrollHeight;await Oe(),t(3,c.scrollTop=c.scrollHeight*j-c.clientHeight/2,c)}}let _,L=[void 0,void 0];const R=new ResizeObserver(p=>{for(let j of p)if(j.target===_){let A=[j.contentRect.width,j.contentRect.height];if(L[0]!==A[0]){let Q=L[1]-A[1],E=c.clientHeight,K=(c.scrollTop+c.clientHeight/2)/(c.scrollHeight+Q);t(3,c.scrollTop=c.scrollHeight*K-E/2,c)}L=A}});Ne("CommandOrControl+=",function(){ce(s,o+=.1,o),ce(s,o=Math.max(Math.min(o,8),.3),o);let p=(c.scrollTop+c.clientHeight/2)/c.scrollHeight;t(3,c.scrollTop=c.scrollHeight*p-c.clientHeight/2,c)}),Ne("CommandOrControl+-",function(){ce(s,o-=.1,o),ce(s,o=Math.max(Math.min(o,8),.3),o);let p=(c.scrollTop+c.clientHeight/2)/c.scrollHeight;t(3,c.scrollTop=c.scrollHeight*p-c.clientHeight/2,c)}),Ne("CommandOrControl+c",function(){let p=jn(_,g);p&&bt(p)}),Qe(()=>{R.observe(_)});async function Y(p){let j=document.createElement("div"),A=g.slice(p),Q=g[p];j.appendChild(Be(Q));let E=1;for(;E<A.length;){let K=A[E];if(Q.outline_level!=null&&(K.outline_level==null||K.outline_level>Q.outline_level))j.appendChild(Be(K));else break;if(E+1>=A.length){A[A.length-1].index;let Z=await Qt();E=-1,A=Z}E++}bt(j)}const X=p=>Y(p);function z(p){W[p?"unshift":"push"](()=>{h=p,t(5,h)})}function B(p){g=p,t(6,g)}function U(p){l.$$.not_equal(d.loader,p)&&(d.loader=p,t(0,d))}function O(p){W[p?"unshift":"push"](()=>{_=p,t(7,_)})}function y(p){W[p?"unshift":"push"](()=>{c=p,t(3,c),t(2,f),t(4,n),t(1,a)})}return l.$$set=p=>{"showOutline"in p&&t(1,a=p.showOutline),"showSearchResults"in p&&t(2,f=p.showSearchResults),"state"in p&&t(0,d=p.state)},l.$$.update=()=>{l.$$.dirty&30&&f&&n.text.length>0&&!a&&t(3,c.scrollLeft=c.scrollWidth,c)},[d,a,f,c,n,h,g,_,o,r,i,u,s,C,Y,m,X,z,B,U,O,y]}class En extends ae{constructor(e){super(),fe(this,e,Dn,Pn,le,{showOutline:1,showSearchResults:2,state:0,getLoader:15})}get getLoader(){return this.$$.ctx[15]}}function Nn(l){let e,t,n,o;return t=new ye({props:{name:"arrowRight"}}),{c(){e=T("div"),P(t.$$.fragment),w(e,"class",n=ut(`top ${l[0]}`)+" svelte-1smxxim")},m(r,i){H(r,e,i),V(t,e,null),o=!0},p(r,[i]){(!o||i&1&&n!==(n=ut(`top ${r[0]}`)+" svelte-1smxxim"))&&w(e,"class",n)},i(r){o||(k(t.$$.fragment,r),o=!0)},o(r){b(t.$$.fragment,r),o=!1},d(r){r&&S(e),D(t)}}}function Qn(l,e,t){let{direction:n="right"}=e;return l.$$set=o=>{"direction"in o&&t(0,n=o.direction)},[n]}class Je extends ae{constructor(e){super(),fe(this,e,Qn,Nn,le,{direction:0})}}function Rt(l){let e,t,n,o,r;return t=new Je({props:{direction:l[4]?"left":"down"}}),{c(){e=T("button"),P(t.$$.fragment),w(e,"class","folder svelte-1ceo5kq")},m(i,u){H(i,e,u),V(t,e,null),n=!0,o||(r=x(e,"click",l[10]),o=!0)},p(i,u){const s={};u&16&&(s.direction=i[4]?"left":"down"),t.$set(s)},i(i){n||(k(t.$$.fragment,i),n=!0)},o(i){b(t.$$.fragment,i),n=!1},d(i){i&&S(e),D(t),o=!1,r()}}}function An(l){let e,t,n,o,r,i,u,s,a,f=l[0]<3&&Rt(l);return{c(){e=T("li"),f&&f.c(),t=J(),n=T("div"),o=T("span"),r=me(l[5]),w(o,"class","svelte-1ceo5kq"),w(n,"class","content svelte-1ceo5kq"),w(e,"style",i=`margin-left: ${l[6]}em`),w(e,"class","svelte-1ceo5kq"),M(e,"selected",l[3]),M(e,"foldedParent",l[4]),M(e,"hasButtons",l[0]<3),M(e,"bold",l[6]<3),M(e,"big",l[6]<2)},m(d,c){H(d,e,c),f&&f.m(e,null),q(e,t),q(e,n),q(n,o),q(o,r),u=!0,s||(a=x(e,"click",l[11]),s=!0)},p(d,[c]){d[0]<3?f?(f.p(d,c),c&1&&k(f,1)):(f=Rt(d),f.c(),k(f,1),f.m(e,t)):f&&(ie(),b(f,1,1,()=>{f=null}),ue()),(!u||c&32)&&be(r,d[5]),(!u||c&64&&i!==(i=`margin-left: ${d[6]}em`))&&w(e,"style",i),(!u||c&8)&&M(e,"selected",d[3]),(!u||c&16)&&M(e,"foldedParent",d[4]),(!u||c&1)&&M(e,"hasButtons",d[0]<3),(!u||c&64)&&M(e,"bold",d[6]<3),(!u||c&64)&&M(e,"big",d[6]<2)},i(d){u||(k(f),u=!0)},o(d){b(f),u=!1},d(d){d&&S(e),f&&f.d(),s=!1,a()}}}function Kn(l,e,t){let n,{outlineLevel:o=0}=e,{toggleFold:r}=e,{link:i}=e,{runs:u}=e,{index:s}=e,{selected:a=!1}=e,{foldedParent:f=!1}=e,d="",c=ne("getDocLoader");const h=g=>{g.stopPropagation(),r()},m=()=>{c().teleport(i)};return l.$$set=g=>{"outlineLevel"in g&&t(0,o=g.outlineLevel),"toggleFold"in g&&t(1,r=g.toggleFold),"link"in g&&t(2,i=g.link),"runs"in g&&t(8,u=g.runs),"index"in g&&t(9,s=g.index),"selected"in g&&t(3,a=g.selected),"foldedParent"in g&&t(4,f=g.foldedParent)},l.$$.update=()=>{if(l.$$.dirty&1&&t(6,n=Math.min(o,3)),l.$$.dirty&288){t(5,d="");for(let g of u)t(5,d+=g.text)}},[o,r,i,a,f,d,n,c,u,s,h,m]}class Un extends ae{constructor(e){super(),fe(this,e,Kn,An,le,{outlineLevel:0,toggleFold:1,link:2,runs:8,index:9,selected:3,foldedParent:4})}}function Lt(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function Mt(l){let e,t,n,o,r,i,u,s;function a(c){l[15](c)}function f(c){l[16](c)}let d={serverCommand:l[8],fetchAmount:30,$$slots:{default:[Gn]},$$scope:{ctx:l}};return l[2]!==void 0&&(d.items=l[2]),l[0].loader!==void 0&&(d.state=l[0].loader),o=new st({props:d}),l[14](o),W.push(()=>de(o,"items",a)),W.push(()=>de(o,"state",f)),{c(){e=T("div"),t=T("div"),n=T("div"),P(o.$$.fragment),w(n,"class","content svelte-pilaz9"),w(t,"class","viewer svelte-pilaz9"),w(e,"class","top svelte-pilaz9")},m(c,h){H(c,e,h),q(e,t),q(t,n),V(o,n,null),l[17](t),s=!0},p(c,h){const m={};h&16777380&&(m.$$scope={dirty:h,ctx:c}),!r&&h&4&&(r=!0,m.items=c[2],he(()=>r=!1)),!i&&h&1&&(i=!0,m.state=c[0].loader,he(()=>i=!1)),o.$set(m)},i(c){s||(k(o.$$.fragment,c),ze(()=>{s&&(u||(u=Ce(e,dt,{},!0)),u.run(1))}),s=!0)},o(c){b(o.$$.fragment,c),u||(u=Ce(e,dt,{},!1)),u.run(0),s=!1},d(c){c&&S(e),l[14](null),D(o),l[17](null),c&&u&&u.end()}}}function Tt(l,e){let t,n,o;function r(){return e[13](e[23])}return n=new Un({props:{outlineLevel:e[21].outline_level,link:e[21].link,runs:e[21].runs,index:e[21].index,toggleFold:r,foldedParent:e[7].hasOwnProperty(e[21].index),selected:e[21].index===e[5]}}),{key:l,first:null,c(){t=Re(),P(n.$$.fragment),this.first=t},m(i,u){H(i,t,u),V(n,i,u),o=!0},p(i,u){e=i;const s={};u&4&&(s.outlineLevel=e[21].outline_level),u&4&&(s.link=e[21].link),u&4&&(s.runs=e[21].runs),u&4&&(s.index=e[21].index),u&4&&(s.toggleFold=r),u&132&&(s.foldedParent=e[7].hasOwnProperty(e[21].index)),u&36&&(s.selected=e[21].index===e[5]),n.$set(s)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){b(n.$$.fragment,i),o=!1},d(i){i&&S(t),D(n,i)}}}function Gn(l){let e=[],t=new Map,n,o,r=l[2];const i=u=>u[21].index;for(let u=0;u<r.length;u+=1){let s=Lt(l,r,u),a=i(s);t.set(a,e[u]=Tt(a,s))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=Re()},m(u,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(u,s);H(u,n,s),o=!0},p(u,s){s&676&&(r=u[2],ie(),e=lt(e,s,i,1,u,r,t,n.parentNode,ot,Tt,n,Lt),ue())},i(u){if(!o){for(let s=0;s<r.length;s+=1)k(e[s]);o=!0}},o(u){for(let s=0;s<e.length;s+=1)b(e[s]);o=!1},d(u){for(let s=0;s<e.length;s+=1)e[s].d(u);u&&S(n)}}}function Zn(l){let e,t,n=l[1]&&Mt(l);return{c(){n&&n.c(),e=Re()},m(o,r){n&&n.m(o,r),H(o,e,r),t=!0},p(o,[r]){o[1]?n?(n.p(o,r),r&2&&k(n,1)):(n=Mt(o),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(ie(),b(n,1,1,()=>{n=null}),ue())},i(o){t||(k(n),t=!0)},o(o){b(n),t=!1},d(o){n&&n.d(o),o&&S(e)}}}function Xn(l,e,t){let n,o=oe,r=()=>(o(),o=ln(u,y=>t(12,n=y)),u);l.$$.on_destroy.push(()=>o());let i=ne("getDocLoader"),u;Qe(async function(){await Oe(),r(t(4,u=i().getFocusStore()))});let s=[],a=null;function f(){for(let y=0;y<s.length;y++)if(s[y].link>n.index){t(5,a=s[y].index-1);return}else if(s[y].link==n.index){t(5,a=s[y].index);return}}let d,c,{showOutline:h}=e,{state:m}=e;function g(){return c}async function C(y,p){return await Te()}let _={},L={};async function R(y){let p=s[y];if(L.hasOwnProperty(p.index)){for(let j of L[p.index])t(11,_[j]=_[j].filter(A=>A!==p.index),_),_[j].length==0&&delete _[j];delete L[p.index],t(7,L),t(11,_),c.removeSkipRange(p.index),c.setMuteObservers(!0),t(2,s=s.slice(0,y+1)),await Oe(),c.updateIndex(),await c.loadBottom(),c.setMuteObservers(!1)}else{let j=s.slice(y),A=[],Q=1;for(;Q<j.length;){let E=j[Q];if(p.outline_level!=null&&(E.outline_level==null||E.outline_level>p.outline_level))A.push(E.index);else break;if(Q+1>=j.length){j[j.length-1].index;let K=await C();Q=-1,j=K}Q++}t(7,L[p.index]=[],L);for(let E of A)L[p.index].push(E),_.hasOwnProperty(E)?_[E].push(p.index):t(11,_[E]=[p.index],_);c.addSkipRange(p.index,A[0],A[A.length-1]),t(7,L),t(11,_)}}function Y(){let y=[];for(let p of s)_.hasOwnProperty(p.index)||y.push(p);t(2,s=y)}const X=y=>R(y);function z(y){W[y?"unshift":"push"](()=>{c=y,t(3,c)})}function B(y){s=y,t(2,s)}function U(y){l.$$.not_equal(m.loader,y)&&(m.loader=y,t(0,m))}function O(y){W[y?"unshift":"push"](()=>{d=y,t(6,d)})}return l.$$set=y=>{"showOutline"in y&&t(1,h=y.showOutline),"state"in y&&t(0,m=y.state)},l.$$.update=()=>{l.$$.dirty&4096&&f(),l.$$.dirty&10&&(h||c==null||c.saveState()),l.$$.dirty&2052&&Y()},[m,h,s,c,u,a,d,L,C,R,g,_,n,X,z,B,U,O]}class Wn extends ae{constructor(e){super(),fe(this,e,Xn,Zn,le,{showOutline:1,state:0,getLoader:10})}get getLoader(){return this.$$.ctx[10]}}function Jn(l){let e,t,n;return{c(){e=T("textarea"),w(e,"placeholder",l[0]),w(e,"spellcheck",!1),w(e,"class","svelte-34onry")},m(o,r){H(o,e,r),l[9](e),Ze(e,l[2]),t||(n=[x(e,"keydown",l[5]),x(e,"input",l[10])],t=!0)},p(o,[r]){r&1&&w(e,"placeholder",o[0]),r&4&&Ze(e,o[2])},i:oe,o:oe,d(o){o&&S(e),l[9](null),t=!1,Fe(n)}}}function Yn(l,e,t){let n,o,{placeholder:r=""}=e,{matchCase:i}=e,{onlyOutline:u}=e,s=ne("query");re(l,s,R=>t(12,o=R));let a=ne("selectedQuery");re(l,a,R=>t(8,n=R));let f=ne("prevResult"),d=ne("nextResult");function c(R){R.key==="Enter"||R.key==="Tab"?(R.preventDefault(),R.stopPropagation(),R.shiftKey?f():d()):R.key=="ArrowUp"?(R.preventDefault(),R.stopPropagation(),f()):R.key=="ArrowDown"?(R.preventDefault(),R.stopPropagation(),d()):R.key==="Escape"&&(R.preventDefault(),R.stopPropagation(),h.blur(),ce(s,o.text="",o),t(2,m=""),ce(a,n.paraIndex=void 0,n),ce(a,n.charIndex=void 0,n))}let h;Ne("CommandOrControl+F",()=>{h.focus()});let m="",g;function C(){g&&clearTimeout(g),g=setTimeout(()=>{s.set({text:m.replace(/\u00A0/g," "),matchCase:i,onlyOutline:u})},200)}function _(R){W[R?"unshift":"push"](()=>{h=R,t(1,h)})}function L(){m=this.value,t(2,m)}return l.$$set=R=>{"placeholder"in R&&t(0,r=R.placeholder),"matchCase"in R&&t(6,i=R.matchCase),"onlyOutline"in R&&t(7,u=R.onlyOutline)},l.$$.update=()=>{l.$$.dirty&258&&n.paraIndex!=null&&h.focus(),l.$$.dirty&4&&C()},[r,h,m,s,a,c,i,u,n,_,L]}class $n extends ae{constructor(e){super(),fe(this,e,Yn,Jn,le,{placeholder:0,matchCase:6,onlyOutline:7})}}function Ot(l){let e,t;return e=new pe({props:{background:!1,$$slots:{default:[xn]},$$scope:{ctx:l}}}),e.$on("click",function(){Et(l[3])&&l[3].apply(this,arguments)}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){l=n;const r={};o&1048576&&(r.$$scope={dirty:o,ctx:l}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function xn(l){let e,t;return e=new ye({props:{name:"link"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function el(l){let e,t;return e=new Je({props:{direction:l[0]?"left":"right"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&1&&(r.direction=n[0]?"left":"right"),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function tl(l){let e,t;return e=new ye({props:{name:"magnifyGlassPlus"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function nl(l){let e,t;return e=new ye({props:{name:"magnifyGlassMinus"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function ll(l){let e;return{c(){e=me("No open file")},m(t,n){H(t,e,n)},p:oe,d(t){t&&S(e)}}}function ol(l){let e=l[8].name+"",t;return{c(){t=me(e)},m(n,o){H(n,t,o)},p(n,o){o&256&&e!==(e=n[8].name+"")&&be(t,e)},d(n){n&&S(t)}}}function sl(l){let e;return{c(){e=me("Load Sample")},m(t,n){H(t,e,n)},d(t){t&&S(e)}}}function rl(l){let e,t,n;return e=new ye({props:{name:"add"}}),{c(){P(e.$$.fragment),t=me("Import Docx")},m(o,r){V(e,o,r),H(o,t,r),n=!0},p:oe,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),n=!1},d(o){D(e,o),o&&S(t)}}}function Ht(l){let e,t,n,o,r,i;return t=new pe({props:{background:!1,$$slots:{default:[il]},$$scope:{ctx:l}}}),t.$on("click",l[19]),{c(){e=T("div"),P(t.$$.fragment),w(e,"class","search-buttons svelte-gsu3sp")},m(u,s){H(u,e,s),V(t,e,null),o=!0,r||(i=x(e,"mousedown",on(We(fl))),r=!0)},p(u,s){const a={};s&1048578&&(a.$$scope={dirty:s,ctx:u}),t.$set(a)},i(u){o||(k(t.$$.fragment,u),ze(()=>{o&&(n||(n=Ce(e,at,{duration:300},!0)),n.run(1))}),o=!0)},o(u){b(t.$$.fragment,u),n||(n=Ce(e,at,{duration:300},!1)),n.run(0),o=!1},d(u){u&&S(e),D(t),u&&n&&n.end(),r=!1,i()}}}function il(l){let e,t;return e=new Je({props:{direction:l[1]?"right":"left"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&2&&(r.direction=n[1]?"right":"left"),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function ul(l){let e,t,n,o,r,i,u,s,a,f,d,c,h,m,g,C,_,L,R,Y,X,z,B,U,O,y,p=l[0]&&Ot(l);o=new pe({props:{background:!1,$$slots:{default:[el]},$$scope:{ctx:l}}}),o.$on("click",l[16]),s=new pe({props:{background:!1,$$slots:{default:[tl]},$$scope:{ctx:l}}}),s.$on("click",l[17]),f=new pe({props:{background:!1,$$slots:{default:[nl]},$$scope:{ctx:l}}}),f.$on("click",l[18]);function j(K,Z){return K[8].open?ol:ll}let A=j(l),Q=A(l);_=new pe({props:{hoverShadow:!0,$$slots:{default:[sl]},$$scope:{ctx:l}}}),_.$on("click",al),R=new pe({props:{hoverShadow:!0,$$slots:{default:[rl]},$$scope:{ctx:l}}}),R.$on("click",function(){Et(l[2])&&l[2].apply(this,arguments)}),z=new $n({props:{placeholder:"Search",matchCase:l[4],onlyOutline:l[5]}});let E=l[10].text.length>0&&Ht(l);return{c(){e=T("div"),t=T("section"),p&&p.c(),n=J(),P(o.$$.fragment),r=J(),i=T("section"),u=T("div"),P(s.$$.fragment),a=J(),P(f.$$.fragment),d=J(),c=T("div"),h=T("h1"),Q.c(),m=J(),g=T("input"),C=J(),P(_.$$.fragment),L=J(),P(R.$$.fragment),Y=J(),X=T("section"),P(z.$$.fragment),B=J(),E&&E.c(),w(t,"class","outline svelte-gsu3sp"),w(u,"class","start svelte-gsu3sp"),w(h,"class","svelte-gsu3sp"),w(g,"type","file"),w(g,"id","filePicker"),g.hidden=!0,w(c,"class","center svelte-gsu3sp"),w(i,"class","general svelte-gsu3sp"),M(i,"open",l[8].open),w(X,"class","search svelte-gsu3sp"),w(e,"class","top svelte-gsu3sp"),M(e,"showOutline",l[0]),M(e,"showSearchResults",l[1]),M(e,"isResizing",l[6]),M(e,"isFullscreen",l[7])},m(K,Z){H(K,e,Z),q(e,t),p&&p.m(t,null),q(t,n),V(o,t,null),q(e,r),q(e,i),q(i,u),V(s,u,null),q(u,a),V(f,u,null),q(i,d),q(i,c),q(c,h),Q.m(h,null),q(c,m),q(c,g),q(c,C),V(_,c,null),q(c,L),V(R,c,null),q(e,Y),q(e,X),V(z,X,null),q(X,B),E&&E.m(X,null),U=!0,O||(y=x(e,"select",cl),O=!0)},p(K,[Z]){l=K,l[0]?p?(p.p(l,Z),Z&1&&k(p,1)):(p=Ot(l),p.c(),k(p,1),p.m(t,n)):p&&(ie(),b(p,1,1,()=>{p=null}),ue());const He={};Z&1048577&&(He.$$scope={dirty:Z,ctx:l}),o.$set(He);const Le={};Z&1048576&&(Le.$$scope={dirty:Z,ctx:l}),s.$set(Le);const ve={};Z&1048576&&(ve.$$scope={dirty:Z,ctx:l}),f.$set(ve),A===(A=j(l))&&Q?Q.p(l,Z):(Q.d(1),Q=A(l),Q&&(Q.c(),Q.m(h,null)));const N={};Z&1048576&&(N.$$scope={dirty:Z,ctx:l}),_.$set(N);const ee={};Z&1048576&&(ee.$$scope={dirty:Z,ctx:l}),R.$set(ee),(!U||Z&256)&&M(i,"open",l[8].open);const I={};Z&16&&(I.matchCase=l[4]),Z&32&&(I.onlyOutline=l[5]),z.$set(I),l[10].text.length>0?E?(E.p(l,Z),Z&1024&&k(E,1)):(E=Ht(l),E.c(),k(E,1),E.m(X,null)):E&&(ie(),b(E,1,1,()=>{E=null}),ue()),(!U||Z&1)&&M(e,"showOutline",l[0]),(!U||Z&2)&&M(e,"showSearchResults",l[1]),(!U||Z&64)&&M(e,"isResizing",l[6]),(!U||Z&128)&&M(e,"isFullscreen",l[7])},i(K){U||(k(p),k(o.$$.fragment,K),k(s.$$.fragment,K),k(f.$$.fragment,K),k(_.$$.fragment,K),k(R.$$.fragment,K),k(z.$$.fragment,K),k(E),U=!0)},o(K){b(p),b(o.$$.fragment,K),b(s.$$.fragment,K),b(f.$$.fragment,K),b(_.$$.fragment,K),b(R.$$.fragment,K),b(z.$$.fragment,K),b(E),U=!1},d(K){K&&S(e),p&&p.d(),D(o),D(s),D(f),Q.d(),D(_),D(R),D(z),E&&E.d(),O=!1,y()}}}function al(){}const fl=()=>{},cl=()=>!1;function dl(l,e,t){let n,o,r,i,u,{showOutline:s}=e,{chooseFile:a}=e,{alignOutlineFocus:f}=e,{showSearchResults:d}=e,{matchCase:c}=e,{onlyOutline:h}=e,m=ne("query");re(l,m,B=>t(10,u=B));let g=ne("zoom");re(l,g,B=>t(9,i=B));let C=ne("isResizing");re(l,C,B=>t(6,n=B));let _=ne("fileInfo");re(l,_,B=>t(8,r=B));let L=ne("isFullscreen");re(l,L,B=>t(7,o=B));const R=()=>t(0,s=!s),Y=()=>ce(g,i+=.1,i),X=()=>ce(g,i-=.1,i),z=()=>t(1,d=!d);return l.$$set=B=>{"showOutline"in B&&t(0,s=B.showOutline),"chooseFile"in B&&t(2,a=B.chooseFile),"alignOutlineFocus"in B&&t(3,f=B.alignOutlineFocus),"showSearchResults"in B&&t(1,d=B.showSearchResults),"matchCase"in B&&t(4,c=B.matchCase),"onlyOutline"in B&&t(5,h=B.onlyOutline)},[s,d,a,f,c,h,n,o,r,i,u,m,g,C,_,L,R,Y,X,z]}class hl extends ae{constructor(e){super(),fe(this,e,dl,ul,le,{showOutline:0,chooseFile:2,alignOutlineFocus:3,showSearchResults:1,matchCase:4,onlyOutline:5})}}function ml(l){let e,t;return e=new pe({props:{hoverShadow:!0,$$slots:{default:[_l]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&130&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function gl(l){let e,t;return e=new pe({props:{background:!1,$$slots:{default:[pl]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&128&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function _l(l){let e,t;return e=new ye({props:{name:l[1]}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&2&&(r.name=n[1]),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function pl(l){let e,t;return e=new ye({props:{name:"delete"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function St(l){let e,t,n,o,r,i;const u=l[4].default,s=Pe(u,l,l[7],null);return{c(){e=T("div"),t=T("h1"),n=me(l[3]),o=J(),s&&s.c(),w(t,"class","svelte-tm1pug"),w(e,"class","content svelte-tm1pug")},m(a,f){H(a,e,f),q(e,t),q(t,n),q(e,o),s&&s.m(e,null),i=!0},p(a,f){l=a,(!i||f&8)&&be(n,l[3]),s&&s.p&&(!i||f&128)&&Ve(s,u,l,l[7],i?Ee(u,l[7],f,null):De(l[7]),null)},i(a){i||(k(s,a),ze(()=>{i&&(r||(r=Ce(e,ht,{align:l[2]},!0)),r.run(1))}),i=!0)},o(a){b(s,a),r||(r=Ce(e,ht,{align:l[2]},!1)),r.run(0),i=!1},d(a){a&&S(e),s&&s.d(a),a&&r&&r.end()}}}function kl(l){let e,t,n,o,r,i;const u=[gl,ml],s=[];function a(d,c){return d[0]?0:1}n=a(l),o=s[n]=u[n](l);let f=l[0]&&St(l);return{c(){e=T("div"),t=T("div"),o.c(),r=J(),f&&f.c(),w(t,"class","opener svelte-tm1pug"),M(t,"right",l[2]==te.Right||l[2]==te.TopRight||l[2]==te.BottomRight),M(t,"bottom",l[2]==te.Bottom||l[2]==te.BottomLeft||l[2]==te.BottomRight),w(e,"class","top svelte-tm1pug"),M(e,"open",l[0])},m(d,c){H(d,e,c),q(e,t),s[n].m(t,null),q(e,r),f&&f.m(e,null),i=!0},p(d,[c]){let h=n;n=a(d),n===h?s[n].p(d,c):(ie(),b(s[h],1,1,()=>{s[h]=null}),ue(),o=s[n],o?o.p(d,c):(o=s[n]=u[n](d),o.c()),k(o,1),o.m(t,null)),(!i||c&4)&&M(t,"right",d[2]==te.Right||d[2]==te.TopRight||d[2]==te.BottomRight),(!i||c&4)&&M(t,"bottom",d[2]==te.Bottom||d[2]==te.BottomLeft||d[2]==te.BottomRight),d[0]?f?(f.p(d,c),c&1&&k(f,1)):(f=St(d),f.c(),k(f,1),f.m(e,null)):f&&(ie(),b(f,1,1,()=>{f=null}),ue()),(!i||c&1)&&M(e,"open",d[0])},i(d){i||(k(o),k(f),i=!0)},o(d){b(o),b(f),i=!1},d(d){d&&S(e),s[n].d(),f&&f.d()}}}function wl(l,e,t){let{$$slots:n={},$$scope:o}=e,{icon:r="ellipses"}=e,{align:i=te.Left}=e,{title:u="Panel"}=e,{open:s=!1}=e;const a=()=>t(0,s=!s),f=()=>t(0,s=!s);return l.$$set=d=>{"icon"in d&&t(1,r=d.icon),"align"in d&&t(2,i=d.align),"title"in d&&t(3,u=d.title),"open"in d&&t(0,s=d.open),"$$scope"in d&&t(7,o=d.$$scope)},[s,r,i,u,n,a,f,o]}class At extends ae{constructor(e){super(),fe(this,e,wl,kl,le,{icon:1,align:2,title:3,open:0})}}function bl(l){let e,t;const n=l[1].default,o=Pe(n,l,l[0],null);return{c(){e=T("div"),o&&o.c(),w(e,"class","top svelte-1vxmb17")},m(r,i){H(r,e,i),o&&o.m(e,null),t=!0},p(r,[i]){o&&o.p&&(!t||i&1)&&Ve(o,n,r,r[0],t?Ee(n,r[0],i,null):De(r[0]),null)},i(r){t||(k(o,r),t=!0)},o(r){b(o,r),t=!1},d(r){r&&S(e),o&&o.d(r)}}}function yl(l,e,t){let{$$slots:n={},$$scope:o}=e;return l.$$set=r=>{"$$scope"in r&&t(0,o=r.$$scope)},[o,n]}class Kt extends ae{constructor(e){super(),fe(this,e,yl,bl,le,{})}}function vl(l){let e,t;return e=new ye({props:{name:"delete"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Cl(l){let e,t;return e=new ye({props:{name:"check"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function It(l){let e,t,n,o,r;const i=[Cl,vl],u=[];function s(a,f){return a[0]?0:1}return t=s(l),n=u[t]=i[t](l),{c(){e=T("button"),n.c(),w(e,"class","svelte-kbjdat")},m(a,f){H(a,e,f),u[t].m(e,null),r=!0},p(a,f){let d=t;t=s(a),t!==d&&(ie(),b(u[d],1,1,()=>{u[d]=null}),ue(),n=u[t],n||(n=u[t]=i[t](a),n.c()),k(n,1),n.m(e,null))},i(a){r||(k(n),a&&(o||ze(()=>{o=Vt(e,dn,{}),o.start()})),r=!0)},o(a){b(n),r=!1},d(a){a&&S(e),u[t].d()}}}function Rl(l){let e,t,n,o,r,i,u=l[0],s,a,f,d=It(l);return{c(){e=T("label"),t=T("div"),n=me(l[1]),o=J(),r=T("input"),i=J(),d.c(),w(t,"class","labelText"),w(r,"type","checkbox"),r.hidden=!0,w(r,"class","svelte-kbjdat"),w(e,"class","svelte-kbjdat"),M(e,"checked",l[0])},m(c,h){H(c,e,h),q(e,t),q(t,n),q(e,o),q(e,r),r.checked=l[0],q(e,i),d.m(e,null),s=!0,a||(f=[x(r,"change",l[3]),x(e,"click",We(l[2]))],a=!0)},p(c,[h]){(!s||h&2)&&be(n,c[1]),h&1&&(r.checked=c[0]),h&1&&le(u,u=c[0])?(ie(),b(d,1,1,oe),ue(),d=It(c),d.c(),k(d,1),d.m(e,null)):d.p(c,h),(!s||h&1)&&M(e,"checked",c[0])},i(c){s||(k(d),s=!0)},o(c){b(d),s=!1},d(c){c&&S(e),d.d(c),a=!1,Fe(f)}}}function Ll(l,e,t){let{value:n}=e,{labelText:o="checkbox"}=e;function r(){console.log("bruh"),t(0,n=!n)}function i(){n=this.checked,t(0,n)}return l.$$set=u=>{"value"in u&&t(0,n=u.value),"labelText"in u&&t(1,o=u.labelText)},[n,o,r,i]}class Xe extends ae{constructor(e){super(),fe(this,e,Ll,Rl,le,{value:0,labelText:1})}}function Ml(l){const e=t=>{l.contains(t.target)||l.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function Tl(l){let e,t;return e=new Je({props:{direction:l[2]?"up":"down"}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&4&&(r.direction=n[2]?"up":"down"),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function qt(l){let e,t,n,o;return t=new Kt({props:{$$slots:{default:[Ol]},$$scope:{ctx:l}}}),{c(){e=T("div"),P(t.$$.fragment),w(e,"class","settings svelte-a5j25")},m(r,i){H(r,e,i),V(t,e,null),o=!0},i(r){o||(k(t.$$.fragment,r),r&&ze(()=>{o&&(n||(n=Ce(e,mt,{},!0)),n.run(1))}),o=!0)},o(r){b(t.$$.fragment,r),r&&(n||(n=Ce(e,mt,{},!1)),n.run(0)),o=!1},d(r){r&&S(e),D(t),r&&n&&n.end()}}}function Ol(l){let e,t,n,o;return e=new Xe({props:{labelText:"Apply to this file",value:!0}}),n=new Xe({props:{labelText:"Apply to this folder",value:!0}}),{c(){P(e.$$.fragment),t=J(),P(n.$$.fragment)},m(r,i){V(e,r,i),H(r,t,i),V(n,r,i),o=!0},p:oe,i(r){o||(k(e.$$.fragment,r),k(n.$$.fragment,r),o=!0)},o(r){b(e.$$.fragment,r),b(n.$$.fragment,r),o=!1},d(r){D(e,r),r&&S(t),D(n,r)}}}function Hl(l){let e,t,n,o,r,i,u,s,a,f,d,c,h,m,g;a=new pe({props:{background:!1,$$slots:{default:[Tl]},$$scope:{ctx:l}}}),a.$on("click",l[9]);let C=l[2]&&qt(l);return{c(){e=T("div"),t=T("div"),n=T("button"),o=J(),r=T("div"),i=T("input"),u=J(),s=T("div"),P(a.$$.fragment),f=J(),C&&C.c(),d=J(),c=T("div"),w(n,"class","noColor svelte-a5j25"),w(t,"class","selector svelte-a5j25"),M(t,"on",!l[0]),w(i,"class","colorRange svelte-a5j25"),w(i,"type","range"),w(i,"min","0"),w(i,"max","360"),w(i,"title","Choose window hue"),w(r,"class","selector svelte-a5j25"),M(r,"on",l[0]),w(e,"class","content svelte-a5j25"),w(s,"class","settingsShower svelte-a5j25"),w(c,"class","spacefiller svelte-a5j25")},m(_,L){H(_,e,L),q(e,t),q(t,n),q(e,o),q(e,r),q(r,i),Ze(i,l[1]),H(_,u,L),H(_,s,L),V(a,s,null),H(_,f,L),C&&C.m(_,L),H(_,d,L),H(_,c,L),h=!0,m||(g=[x(n,"mousedown",l[4]),x(t,"click",l[5]),x(i,"change",l[6]),x(i,"input",l[6]),x(i,"mousedown",l[7]),x(r,"click",l[8])],m=!0)},p(_,L){(!h||L&1)&&M(t,"on",!_[0]),L&2&&Ze(i,_[1]),(!h||L&1)&&M(r,"on",_[0]);const R={};L&4100&&(R.$$scope={dirty:L,ctx:_}),a.$set(R),_[2]?C?L&4&&k(C,1):(C=qt(_),C.c(),k(C,1),C.m(d.parentNode,d)):C&&(ie(),b(C,1,1,()=>{C=null}),ue())},i(_){h||(k(a.$$.fragment,_),k(C),h=!0)},o(_){b(a.$$.fragment,_),b(C),h=!1},d(_){_&&S(e),_&&S(u),_&&S(s),D(a),_&&S(f),C&&C.d(_),_&&S(d),_&&S(c),m=!1,Fe(g)}}}function Sl(l){let e,t,n,o,r,i,u;function s(f){l[10](f)}let a={title:"Change window color",align:te.BottomRight,icon:"rainbow",$$slots:{default:[Hl]},$$scope:{ctx:l}};return l[3]!==void 0&&(a.open=l[3]),t=new At({props:a}),W.push(()=>de(t,"open",s)),{c(){e=T("div"),P(t.$$.fragment),w(e,"class","top svelte-a5j25"),w(e,"style",o=`--hue:${l[1]}`),M(e,"usingHue",l[0])},m(f,d){H(f,e,d),V(t,e,null),r=!0,i||(u=[sn(Ml.call(null,e)),x(e,"outclick",l[11])],i=!0)},p(f,[d]){const c={};d&4103&&(c.$$scope={dirty:d,ctx:f}),!n&&d&8&&(n=!0,c.open=f[3],he(()=>n=!1)),t.$set(c),(!r||d&2&&o!==(o=`--hue:${f[1]}`))&&w(e,"style",o),(!r||d&1)&&M(e,"usingHue",f[0])},i(f){r||(k(t.$$.fragment,f),r=!0)},o(f){b(t.$$.fragment,f),r=!1},d(f){f&&S(e),D(t),i=!1,Fe(u)}}}function Il(l,e,t){let{usingHue:n}=e,{hue:o=0}=e,r=!1,i=!1;const u=()=>t(0,n=!1),s=()=>t(0,n=!1);function a(){o=rn(this.value),t(1,o)}const f=()=>t(0,n=!0),d=()=>t(0,n=!0),c=()=>t(2,r=!r);function h(g){i=g,t(3,i)}const m=()=>t(3,i=!1);return l.$$set=g=>{"usingHue"in g&&t(0,n=g.usingHue),"hue"in g&&t(1,o=g.hue)},[n,o,r,i,u,s,a,f,d,c,h,m]}class ql extends ae{constructor(e){super(),fe(this,e,Il,Sl,le,{usingHue:0,hue:1})}}function zl(l){let e=l[0].slice(l[3])+"",t;return{c(){t=me(e)},m(n,o){H(n,t,o)},p(n,o){o&9&&e!==(e=n[0].slice(n[3])+"")&&be(t,e)},d(n){n&&S(t)}}}function Fl(l){let e=l[0].slice(l[3],l[2])+"",t,n,o=l[0].slice(l[2],l[4].text.length+l[2])+"",r,i=l[0].slice(l[4].text.length+l[2])+"",u;return{c(){t=me(e),n=T("mark"),r=me(o),u=me(i),w(n,"class","svelte-ct1rub")},m(s,a){H(s,t,a),H(s,n,a),q(n,r),H(s,u,a)},p(s,a){a&13&&e!==(e=s[0].slice(s[3],s[2])+"")&&be(t,e),a&21&&o!==(o=s[0].slice(s[2],s[4].text.length+s[2])+"")&&be(r,o),a&21&&i!==(i=s[0].slice(s[4].text.length+s[2])+"")&&be(u,i)},d(s){s&&S(t),s&&S(n),s&&S(u)}}}function jl(l){let e;function t(r,i){return r[2]!=null?Fl:zl}let n=t(l),o=n(l);return{c(){e=T("span"),o.c(),w(e,"class","svelte-ct1rub"),M(e,"bold",l[1].bold),M(e,"underline",l[1].underline),M(e,"highlight",l[1].highlight)},m(r,i){H(r,e,i),o.m(e,null)},p(r,[i]){n===(n=t(r))&&o?o.p(r,i):(o.d(1),o=n(r),o&&(o.c(),o.m(e,null))),i&2&&M(e,"bold",r[1].bold),i&2&&M(e,"underline",r[1].underline),i&2&&M(e,"highlight",r[1].highlight)},i:oe,o:oe,d(r){r&&S(e),o.d()}}}function Bl(l,e,t){let n,o=ne("query");re(l,o,a=>t(4,n=a));let{text:r}=e,{style:i}=e,{queryMatch:u}=e,{startCutoff:s}=e;return l.$$set=a=>{"text"in a&&t(0,r=a.text),"style"in a&&t(1,i=a.style),"queryMatch"in a&&t(2,u=a.queryMatch),"startCutoff"in a&&t(3,s=a.startCutoff)},[r,i,u,s,n,o]}class Pl extends ae{constructor(e){super(),fe(this,e,Bl,jl,le,{text:0,style:1,queryMatch:2,startCutoff:3})}}function zt(l,e,t){const n=l.slice();return n[19]=e[t],n}function Ft(l){let e,t;return e=new Pl({props:{text:l[19].text,style:l[19].style,queryMatch:l[19].queryMatch,startCutoff:l[19].startCutoff}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p:oe,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Vl(l){let e,t,n,o,r,i=l[3],u=[];for(let a=0;a<i.length;a+=1)u[a]=Ft(zt(l,i,a));const s=a=>b(u[a],1,1,()=>{u[a]=null});return{c(){e=T("li"),t=T("p");for(let a=0;a<u.length;a+=1)u[a].c();w(t,"class","svelte-1c5mfjs"),w(e,"class","svelte-1c5mfjs"),M(e,"selected",l[0])},m(a,f){H(a,e,f),q(e,t);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(t,null);l[14](e),n=!0,o||(r=[x(e,"click",l[4]),x(e,"mousedown",We(l[13]))],o=!0)},p(a,[f]){if(f&8){i=a[3];let d;for(d=0;d<i.length;d+=1){const c=zt(a,i,d);u[d]?(u[d].p(c,f),k(u[d],1)):(u[d]=Ft(c),u[d].c(),k(u[d],1),u[d].m(t,null))}for(ie(),d=i.length;d<u.length;d+=1)s(d);ue()}(!n||f&1)&&M(e,"selected",a[0])},i(a){if(!n){for(let f=0;f<i.length;f+=1)k(u[f]);n=!0}},o(a){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)b(u[f]);n=!1},d(a){a&&S(e),nt(u,a),l[14](null),o=!1,Fe(r)}}}function Dl(l,e,t){let n,{link:o}=e,{index:r}=e,{para:i}=e,{queryIndex:u}=e,{selected:s}=e,a=ne("query");re(l,a,z=>t(12,n=z));let f=ne("selectedQuery"),d,c,h=i.runs.reduce((z,B)=>z+B.text,""),m=[],g;async function C(){R().teleport(i.index),s&&(f.set({paraIndex:null,charIndex:null}),await Oe()),f.set({paraIndex:i.index,charIndex:c})}let{selectSelf:_}=e;function L(){s?C():_()}let R=ne("getDocLoader");function Y(z){Dt.call(this,l,z)}function X(z){W[z?"unshift":"push"](()=>{g=z,t(1,g)})}return l.$$set=z=>{"link"in z&&t(5,o=z.link),"index"in z&&t(6,r=z.index),"para"in z&&t(7,i=z.para),"queryIndex"in z&&t(8,u=z.queryIndex),"selected"in z&&t(0,s=z.selected),"selectSelf"in z&&t(9,_=z.selectSelf)},l.$$.update=()=>{if(l.$$.dirty&7552){let z=h;n.matchCase||(z=h.toLowerCase()),t(11,c=-1);for(let U=0;U<u+1;U++){let O=n.text;n.matchCase||(O=n.text.toLowerCase()),t(11,c=z.indexOf(O,c+1))}for(t(10,d=Math.max(0,c-30));h[d-1]!==" ";){if(d>=c){t(10,d=Math.max(0,c-30));break}t(10,d++,d)}let B=0;for(let U of i.runs){if(B+U.text.length>d){let O=0;d>B&&(O=B-d);let y;c+n.text.length>=B&&c<B+U.text.length&&(y=c-B),m.push({...U,queryMatch:y,startCutoff:O})}B+=U.text.length}}l.$$.dirty&1&&s&&C()},[s,g,a,m,L,o,r,i,u,_,d,c,n,Y,X]}class El extends ae{constructor(e){super(),fe(this,e,Dl,Vl,le,{link:5,index:6,para:7,queryIndex:8,selected:0,selectSelf:9})}}function jt(l,e,t){const n=l.slice();return n[22]=e[t],n}function Bt(l){let e,t,n,o,r,i,u,s,a,f,d;n=new At({props:{icon:"funnel",align:te.TopRight,title:"Filter results",$$slots:{default:[Ql]},$$scope:{ctx:l}}});function c(g){l[17](g)}function h(g){l[18](g)}let m={viewerElement:l[3],serverCommand:l[8],fetchAmount:30,$$slots:{default:[Al]},$$scope:{ctx:l}};return l[6]!==void 0&&(m.items=l[6]),l[0].loader!==void 0&&(m.state=l[0].loader),u=new st({props:m}),l[16](u),W.push(()=>de(u,"items",c)),W.push(()=>de(u,"state",h)),{c(){e=T("div"),t=T("div"),P(n.$$.fragment),o=J(),r=T("div"),i=T("div"),P(u.$$.fragment),w(t,"class","options svelte-otay0e"),w(i,"class","content svelte-otay0e"),w(r,"class","viewer svelte-otay0e"),w(e,"class","top svelte-otay0e"),M(e,"showSearchResults",l[1])},m(g,C){H(g,e,C),q(e,t),V(n,t,null),q(e,o),q(e,r),q(r,i),V(u,i,null),l[19](r),d=!0},p(g,C){const _={};C&33554433&&(_.$$scope={dirty:C,ctx:g}),n.$set(_);const L={};C&8&&(L.viewerElement=g[3]),C&33554528&&(L.$$scope={dirty:C,ctx:g}),!s&&C&64&&(s=!0,L.items=g[6],he(()=>s=!1)),!a&&C&1&&(a=!0,L.state=g[0].loader,he(()=>a=!1)),u.$set(L),(!d||C&2)&&M(e,"showSearchResults",g[1])},i(g){d||(k(n.$$.fragment,g),k(u.$$.fragment,g),ze(()=>{d&&(f||(f=Ce(e,ct,{},!0)),f.run(1))}),d=!0)},o(g){b(n.$$.fragment,g),b(u.$$.fragment,g),f||(f=Ce(e,ct,{},!1)),f.run(0),d=!1},d(g){g&&S(e),D(n),l[16](null),D(u),l[19](null),g&&f&&f.end()}}}function Nl(l){let e,t,n,o,r,i;function u(d){l[13](d)}let s={labelText:"Match case"};l[0].matchCase!==void 0&&(s.value=l[0].matchCase),e=new Xe({props:s}),W.push(()=>de(e,"value",u));function a(d){l[14](d)}let f={labelText:"Only incude headers"};return l[0].onlyOutline!==void 0&&(f.value=l[0].onlyOutline),o=new Xe({props:f}),W.push(()=>de(o,"value",a)),{c(){P(e.$$.fragment),n=J(),P(o.$$.fragment)},m(d,c){V(e,d,c),H(d,n,c),V(o,d,c),i=!0},p(d,c){const h={};!t&&c&1&&(t=!0,h.value=d[0].matchCase,he(()=>t=!1)),e.$set(h);const m={};!r&&c&1&&(r=!0,m.value=d[0].onlyOutline,he(()=>r=!1)),o.$set(m)},i(d){i||(k(e.$$.fragment,d),k(o.$$.fragment,d),i=!0)},o(d){b(e.$$.fragment,d),b(o.$$.fragment,d),i=!1},d(d){D(e,d),d&&S(n),D(o,d)}}}function Ql(l){let e,t;return e=new Kt({props:{$$slots:{default:[Nl]},$$scope:{ctx:l}}}),{c(){P(e.$$.fragment)},m(n,o){V(e,n,o),t=!0},p(n,o){const r={};o&33554433&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Pt(l,e){let t,n,o;function r(){return e[15](e[22])}return n=new El({props:{link:e[22].link,index:e[22].index,para:e[22].para,queryIndex:e[22].query_index,selected:e[22].index==e[5],selectSelf:r}}),{key:l,first:null,c(){t=Re(),P(n.$$.fragment),this.first=t},m(i,u){H(i,t,u),V(n,i,u),o=!0},p(i,u){e=i;const s={};u&64&&(s.link=e[22].link),u&64&&(s.index=e[22].index),u&64&&(s.para=e[22].para),u&64&&(s.queryIndex=e[22].query_index),u&96&&(s.selected=e[22].index==e[5]),u&64&&(s.selectSelf=r),n.$set(s)},i(i){o||(k(n.$$.fragment,i),o=!0)},o(i){b(n.$$.fragment,i),o=!1},d(i){i&&S(t),D(n,i)}}}function Al(l){let e=[],t=new Map,n,o,r=l[6];const i=u=>u[22].index;for(let u=0;u<r.length;u+=1){let s=jt(l,r,u),a=i(s);t.set(a,e[u]=Pt(a,s))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=Re()},m(u,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(u,s);H(u,n,s),o=!0},p(u,s){s&608&&(r=u[6],ie(),e=lt(e,s,i,1,u,r,t,n.parentNode,ot,Pt,n,jt),ue())},i(u){if(!o){for(let s=0;s<r.length;s+=1)k(e[s]);o=!0}},o(u){for(let s=0;s<e.length;s+=1)b(e[s]);o=!1},d(u){for(let s=0;s<e.length;s+=1)e[s].d(u);u&&S(n)}}}function Kl(l){let e,t,n=l[2].text.length>0&&Bt(l);return{c(){e=T("div"),n&&n.c(),w(e,"class","hider svelte-otay0e")},m(o,r){H(o,e,r),n&&n.m(e,null),t=!0},p(o,[r]){o[2].text.length>0?n?(n.p(o,r),r&4&&k(n,1)):(n=Bt(o),n.c(),k(n,1),n.m(e,null)):n&&(ie(),b(n,1,1,()=>{n=null}),ue())},i(o){t||(k(n),t=!0)},o(o){b(n),t=!1},d(o){o&&S(e),n&&n.d()}}}function Ul(l,e,t){let n,o,r,i=ne("query");re(l,i,O=>t(2,n=O));function u(){return r}let{state:s}=e;async function a(O,y){return n.text.length>0?await Te("search",{query:{text:n.text,match_case:n.matchCase,only_outline:n.onlyOutline},i:O,j:y}):[]}let{showSearchResults:f}=e;async function d(){t(5,c=-1),n.text.length>0&&r&&r.teleport(0,!0)}let c=-1;function h(O){t(5,c=O)}let m=[];async function g(O){r.teleport(O),r.onTeleportDone(function(){h(O)})}function C(){c>0&&g(c-1)}function _(){g(c+1)}function L(O){l.$$.not_equal(s.matchCase,O)&&(s.matchCase=O,t(0,s))}function R(O){l.$$.not_equal(s.onlyOutline,O)&&(s.onlyOutline=O,t(0,s))}const Y=O=>h(O.index);function X(O){W[O?"unshift":"push"](()=>{r=O,t(4,r)})}function z(O){m=O,t(6,m)}function B(O){l.$$.not_equal(s.loader,O)&&(s.loader=O,t(0,s))}function U(O){W[O?"unshift":"push"](()=>{o=O,t(3,o)})}return l.$$set=O=>{"state"in O&&t(0,s=O.state),"showSearchResults"in O&&t(1,f=O.showSearchResults)},l.$$.update=()=>{l.$$.dirty&1&&ce(i,n.matchCase=s.matchCase,n),l.$$.dirty&1&&ce(i,n.onlyOutline=s.onlyOutline,n),l.$$.dirty&4&&d()},[s,f,n,o,r,c,m,i,a,h,u,C,_,L,R,Y,X,z,B,U]}class Gl extends ae{constructor(e){super(),fe(this,e,Ul,Kl,le,{getLoader:10,state:0,showSearchResults:1,prevResult:11,nextResult:12})}get getLoader(){return this.$$.ctx[10]}get prevResult(){return this.$$.ctx[11]}get nextResult(){return this.$$.ctx[12]}}const{window:Zl}=un;function Xl(l){let e,t,n,o,r,i,u,s,a,f,d,c,h,m,g,C,_,L,R,Y,X,z,B,U;function O(N){l[13](N)}function y(N){l[14](N)}let p={matchCase:l[7].searchResults.matchCase,onlyOutline:l[7].searchResults.onlyOutline,chooseFile:Wl,alignOutlineFocus:l[12]};l[6]!==void 0&&(p.showOutline=l[6]),l[5]!==void 0&&(p.showSearchResults=l[5]),n=new hl({props:p}),W.push(()=>de(n,"showOutline",O)),W.push(()=>de(n,"showSearchResults",y));function j(N){l[16](N)}let A={showOutline:l[6],showSearchResults:l[5]};l[7].doc!==void 0&&(A.state=l[7].doc),s=new En({props:A}),l[15](s),W.push(()=>de(s,"state",j));function Q(N){l[18](N)}let E={showOutline:l[6]};l[7].outline!==void 0&&(E.state=l[7].outline),c=new Wn({props:E}),l[17](c),W.push(()=>de(c,"state",Q));function K(N){l[20](N)}let Z={showSearchResults:l[5]};l[7].searchResults!==void 0&&(Z.state=l[7].searchResults),C=new Gl({props:Z}),l[19](C),W.push(()=>de(C,"state",K));function He(N){l[21](N)}function Le(N){l[22](N)}let ve={};return l[0]!==void 0&&(ve.usingHue=l[0]),l[1]!==void 0&&(ve.hue=l[1]),R=new ql({props:ve}),W.push(()=>de(R,"usingHue",He)),W.push(()=>de(R,"hue",Le)),{c(){e=T("main"),t=T("div"),P(n.$$.fragment),i=J(),u=T("div"),P(s.$$.fragment),f=J(),d=T("aside"),P(c.$$.fragment),m=J(),g=T("aside"),P(C.$$.fragment),L=J(),P(R.$$.fragment),w(t,"class","topbar svelte-1cerce7"),w(u,"class","doc svelte-1cerce7"),w(d,"class","outline svelte-1cerce7"),w(g,"class","search-results svelte-1cerce7"),w(e,"class","svelte-1cerce7")},m(N,ee){H(N,e,ee),q(e,t),V(n,t,null),q(e,i),q(e,u),V(s,u,null),q(e,f),q(e,d),V(c,d,null),q(e,m),q(e,g),V(C,g,null),q(e,L),V(R,e,null),z=!0,B||(U=x(Zl,"resize",l[11]),B=!0)},p(N,ee){const I={};ee[0]&128&&(I.matchCase=N[7].searchResults.matchCase),ee[0]&128&&(I.onlyOutline=N[7].searchResults.onlyOutline),!o&&ee[0]&64&&(o=!0,I.showOutline=N[6],he(()=>o=!1)),!r&&ee[0]&32&&(r=!0,I.showSearchResults=N[5],he(()=>r=!1)),n.$set(I);const ge={};ee[0]&64&&(ge.showOutline=N[6]),ee[0]&32&&(ge.showSearchResults=N[5]),!a&&ee[0]&128&&(a=!0,ge.state=N[7].doc,he(()=>a=!1)),s.$set(ge);const je={};ee[0]&64&&(je.showOutline=N[6]),!h&&ee[0]&128&&(h=!0,je.state=N[7].outline,he(()=>h=!1)),c.$set(je);const Se={};ee[0]&32&&(Se.showSearchResults=N[5]),!_&&ee[0]&128&&(_=!0,Se.state=N[7].searchResults,he(()=>_=!1)),C.$set(Se);const _e={};!Y&&ee[0]&1&&(Y=!0,_e.usingHue=N[0],he(()=>Y=!1)),!X&&ee[0]&2&&(X=!0,_e.hue=N[1],he(()=>X=!1)),R.$set(_e)},i(N){z||(k(n.$$.fragment,N),k(s.$$.fragment,N),k(c.$$.fragment,N),k(C.$$.fragment,N),k(R.$$.fragment,N),z=!0)},o(N){b(n.$$.fragment,N),b(s.$$.fragment,N),b(c.$$.fragment,N),b(C.$$.fragment,N),b(R.$$.fragment,N),z=!1},d(N){N&&S(e),D(n),l[15](null),D(s),l[17](null),D(c),l[19](null),D(C),D(R),B=!1,U()}}}async function Wl(){document.getElementById("filePicker").click()}function Jl(){}function Yl(l,e,t){let n,o,r;Qe(async()=>{let I=await Te();I!=null&&(I.file_path!=null&&d(I.file_path),I.label,console.log("window ready",I))});let i=window.matchMedia("(prefers-color-scheme: dark)"),u=function(){document.body.classList.toggle("dark",i.matches)};u(),i.addEventListener("change",u);let s=!1,a=120,f=qe({open:!1,path:"",name:""});re(l,f,I=>t(27,r=I)),Me("fileInfo",f);async function d(I){I.split(".").pop()!="docx"||(await c(),!await Te())||ce(f,r={open:!0,path:I,name:I.split("/").pop()},r)}async function c(){await Promise.all([Te(),Te()]),ce(f,r={open:!1,path:"",name:""},r),await Oe()}let h=qe({text:"",matchCase:!1,onlyOutline:!1});Me("query",h);let m=qe({paraIndex:null,charIndex:null});Me("selectedQuery",m),Me("getDocLoader",Jl);let g,C,_,L=!0,R=!0,Y,X=qe(!1);re(l,X,I=>t(26,o=I)),Me("isResizing",X);let z=qe(!1);re(l,z,I=>t(25,n=I)),Me("isFullscreen",z);function B(){clearTimeout(Y),ce(X,o=!0,o),Y=setTimeout(function(){ce(X,o=!1,o),Te().then(I=>{ce(z,n=I,n)})},600)}function U(){_==null||_.prevResult()}Me("prevResult",U);function O(){_==null||_.nextResult()}Me("nextResult",O),Ne("CommandOrControl+N",()=>{Te()});async function y(){let I=g.getLoader().getFocus(),ge=await Te("get_nearest_outline_para",{paraIndex:I.index});console.log("outline aligning to: ",ge),ge&&C.getLoader().teleport(ge.index)}let p=qe(1);Me("zoom",p);let j={doc:{loader:null},outline:{loader:null},searchResults:{loader:null,matchCase:!1,onlyOutline:!1}};function A(I){R=I,t(6,R)}function Q(I){L=I,t(5,L)}function E(I){W[I?"unshift":"push"](()=>{g=I,t(2,g)})}function K(I){l.$$.not_equal(j.doc,I)&&(j.doc=I,t(7,j))}function Z(I){W[I?"unshift":"push"](()=>{C=I,t(3,C)})}function He(I){l.$$.not_equal(j.outline,I)&&(j.outline=I,t(7,j))}function Le(I){W[I?"unshift":"push"](()=>{_=I,t(4,_)})}function ve(I){l.$$.not_equal(j.searchResults,I)&&(j.searchResults=I,t(7,j))}function N(I){s=I,t(0,s)}function ee(I){a=I,t(1,a)}return l.$$.update=()=>{l.$$.dirty[0]&1&&(s?document.body.classList.add("hue"):document.body.classList.remove("hue")),l.$$.dirty[0]&3&&(s?document.body.style.setProperty("--hue",a+"deg"):document.body.style.removeProperty("--hue"))},[s,a,g,C,_,L,R,j,f,X,z,B,y,A,Q,E,K,Z,He,Le,ve,N,ee]}class $l extends ae{constructor(e){super(),fe(this,e,Yl,Xl,le,{},null,[-1,-1])}}function xl(){new $l({target:document.body})}document.addEventListener("DOMContentLoaded",xl);
