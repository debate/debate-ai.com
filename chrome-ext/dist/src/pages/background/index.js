chrome.runtime.onMessage.addListener(function(a,n,e){return i(a,n,e),!0});async function i(a,n,e){if((a==null?void 0:a.message)=="getCardData"){let c=await chrome.tabs.query({active:!0});chrome.tabs.sendMessage(c[0].id,a,function(t){(t==null?void 0:t.message)=="gotCardData"&&e({message:"gotCardData",card:t.card})})}}chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch(a=>console.error(a));chrome.tabs.onUpdated.addListener(async(a,n,e)=>{console.log(e.url),setTimeout(async()=>{await chrome.sidePanel.setOptions({tabId:a,path:"src/pages/sidepanel/index.html",enabled:!0})},1e3)});
