var Gl=Object.defineProperty;var Ql=(n,e,t)=>e in n?Gl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var He=(n,e,t)=>(Ql(n,typeof e!="symbol"?e+"":e,t),t);import{w as Ne,S as ne,i as le,s as x,a as Yl,b,c as j,n as $,d as D,q as Se,e as $l,f as F,t as R,g as we,h as ge,j as ae,k as L,l as de,m as Q,o as T,p as Y,r as C,u as me,v as ce,x as he,y as Ze,z as U,A as rt,B as at,C as ut,D as ft,E as Z,F as W,G as Ce,H as ct,I as ke,J as ye,K as V,L as E,M as q,N as je,O as se,P as xe,Q as Jt,R as Dt,T as jt,U as Ge,V as Qe,W as Ee,X as Ae,Y as gl,Z as Nt,_ as _l,$ as vt,a0 as Xt,a1 as qe,a2 as X,a3 as G,a4 as Gt,a5 as bl,a6 as Ft,a7 as xl,a8 as ei,a9 as ti,aa as ni,ab as vl,ac as li,ad as ii,ae as oi,af as si,ag as ri,ah as wl,ai as Qt}from"../../../assets/index-3b0806a3.js";let ai=class{constructor(e){He(this,"data");He(this,"callbacks",{any:[]});this.data=e}init(){this.loadFromLocalStorage()}setValue(e,t){if(this.data[e].value=t,this.callbacks[e])for(const l of this.callbacks[e])l(e);for(const l of this.callbacks.any)l(e)}subscribe(e,t){for(const l of e)this.callbacks[l]||(this.callbacks[l]=[]),this.callbacks[l].push(t),t(l);return()=>{for(const l of e)this.callbacks[l]=this.callbacks[l].filter(o=>o!=t)}}saveToLocalStorage(){const e={};for(const t of Object.keys(this.data))if(this.data[t].value!=this.data[t].auto&&(e[t]=this.data[t].value,this.data[t].type=="radio")){const l=this.data[t];l.detail.customOptionValue&&(e[t+"Custom"]=l.detail.customOptionValue)}localStorage.setItem("settings",JSON.stringify(e))}loadFromLocalStorage(){const e=localStorage.getItem("settings");if(e){const t=JSON.parse(e);try{for(const l in t){if(this.data[l]==null)return;if(this.data[l].type=="radio"){const o=this.data[l];t[l+"Custom"]&&(o.detail.customOptionValue=t[l+"Custom"])}this.setValue(l,t[l])}}catch(l){console.log(l),localStorage.setItem("settings",JSON.stringify({})),this.resetToAuto()}}}resetToAuto(){for(const e in this.data)this.setValue(e,this.data[e].auto)}randomize(){for(const e in this.data){const t=this.data[e];t.type=="slider"?this.setValue(e,t.detail.min+Math.random()*(t.detail.max-t.detail.min)):t.type=="radio"?this.setValue(e,Math.floor(Math.random()*t.detail.options.length)):t.type=="toggle"&&this.setValue(e,Math.random()<.5)}}};const K=new ai({debateStyle:{name:"Debate style",type:"radio",value:0,auto:0,detail:{options:["Policy","Public Forum","Lincoln Douglas","Congress"]},info:"Already created flows won't be affected by this setting"},colorTheme:{name:"Color theme",type:"radio",value:0,auto:0,detail:{options:["System default","Light theme","Dark theme"]}},columnWidth:{name:"Column width",type:"slider",value:150,auto:150,detail:{min:50,max:300,step:1}},accentHue:{name:"Primary color hue",type:"slider",value:192,auto:192,detail:{min:0,max:360,step:1,hue:!0},info:"This color will be used for aff"},accentSecondaryHue:{name:"Secondary color hue",type:"slider",value:26,auto:26,detail:{min:0,max:360,step:1,hue:!0},info:"This color will be used for neg"},transitionSpeed:{name:"Transition duration",type:"slider",value:300,auto:300,detail:{min:0,max:1e3,step:1}},useTooltips:{name:"Use tooltips",type:"toggle",value:!0,auto:!0},fontSize:{name:"Font size",type:"slider",value:.9,auto:.9,detail:{min:.2,max:2,step:.01}},fontWeight:{name:"Font weight",type:"slider",value:300,auto:300,detail:{min:100,max:900,step:50}},fontWeightBold:{name:"Font weight bold",type:"slider",value:700,auto:700,detail:{min:100,max:900,step:50}},fontFamily:{name:"Font",type:"radio",value:0,auto:0,detail:{options:["Merriweather Sans","Helvetica","Georgia","Courier New"],customOption:!0,customOptionValue:""},info:"Type in a custom font name if it is installed on your computer"},buttonSize:{name:"Button size",type:"slider",value:20,auto:20,detail:{min:10,max:50,step:1}},lineWidth:{name:"Line width",type:"slider",value:4,auto:4,detail:{min:0,max:8,step:1}},borderRadius:{name:"Border radius",type:"slider",value:8,auto:8,detail:{min:0,max:30,step:1}},padding:{name:"Padding",value:8,auto:8,type:"slider",detail:{min:0,max:30,step:1}},gap:{name:"Grid gap",value:8,auto:8,type:"slider",detail:{min:0,max:30,step:1}},sidebarWidth:{name:"Sidebar width",value:184,auto:184,type:"slider",detail:{min:50,max:500,step:1}},showUndoRedoButtons:{name:"Undo/redo buttons",value:!0,auto:!0,type:"toggle"},showBoxCreationButtons:{name:"Cell creation/deletion buttons",value:!0,auto:!0,type:"toggle"},showBoxFormatButtons:{name:"Cell format buttons",value:!0,auto:!0,type:"toggle"}}),lt=[{name:"General",settings:["debateStyle","colorTheme","columnWidth","transitionSpeed","useTooltips"]},{name:"Colors",settings:["colorTheme","accentHue","accentSecondaryHue"]},{name:"Font",settings:["fontFamily","fontSize","fontWeight","fontWeightBold"]},{name:"Spacing",settings:["columnWidth","sidebarWidth","buttonSize","padding","gap"]},{name:"Borders",settings:["lineWidth","borderRadius"]},{name:"Animations",settings:["transitionSpeed","useTooltips"]},{name:"Toolbar",settings:["showUndoRedoButtons","showBoxCreationButtons","showBoxFormatButtons"]}],Ot=Ne([]);function Ct(n){Ot.update(e=>(e.splice(n,1),e))}function Ue(n,e,{props:t={}}={}){Ot.update(l=>[...l,{component:n,props:t,title:e}])}function ui(n){var o;let e,t=(((o=n[1])==null?void 0:o.svg)??n[2][0].svg)+"",l;return{c(){e=Yl("svg"),b(e,"style",l=`width:${n[0]};height:${n[0]};`),b(e,"viewBox","0 0 100 100"),b(e,"fill","none"),b(e,"stroke","var(--text)"),b(e,"class","svelte-19r36i")},m(i,r){j(i,e,r),e.innerHTML=t},p(i,[r]){var u;r&2&&t!==(t=(((u=i[1])==null?void 0:u.svg)??i[2][0].svg)+"")&&(e.innerHTML=t),r&1&&l!==(l=`width:${i[0]};height:${i[0]};`)&&b(e,"style",l)},i:$,o:$,d(i){i&&D(e)}}}function fi(n,e,t){let{name:l}=e,{size:o="1rem"}=e,i=[{name:"dots",svg:`<circle cx="26.25" cy="50.25" r="5.625" stroke-width="11.25"/>
<circle cx="71.25" cy="80.25" r="5.625" stroke-width="11.25"/>
<circle cx="71.25" cy="20.25" r="5.625" stroke-width="11.25"/>`},{name:"arrowRight",svg:'<path d="M27 7L74 50L27 93" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowLeft",svg:'<path d="M74 93L27 50L74 7" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowUp",svg:'<path d="M7.5 73.5L50.5 26.5L93.5 73.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowDown",svg:'<path d="M93.5 26.5L50.5 73.5L7.5 26.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"delete",svg:`<path d="M78.5685 22L22 78.5685" stroke-width="10" stroke-linecap="round"/>
<path d="M22 22L78.5685 78.5685" stroke-width="10" stroke-linecap="round"/>`},{name:"add",svg:`<path d="M50 15L50 85" stroke-width="10" stroke-linecap="round"/>
<path d="M15 50H85" stroke-width="10" stroke-linecap="round"/>`},{name:"download",svg:`<path d="M71 45L50 68L29 45" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 66L50 14" stroke-width="10" stroke-linecap="round"/>`},{name:"upload",svg:`<path d="M29 37L50 14L71 37" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 16L50 68" stroke-width="10" stroke-linecap="round"/>`},{name:"addUp",svg:`<path d="M85 25V25C87.7614 25 90 27.2386 90 30V70C90 75.5228 85.5228 80 80 80H20C14.4772 80 10 75.5228 10 70L10 30C10 27.2386 12.2386 25 15 25V25" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 25H65" stroke-width="10" stroke-linecap="round"/>
<path d="M50 40V10" stroke-width="10" stroke-linecap="round"/>`},{name:"addDown",svg:`<path d="M15 75V75C12.2386 75 10 72.7614 10 70L10 30C10 24.4772 14.4772 20 20 20L80 20C85.5228 20 90 24.4772 90 30L90 70C90 72.7614 87.7614 75 85 75V75" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M65 75H35" stroke-width="10" stroke-linecap="round"/>
<path d="M50 60L50 90" stroke-width="10" stroke-linecap="round"/>`},{name:"addRight",svg:`<path d="M75 85V85C75 87.7614 72.7614 90 70 90H30C24.4772 90 20 85.5228 20 80V20C20 14.4772 24.4772 10 30 10H70C72.7614 10 75 12.2386 75 15V15" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M75 35V65" stroke-width="10" stroke-linecap="round"/>
<path d="M60 50H90" stroke-width="10" stroke-linecap="round"/>`},{name:"undo",svg:`<path d="M10 47H70C81.0457 47 90 55.9543 90 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M36 70L10 47L36 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"redo",svg:`<path d="M90 47H30C18.9543 47 10 55.9543 10 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M64 70L90 47L64 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"settings",svg:`<line x1="10" y1="50" x2="90" y2="50" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="80" x2="90" y2="80" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="20" x2="90" y2="20" stroke-width="10" stroke-linecap="round"/>
<circle cx="26.25" cy="50.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="80.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="20.25" r="6.25" stroke-width="10"/>`},{name:"check",svg:'<path d="M88.7817 29.2843L39.2842 78.7817L11 50.4975" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"home",svg:`<path d="M6 47L50 8L94 47" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M21 60L21 83C21 88.5228 25.4772 93 31 93H70C75.5228 93 80 88.5228 80 83V60" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"cross",svg:`<path d="M10 50L90 50" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50.566 50C36.9986 50 26 41.0457 26 30C26 18.9543 36.9986 10 50.566 10C57.3819 10 63.5495 12.2599 68 15.9095" stroke-width="10" stroke-linecap="round"/>
<path d="M49.434 50C63.0014 50 74 58.9543 74 70C74 81.0457 63.0014 90 49.434 90C42.6181 90 36.4505 87.7401 32 84.0905" stroke-width="10" stroke-linecap="round"/>`},{name:"trash",svg:`
			<path d="M20 36L24.1594 80.922C24.6357 86.0656 28.9512 90 34.1168 90H65.8832C71.0488 90 75.3643 86.0656 75.8406 80.922L80 36L20 36Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 17L80 17" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M45 10V17H55V10H45Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"arrowRoundLeft",svg:`<path d="M58.7626 38.862L51.5808 28.1397L44.399 17.4173L67.5606 6.02743" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M51.5 20C71.1061 20 87 35.8939 87 55.5C87 75.1061 71.1061 91 51.5 91C31.8939 91 16 75.1061 16 55.5C16 49.3035 17.5876 43.4778 20.3783 38.4074" stroke-width="10" stroke-linecap="round"/>
			`},{name:"gear",svg:`<path d="M91.2583 35.059L96.0136 33.5139L96.0136 33.5139L91.2583 35.059ZM78.6576 28.6386L77.1125 23.8833L77.1125 23.8833L78.6576 28.6386ZM93.6849 42.5272L98.4402 40.9822L98.4402 40.9822L93.6849 42.5272ZM87.2645 55.128L85.7194 50.3727L85.7194 50.3727L87.2645 55.128ZM82.3777 56.7158L80.8326 51.9605L77.7668 52.9567L77.4086 56.1603L82.3777 56.7158ZM78.7743 68.354L74.3612 66.0035L72.8914 68.7633L74.7292 71.2929L78.7743 68.354ZM81.6715 72.3416L85.7166 69.4026L85.7166 69.4026L81.6715 72.3416ZM79.4592 86.3096L76.5203 82.2645L76.5202 82.2645L79.4592 86.3096ZM73.1063 90.9252L76.0452 94.9703L76.0452 94.9703L73.1063 90.9252ZM59.1382 88.7129L55.0932 91.6518L55.0932 91.6519L59.1382 88.7129ZM56.4461 85.0075L60.4912 82.0686L58.6057 79.4734L55.4608 80.1055L56.4461 85.0075ZM43.7058 85.0422L44.6641 80.1349L41.5348 79.5238L39.6607 82.1033L43.7058 85.0422ZM41.0388 88.7129L45.0839 91.6519L45.0839 91.6519L41.0388 88.7129ZM27.0708 90.9252L30.0097 86.8802L30.0097 86.8802L27.0708 90.9252ZM20.7179 86.3096L23.6568 82.2645L23.6568 82.2645L20.7179 86.3096ZM18.5056 72.3416L14.4605 69.4026L14.4605 69.4026L18.5056 72.3416ZM21.2875 68.5126L25.3326 71.4515L27.1818 68.9063L25.6875 66.1378L21.2875 68.5126ZM17.5916 56.6483L22.5618 56.1032L22.2095 52.8915L19.1367 51.893L17.5916 56.6483ZM12.9125 55.128L11.3675 59.8833L11.3675 59.8833L12.9125 55.128ZM6.49215 42.5273L11.2474 44.0723L11.2474 44.0723L6.49215 42.5273ZM8.91874 35.059L4.16346 33.5139L4.16346 33.5139L8.91874 35.059ZM21.5195 28.6386L19.9744 33.3939L19.9744 33.3939L21.5195 28.6386ZM26.6486 30.3051L25.1035 35.0604L28.0594 36.0208L30.2289 33.7954L26.6486 30.3051ZM36.1622 23.5313L38.2858 28.058L41.1622 26.7085V23.5313L36.1622 23.5313ZM64.0148 23.6261H59.0148V26.7794L61.8604 28.1381L64.0148 23.6261ZM73.3763 30.3546L69.7887 33.8373L71.9586 36.0725L74.9214 35.1098L73.3763 30.3546ZM96.0136 33.5139C93.4536 25.6351 84.9913 21.3233 77.1125 23.8833L80.2027 33.3938C82.8289 32.5405 85.6497 33.9778 86.503 36.604L96.0136 33.5139ZM98.4402 40.9822L96.0136 33.5139L86.503 36.604L88.9296 44.0723L98.4402 40.9822ZM88.8096 59.8833C96.6884 57.3233 101 48.861 98.4402 40.9822L88.9296 44.0723C89.7829 46.6986 88.3457 49.5194 85.7194 50.3727L88.8096 59.8833ZM83.9228 61.4711L88.8096 59.8833L85.7194 50.3727L80.8326 51.9605L83.9228 61.4711ZM77.4086 56.1603C77.0145 59.6866 75.9562 63.0088 74.3612 66.0035L83.1874 70.7044C85.3641 66.6174 86.8092 62.0798 87.3467 57.2713L77.4086 56.1603ZM85.7166 69.4026L82.8194 65.415L74.7292 71.2929L77.6264 75.2805L85.7166 69.4026ZM82.3981 90.3547C89.1002 85.4853 90.586 76.1047 85.7166 69.4026L77.6264 75.2805C79.2495 77.5145 78.7543 80.6414 76.5203 82.2645L82.3981 90.3547ZM76.0452 94.9703L82.3981 90.3547L76.5202 82.2645L70.1673 86.8801L76.0452 94.9703ZM55.0932 91.6519C59.9625 98.354 69.3431 99.8397 76.0452 94.9703L70.1673 86.8801C67.9333 88.5033 64.8064 88.008 63.1833 85.774L55.0932 91.6519ZM52.401 87.9464L55.0932 91.6518L63.1833 85.774L60.4912 82.0686L52.401 87.9464ZM55.4608 80.1055C53.6961 80.4603 51.8666 80.6472 49.9884 80.6472V90.6472C52.532 90.6472 55.0215 90.3938 57.4314 89.9095L55.4608 80.1055ZM49.9884 80.6472C48.1626 80.6472 46.383 80.4705 44.6641 80.1349L42.7475 89.9495C45.0945 90.4078 47.5159 90.6472 49.9884 90.6472V80.6472ZM45.0839 91.6519L47.7509 87.9811L39.6607 82.1033L36.9937 85.774L45.0839 91.6519ZM24.1319 94.9703C30.834 99.8397 40.2145 98.354 45.0839 91.6519L36.9937 85.774C35.3706 88.008 32.2438 88.5033 30.0097 86.8802L24.1319 94.9703ZM17.779 90.3547L24.1319 94.9703L30.0097 86.8802L23.6568 82.2645L17.779 90.3547ZM14.4605 69.4026C9.59111 76.1048 11.0769 85.4853 17.779 90.3547L23.6568 82.2645C21.4228 80.6414 20.9275 77.5145 22.5507 75.2805L14.4605 69.4026ZM17.2424 65.5736L14.4605 69.4026L22.5507 75.2805L25.3326 71.4515L17.2424 65.5736ZM25.6875 66.1378C24.0437 63.092 22.9567 59.7034 22.5618 56.1032L12.6214 57.1935C13.1599 62.1028 14.6442 66.7311 16.8875 70.8874L25.6875 66.1378ZM11.3675 59.8833L16.0465 61.4036L19.1367 51.893L14.4576 50.3727L11.3675 59.8833ZM1.73687 40.9822C-0.823121 48.861 3.48865 57.3233 11.3675 59.8833L14.4576 50.3727C11.8314 49.5194 10.3941 46.6986 11.2474 44.0723L1.73687 40.9822ZM4.16346 33.5139L1.73687 40.9822L11.2474 44.0723L13.674 36.6041L4.16346 33.5139ZM23.0646 23.8833C15.1857 21.3233 6.72344 25.6351 4.16346 33.5139L13.674 36.6041C14.5274 33.9778 17.3481 32.5405 19.9744 33.3939L23.0646 23.8833ZM28.1937 25.5498L23.0646 23.8833L19.9744 33.3939L25.1035 35.0604L28.1937 25.5498ZM30.2289 33.7954C32.5366 31.4281 35.2634 29.4758 38.2858 28.058L34.0386 19.0047C29.9154 20.939 26.2046 23.5978 23.0684 26.8149L30.2289 33.7954ZM31.1622 18V23.5313L41.1622 23.5313V18L31.1622 18ZM46.1622 3C37.8779 3 31.1622 9.71573 31.1622 18L41.1622 18C41.1622 15.2386 43.4008 13 46.1622 13V3ZM54.0148 3L46.1622 3V13L54.0148 13V3ZM69.0148 18C69.0148 9.71572 62.2991 3 54.0148 3V13C56.7762 13 59.0148 15.2386 59.0148 18H69.0148ZM69.0148 23.6261V18H59.0148V23.6261H69.0148ZM61.8604 28.1381C64.8331 29.5575 67.5155 31.4956 69.7887 33.8373L76.9639 26.8719C73.8745 23.6894 70.2243 21.0503 66.1692 19.114L61.8604 28.1381ZM77.1125 23.8833L71.8312 25.5993L74.9214 35.1098L80.2027 33.3938L77.1125 23.8833Z" fill="currentColor"/>
<circle cx="50.25" cy="53.25" r="5.625" stroke-width="11.25"/>
`},{name:"ellipses",svg:`<circle cx="19.25" cy="50.25" r="5.625" stroke-width="11.25"/>
<circle cx="50.25" cy="50.25" r="5.625" stroke-width="11.25"/>
<circle cx="81.25" cy="50.25" r="5.625" stroke-width="11.25"/>`},{name:"link",svg:`<path d="M42.9289 71.2132L53.5355 81.8198C61.346 89.6303 74.0093 89.6303 81.8198 81.8198V81.8198C89.6303 74.0093 89.6303 61.346 81.8198 53.5355L71.2132 42.9289" stroke-width="10" stroke-linecap="round"/>
<path d="M28.7868 57.0711L18.1802 46.4645C10.3697 38.654 10.3697 25.9907 18.1802 18.1802V18.1802C25.9907 10.3697 38.654 10.3697 46.4645 18.1802L57.0711 28.7868" stroke-width="10" stroke-linecap="round"/>
<path d="M37.2721 37.2721L63.0815 63.0815" stroke-width="10" stroke-linecap="round"/>`},{name:"copy",svg:`<path d="M20 73V73C17.2386 73 15 70.7614 15 68L15 19C15 13.4772 19.4772 9 25 9H60C62.7614 9 65 11.2386 65 14V14" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 38V82C35 87.5228 39.4772 92 45 92H75C80.5228 92 85 87.5228 85 82V38C85 32.4772 80.5228 28 75 28H45C39.4772 28 35 32.4772 35 38Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"file",svg:`<path d="M17 20L17 80C17 85.5228 21.4772 90 27 90H72C77.5228 90 82 85.5228 82 80V35L57 10H27C21.4772 10 17 14.4771 17 20Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M52 10V40H82" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"people",svg:`<circle cx="21" cy="21" r="21" transform="matrix(-1 0 0 1 80.6039 16.1776)" stroke-width="10"/>
<path fill="currentColor" d="M49.5683 55.1775L52.0719 50.8495L59.5538 55.1775L52.0719 59.5055L49.5683 55.1775ZM49.5683 18.8085L52.0719 14.4805L59.5538 18.8085L52.0719 23.1365L49.5683 18.8085ZM44.0718 36.993C44.0718 42.9064 47.2786 48.0766 52.0719 50.8495L47.0647 59.5055C39.3084 55.0187 34.0718 46.6204 34.0718 36.993H44.0718ZM52.0719 23.1365C47.2786 25.9093 44.0718 31.0796 44.0718 36.993H34.0718C34.0718 27.3656 39.3084 18.9672 47.0647 14.4805L52.0719 23.1365ZM47.0647 23.1365C44.7174 21.7787 41.9931 21 39.0718 21V11C43.798 11 48.2436 12.2659 52.0719 14.4805L47.0647 23.1365ZM39.0718 21C30.2391 21 23.0788 28.1603 23.0788 36.993H13.0788C13.0788 22.6375 24.7163 11 39.0718 11V21ZM23.0788 36.993C23.0788 45.8257 30.2391 52.986 39.0718 52.986V62.986C24.7163 62.986 13.0788 51.3485 13.0788 36.993H23.0788ZM39.0718 52.986C41.9931 52.986 44.7174 52.2073 47.0647 50.8495L52.0719 59.5055C48.2436 61.7201 43.798 62.986 39.0718 62.986V52.986Z" />
<path d="M92.6039 83.1776C92.6039 49.8442 28.6039 49.8442 28.6039 83.1776" stroke-width="10" stroke-linecap="round" />
<path d="M51.2842 54.3741C53.9662 55.0319 55.607 57.7393 54.9492 60.4213C54.2914 63.1032 51.584 64.7441 48.902 64.0862L51.2842 54.3741ZM12.5823 83.1775C12.5823 85.939 10.3438 88.1775 7.58235 88.1775C4.82092 88.1775 2.58235 85.939 2.58235 83.1775H12.5823ZM48.902 64.0862C40.6164 62.0539 31.1881 62.8609 24.0296 66.302C17.0403 69.6618 12.5823 75.2606 12.5823 83.1775H2.58235C2.58235 70.5678 10.0806 61.912 19.6972 57.2893C29.1445 52.7479 40.9716 51.8446 51.2842 54.3741L48.902 64.0862Z" fill="currentColor"/>`},{name:"flower",svg:`
			<path d="M27 47L27 10C27 7.23858 29.2386 5 32 5L37 5" stroke-width="10" stroke-linecap="round"/>
<path d="M41.7512 22.4399L76.7795 11.0585C79.4058 10.2052 82.2265 11.6424 83.0799 14.2687L84.7664 19.4593" stroke-width="10" stroke-linecap="round"/>
<path d="M69.9781 32.0025L91.6268 61.7993C93.2499 64.0333 92.7547 67.1602 90.5206 68.7833L86.1052 71.9913" stroke-width="10" stroke-linecap="round"/>
<path d="M68.5615 60.1581L46.9128 89.9549C45.2897 92.189 42.1629 92.6842 39.9288 91.0611L35.5134 87.8531" stroke-width="10" stroke-linecap="round"/>
<path d="M44.7835 68.5174L9.75526 57.136C7.12899 56.2827 5.69174 53.4619 6.54506 50.8356L8.23159 45.645" stroke-width="10" stroke-linecap="round"/>
<path d="M74 45C74 58.3372 63.3971 69 50.5 69C37.6029 69 27 58.3372 27 45C27 31.6628 37.6029 21 50.5 21C63.3971 21 74 31.6628 74 45Z" stroke-width="10"/>
<path d="M74 45C74 58.3372 63.3971 69 50.5 69C37.6029 69 27 58.3372 27 45C27 31.6628 37.6029 21 50.5 21C63.3971 21 74 31.6628 74 45Z" stroke-width="10"/>`},{name:"eye",svg:`
			<path d="M49.5 16C70.2642 16 87.7516 30.1877 93 49.5C87.7516 68.8123 70.2642 83 49.5 83C28.7358 83 11.2484 68.8123 6 49.5C11.2484 30.1877 28.7358 16 49.5 16Z" stroke-width="10"/>
<circle cx="50" cy="50" r="15" stroke-width="10"/>`},{name:"pause",svg:`
			<path d="M18 23L18 76C18 81.5228 22.4772 86 28 86C33.5228 86 38 81.5228 38 76V23C38 17.4771 33.5228 13 28 13C22.4772 13 18 17.4771 18 23Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M61 23L61 76C61 81.5228 65.4772 86 71 86C76.5228 86 81 81.5228 81 76V23C81 17.4771 76.5228 13 71 13C65.4772 13 61 17.4771 61 23Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"play",svg:`
			<path d="M85 41.3398C91.6667 45.1888 91.6667 54.8113 85 58.6603L34 88.1051C27.3333 91.9541 19 87.1429 19 79.4449L19 20.5551C19 12.8571 27.3333 8.04589 34 11.8949L85 41.3398Z" stroke-width="10"/>
			`},{name:"clock",svg:`
			<circle cx="50" cy="50" r="45" stroke-width="10"/>
<path d="M33 40L50.3205 50" stroke-width="10" stroke-linecap="round"/>
<path d="M50 5V15" stroke-width="10" stroke-linecap="round"/>
<path d="M50 85V95" stroke-width="10" stroke-linecap="round"/>
<path d="M85 50L95 50" stroke-width="10" stroke-linecap="round"/>
<path d="M5 50L15 50" stroke-width="10" stroke-linecap="round"/>
<path d="M71.2132 29L50 50.2132" stroke-width="10" stroke-linecap="round"/>
			`}],r;function u(){t(1,r=i.find(s=>s.name===l)??null)}return u(),n.$$set=s=>{"name"in s&&t(3,l=s.name),"size"in s&&t(0,o=s.size)},n.$$.update=()=>{n.$$.dirty&8&&u()},[o,r,i,l]}class kl extends ne{constructor(e){super(),le(this,e,fi,ui,x,{name:3,size:0})}}function ci(n,{skip:e}){if(e)return{duration:0,css:()=>""};const t=n.clientHeight;return{duration:K.data.transitionSpeed.value,css:l=>{const o=Se(l);return`
        height: calc(${o*t}px - var(--padding) * 2);
        overflow: visible;
        clip-path: inset(${(1-o)*t-2}px 0 -${t}px 0);
        transform: translateY(${(1-o)*-t}px);
        `}}}function di(n,{skip:e}){if(e)return{duration:0,css:()=>""};const t=n.clientHeight;return{duration:K.data.transitionSpeed.value,css:l=>{const o=Se(l);return`
        height: ${o*t}px;
        overflow: visible;
        clip-path: inset(${(1-o)*t}px 0 0 0);
        transform: translateY(${(1-o)*-t}px);
        `}}}function hi(n){return{duration:K.data.transitionSpeed.value,css:e=>`
        opacity:${e};
      `}}function Yt(n){return{duration:K.data.transitionSpeed.value,css:e=>{const t=Se(e);return`
        clip-path:inset(0% ${(1-t)*100}% 0% 0%);
        transform: translateX(${(1-t)*50}%);
      `}}}function $t(n){return{duration:K.data.transitionSpeed.value,css:e=>{const t=$l(e);return`
      clip-path:inset(0% ${(1-t)*100}% 0% 0%);
      transform: translateX(${(1-t)*50}%)`}}}function pi(n){const e=n.clientHeight;return{duration:K.data.transitionSpeed.value,css:t=>{const l=Se(t);return`
        height: ${e*l}px;
        margin-bottom: calc(${l} * var(--padding));
        transform: scale(${l});
        opacity: ${l};
      `}}}function mi(n){const e=n.clientHeight;return{duration:K.data.transitionSpeed.value,css:t=>{const l=Se(t);return`
        height: ${e*l}px;
        transform: scale(${l});
        opacity: ${l};
      `}}}function xt(n){return{duration:K.data.transitionSpeed.value,css:e=>`
        transform: scale(${Se(e)});
        opacity: ${e};
      `}}function gi(n){return{duration:K.data.transitionSpeed.value,css:e=>`
        transform: scale(${Se(e)});
        opacity: ${e};
      `}}function _i(n){return{duration:K.data.transitionSpeed.value,css:e=>`
        transform: scale(${Se(e)});
        opacity: ${e};
      `}}function en(n){return{duration:K.data.transitionSpeed.value,css:e=>`
        opacity: ${e};
      `}}function mt(n){return{duration:K.data.transitionSpeed.value,css:e=>`
				transform-origin: 50% 0%;
        transform: scale(${Se(e)});
        opacity: ${e};
      `}}function tn(n){return{duration:K.data.transitionSpeed.value,css:e=>{const t=Se(e);return`
				opacity: ${e};
				transform-origin: 50% 50%;
				transform: scale(${t});
			`}}}function nn(n){return{duration:K.data.transitionSpeed.value,css:e=>`
				transform-origin: 0% 100%;
        transform: scale(${Se(e)});
        opacity: ${e};
      `}}const it={commandControl:"cmd/ctrl",command:"cmd",shift:"shift",option:"alt",control:"ctrl",up:"↑",down:"↓",left:"←",right:"→",escape:"esc",return:"↵",space:"space",delete:"delete",tab:"tab"},bi={require:()=>!0,stopRepeat:!0,preventDefault:!0};function vi(n){const{handle:e,require:t,stopRepeat:l,preventDefault:o}={...bi,...n};return function(i){return!t()||(o&&i.preventDefault(),l&&i.repeat==!0)?!1:(e(),!0)}}function Rt(n){const e={};for(const[t,l]of Object.entries(n)){e[t]={};for(const[o,i]of Object.entries(l))e[t][o]=vi(i)}return function(t){var u,s;const l=[];t.metaKey&&l.push("command"),t.ctrlKey&&l.push("control"),t.altKey&&l.push("alt"),t.shiftKey&&l.push("shift");const o=t.key.length==1?t.key.toLowerCase():t.key;let i=l.length==0?"none":l.join(" "),r=(u=e[i])==null?void 0:u[o];r==null&&(t.metaKey||t.ctrlKey)&&!(t.metaKey&&t.ctrlKey)&&(i=i.replace("command","commandControl").replace("control","commandControl"),r=(s=e[i])==null?void 0:s[o]),r!=null&&r(t)}}function ln(n,e,t){const l=n.slice();return l[2]=e[t],l[4]=t,l}function wi(n){let e,t=n[2].toUpperCase()+"",l;return{c(){e=F("kbd"),l=ae(t),b(e,"class","key svelte-4v8coe")},m(o,i){j(o,e,i),L(e,l)},p(o,i){i&1&&t!==(t=o[2].toUpperCase()+"")&&de(l,t)},d(o){o&&D(e)}}}function ki(n){let e,t=it[n[2]]+"",l;return{c(){e=F("kbd"),l=ae(t),b(e,"class","modifier svelte-4v8coe"),R(e,"big",it[n[2]].length==1)},m(o,i){j(o,e,i),L(e,l)},p(o,i){i&1&&t!==(t=it[o[2]]+"")&&de(l,t),i&1&&R(e,"big",it[o[2]].length==1)},d(o){o&&D(e)}}}function on(n){let e;function t(i,r){return i[2]in it?ki:wi}let l=t(n),o=l(n);return{c(){o.c(),e=ge()},m(i,r){o.m(i,r),j(i,e,r)},p(i,r){l===(l=t(i))&&o?o.p(i,r):(o.d(1),o=l(i),o&&(o.c(),o.m(e.parentNode,e)))},d(i){o.d(i),i&&D(e)}}}function yi(n){let e,t=n[0],l=[];for(let o=0;o<t.length;o+=1)l[o]=on(ln(n,t,o));return{c(){e=F("span");for(let o=0;o<l.length;o+=1)l[o].c();b(e,"class","top svelte-4v8coe"),R(e,"inline",n[1])},m(o,i){j(o,e,i);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(o,[i]){if(i&1){t=o[0];let r;for(r=0;r<t.length;r+=1){const u=ln(o,t,r);l[r]?l[r].p(u,i):(l[r]=on(u),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}i&2&&R(e,"inline",o[1])},i:$,o:$,d(o){o&&D(e),we(l,o)}}}function Li(n,e,t){let{keys:l}=e,{inline:o=!1}=e;return n.$$set=i=>{"keys"in i&&t(0,l=i.keys),"inline"in i&&t(1,o=i.inline)},[l,o]}class Si extends ne{constructor(e){super(),le(this,e,Li,yi,x,{keys:0,inline:1})}}const ot=Ne(!0),oe=Ne([]),ve=Ne(0),tt=Ne({open:!1,claimed:!1}),yl=Ne(!1),wt=Ne(!1),ht=[];function Zt(n){return ht.push(n),()=>{const e=ht.indexOf(n);e!==-1&&ht.splice(e,1)}}function Ve(){ht.forEach(n=>n())}function Ci(n){let e;const t=n[15].default,l=rt(t,n,n[14],null);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&16384)&&at(l,t,o,o[14],e?ft(t,o[14],i,null):ut(o[14]),null)},i(o){e||(C(l,o),e=!0)},o(o){T(l,o),e=!1},d(o){l&&l.d(o)}}}function Mi(n){let e,t,l,o,i,r;const u=n[15].default,s=rt(u,n,n[14],null);let a=n[5]&&sn(n);return{c(){e=F("div"),s&&s.c(),t=Z(),a&&a.c(),l=ge(),b(e,"class","element svelte-wra7wq"),b(e,"role","tooltip"),R(e,"inline",n[3])},m(f,c){j(f,e,c),s&&s.m(e,null),n[16](e),j(f,t,c),a&&a.m(f,c),j(f,l,c),o=!0,i||(r=[W(e,"mouseover",n[10]),W(e,"focus",n[10]),W(e,"mouseleave",n[12]),W(e,"blur",n[12]),W(e,"mousemove",n[11])],i=!0)},p(f,c){s&&s.p&&(!o||c&16384)&&at(s,u,f,f[14],o?ft(u,f[14],c,null):ut(f[14]),null),(!o||c&8)&&R(e,"inline",f[3]),f[5]?a?(a.p(f,c),c&32&&C(a,1)):(a=sn(f),a.c(),C(a,1),a.m(l.parentNode,l)):a&&(Q(),T(a,1,1,()=>{a=null}),Y())},i(f){o||(C(s,f),C(a),o=!0)},o(f){T(s,f),T(a),o=!1},d(f){f&&D(e),s&&s.d(f),n[16](null),f&&D(t),a&&a.d(f),f&&D(l),i=!1,Ce(r)}}}function sn(n){let e,t,l,o,i,r,u,s=!n[2]&&n[1]!=null&&rn(n),a=n[2]&&an(n);return{c(){e=F("div"),t=F("div"),l=ae(n[0]),o=Z(),s&&s.c(),i=Z(),a&&a.c(),b(t,"class","content"),ct(e,"top",n[7]+"px"),ct(e,"left",n[6]+"px"),b(e,"class","tooltip svelte-wra7wq")},m(f,c){j(f,e,c),L(e,t),L(t,l),L(e,o),s&&s.m(e,null),L(e,i),a&&a.m(e,null),n[17](e),u=!0},p(f,c){(!u||c&1)&&de(l,f[0]),!f[2]&&f[1]!=null?s?(s.p(f,c),c&6&&C(s,1)):(s=rn(f),s.c(),C(s,1),s.m(e,i)):s&&(Q(),T(s,1,1,()=>{s=null}),Y()),f[2]?a?a.p(f,c):(a=an(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!u||c&128)&&ct(e,"top",f[7]+"px"),(!u||c&64)&&ct(e,"left",f[6]+"px")},i(f){u||(C(s),ke(()=>{u&&(r||(r=ye(e,xt,{},!0)),r.run(1))}),u=!0)},o(f){T(s),r||(r=ye(e,xt,{},!1)),r.run(0),u=!1},d(f){f&&D(e),s&&s.d(),a&&a.d(),n[17](null),f&&r&&r.end()}}}function rn(n){let e,t;return e=new Si({props:{keys:n[1]}}),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p(l,o){const i={};o&2&&(i.keys=l[1]),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function an(n){let e,t;return{c(){e=F("div"),t=ae(n[2]),b(e,"class","disabled svelte-wra7wq")},m(l,o){j(l,e,o),L(e,t)},p(l,o){o&4&&de(t,l[2])},d(l){l&&D(e)}}}function Fi(n){let e,t,l,o;const i=[Mi,Ci],r=[];function u(s,a){return s[0]!=null&&s[9]?0:1}return e=u(n),t=r[e]=i[e](n),{c(){t.c(),l=ge()},m(s,a){r[e].m(s,a),j(s,l,a),o=!0},p(s,[a]){let f=e;e=u(s),e===f?r[e].p(s,a):(Q(),T(r[f],1,1,()=>{r[f]=null}),Y(),t=r[e],t?t.p(s,a):(t=r[e]=i[e](s),t.c()),C(t,1),t.m(l.parentNode,l))},i(s){o||(C(t),o=!0)},o(s){T(t),o=!1},d(s){r[e].d(s),s&&D(l)}}}function Ti(n,e,t){let l;me(n,tt,M=>t(19,l=M));let{$$slots:o={},$$scope:i}=e,{content:r}=e,{shortcut:u=null}=e,{disabled:s=!1}=e,{layout:a="bottom"}=e,{inline:f=!1}=e,c=!1,h=0,d=0,m,p,g=!0;ce(K.subscribe(["useTooltips"],function(){t(9,g=K.data.useTooltips.value)}));let v=null;async function w(){t(5,c=!0),k(),await Ze(),he(tt,l.open=!0,l)}function _(){c||(he(tt,l.claimed=!0,l),l.open?w():v==null&&(v=setTimeout(w,0)))}function k(){if(p){let M=m.getBoundingClientRect();a=="bottom"||a=="top"?(t(6,h=M.left-p.offsetWidth/2+M.width/2),h<4?t(6,h=4):h+p.offsetWidth>window.innerWidth-4&&t(6,h=window.innerWidth-p.offsetWidth-4),a=="bottom"?t(7,d=M.bottom+4):a=="top"&&t(7,d=M.top-p.offsetHeight-4)):(a=="left"||a=="right")&&(t(7,d=M.top-p.offsetHeight/2+M.height/2),d<4?t(7,d=4):d+p.offsetHeight>window.innerHeight-4&&t(7,d=window.innerHeight-p.offsetHeight-4),a=="left"?t(6,h=M.left-p.offsetWidth-4):a=="right"&&t(6,h=M.right+4))}}async function y(){await Ze(),k()}function S(){v!=null&&(clearTimeout(v),v=null),he(tt,l.claimed=!1,l),t(5,c=!1),setTimeout(function(){l.claimed||he(tt,l.open=!1,l)},300)}function A(M){U[M?"unshift":"push"](()=>{m=M,t(8,m)})}function I(M){U[M?"unshift":"push"](()=>{p=M,t(4,p)})}return n.$$set=M=>{"content"in M&&t(0,r=M.content),"shortcut"in M&&t(1,u=M.shortcut),"disabled"in M&&t(2,s=M.disabled),"layout"in M&&t(13,a=M.layout),"inline"in M&&t(3,f=M.inline),"$$scope"in M&&t(14,i=M.$$scope)},n.$$.update=()=>{n.$$.dirty&8215&&y()},[r,u,s,f,p,c,h,d,m,g,_,k,S,a,i,o,A,I]}class Ai extends ne{constructor(e){super(),le(this,e,Ti,Fi,x,{content:0,shortcut:1,disabled:2,layout:13,inline:3})}}function Ii(n){let e;const t=n[2].default,l=rt(t,n,n[1],null);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&2)&&at(l,t,o,o[1],e?ft(t,o[1],i,null):ut(o[1]),null)},i(o){e||(C(l,o),e=!0)},o(o){T(l,o),e=!1},d(o){l&&l.d(o)}}}function Bi(n){let e,t;const l=n[2].default,o=rt(l,n,n[1],null);return{c(){e=F("a"),o&&o.c(),b(e,"href",n[0]),b(e,"class","svelte-in9ows")},m(i,r){j(i,e,r),o&&o.m(e,null),t=!0},p(i,r){o&&o.p&&(!t||r&2)&&at(o,l,i,i[1],t?ft(l,i[1],r,null):ut(i[1]),null),(!t||r&1)&&b(e,"href",i[0])},i(i){t||(C(o,i),t=!0)},o(i){T(o,i),t=!1},d(i){i&&D(e),o&&o.d(i)}}}function Di(n){let e,t,l,o;const i=[Bi,Ii],r=[];function u(s,a){return s[0]?0:1}return e=u(n),t=r[e]=i[e](n),{c(){t.c(),l=ge()},m(s,a){r[e].m(s,a),j(s,l,a),o=!0},p(s,[a]){let f=e;e=u(s),e===f?r[e].p(s,a):(Q(),T(r[f],1,1,()=>{r[f]=null}),Y(),t=r[e],t?t.p(s,a):(t=r[e]=i[e](s),t.c()),C(t,1),t.m(l.parentNode,l))},i(s){o||(C(t),o=!0)},o(s){T(t),o=!1},d(s){r[e].d(s),s&&D(l)}}}function ji(n,e,t){let{$$slots:l={},$$scope:o}=e,{link:i=null}=e;return n.$$set=r=>{"link"in r&&t(0,i=r.link),"$$scope"in r&&t(1,o=r.$$scope)},[i,o,l]}class Ni extends ne{constructor(e){super(),le(this,e,ji,Di,x,{link:0})}}function un(n){let e,t;return{c(){e=F("p"),t=ae(n[1]),b(e,"class","svelte-6nr5h3")},m(l,o){j(l,e,o),L(e,t)},p(l,o){o&2&&de(t,l[1])},d(l){l&&D(e)}}}function Oi(n){let e,t,l,o,i,r,u,s;t=new kl({props:{name:n[0],size:"var(--button-size)"}});let a=n[1]!=null&&un(n);return{c(){e=F("button"),V(t.$$.fragment),l=Z(),a&&a.c(),b(e,"class",o=se(`top ${n[5]?"palette-"+n[5]:""}`)+" svelte-6nr5h3"),e.disabled=i=!!n[3],R(e,"disabled",n[3])},m(f,c){j(f,e,c),E(t,e,null),L(e,l),a&&a.m(e,null),r=!0,u||(s=[W(e,"click",n[13]),W(e,"click",function(){xe(n[9])&&n[9].apply(this,arguments)}),W(e,"mousedown",n[10])],u=!0)},p(f,c){n=f;const h={};c&1&&(h.name=n[0]),t.$set(h),n[1]!=null?a?a.p(n,c):(a=un(n),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!r||c&32&&o!==(o=se(`top ${n[5]?"palette-"+n[5]:""}`)+" svelte-6nr5h3"))&&b(e,"class",o),(!r||c&8&&i!==(i=!!n[3]))&&(e.disabled=i),(!r||c&40)&&R(e,"disabled",n[3])},i(f){r||(C(t.$$.fragment,f),r=!0)},o(f){T(t.$$.fragment,f),r=!1},d(f){f&&D(e),q(t),a&&a.d(),u=!1,Ce(s)}}}function Ri(n){let e,t;return e=new Ni({props:{link:n[6],$$slots:{default:[Oi]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p(l,o){const i={};o&64&&(i.link=l[6]),o&16939&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Zi(n){let e,t;return e=new Ai({props:{content:n[2],disabled:n[3]&&n[7],shortcut:n[4],layout:n[8],$$slots:{default:[Ri]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p(l,[o]){const i={};o&4&&(i.content=l[2]),o&136&&(i.disabled=l[3]&&l[7]),o&16&&(i.shortcut=l[4]),o&256&&(i.layout=l[8]),o&17003&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Hi(n,e,t){let{icon:l}=e,{text:o=null}=e,{tooltip:i=null}=e,{disabled:r=!1}=e,{shortcut:u=null}=e,{palette:s=null}=e,{link:a=null}=e,{disabledReason:f="disabled"}=e,{tooltipLayout:c="bottom"}=e,{tutorialHighlight:h=null}=e,{onclick:d=()=>{}}=e,{preventBlur:m=!0}=e;function p(v){m&&v.preventDefault()}function g(v){je.call(this,n,v)}return n.$$set=v=>{"icon"in v&&t(0,l=v.icon),"text"in v&&t(1,o=v.text),"tooltip"in v&&t(2,i=v.tooltip),"disabled"in v&&t(3,r=v.disabled),"shortcut"in v&&t(4,u=v.shortcut),"palette"in v&&t(5,s=v.palette),"link"in v&&t(6,a=v.link),"disabledReason"in v&&t(7,f=v.disabledReason),"tooltipLayout"in v&&t(8,c=v.tooltipLayout),"tutorialHighlight"in v&&t(11,h=v.tutorialHighlight),"onclick"in v&&t(9,d=v.onclick),"preventBlur"in v&&t(12,m=v.preventBlur)},[l,o,i,r,u,s,a,f,c,d,p,h,m,g]}class ue extends ne{constructor(e){super(),le(this,e,Hi,Zi,x,{icon:0,text:1,tooltip:2,disabled:3,shortcut:4,palette:5,link:6,disabledReason:7,tooltipLayout:8,tutorialHighlight:11,onclick:9,preventBlur:12})}}function zi(n){let e,t,l,o,i,r,u,s,a,f,c,h;l=new ue({props:{icon:"delete",tooltip:"close"}}),l.$on("click",function(){xe(n[3])&&n[3].apply(this,arguments)});const d=[{closePopup:n[3]},n[1]];var m=n[0];function p(g){let v={};for(let w=0;w<d.length;w+=1)v=Ee(v,d[w]);return{props:v}}return m&&(u=Jt(m,p())),{c(){e=F("div"),t=F("div"),V(l.$$.fragment),o=F("span"),i=ae(n[2]),r=Z(),u&&V(u.$$.fragment),b(o,"class","svelte-let7br"),b(t,"class","upper svelte-let7br"),b(e,"class","top svelte-let7br")},m(g,v){j(g,e,v),L(e,t),E(l,t,null),L(t,o),L(o,i),L(e,r),u&&E(u,e,null),f=!0,c||(h=W(window,"keydown",n[4]),c=!0)},p(g,[v]){n=g,(!f||v&4)&&de(i,n[2]);const w=v&10?Dt(d,[v&8&&{closePopup:n[3]},v&2&&jt(n[1])]):{};if(v&1&&m!==(m=n[0])){if(u){Q();const _=u;T(_.$$.fragment,1,0,()=>{q(_,1)}),Y()}m?(u=Jt(m,p()),V(u.$$.fragment),C(u.$$.fragment,1),E(u,e,null)):u=null}else m&&u.$set(w)},i(g){f||(C(l.$$.fragment,g),u&&C(u.$$.fragment,g),ke(()=>{f&&(a&&a.end(1),s=Ge(e,gi,{}),s.start())}),f=!0)},o(g){T(l.$$.fragment,g),u&&T(u.$$.fragment,g),s&&s.invalidate(),a=Qe(e,_i,{}),f=!1},d(g){g&&D(e),q(l),u&&q(u),g&&a&&a.end(),c=!1,h()}}}function Vi(n,e,t){let{component:l}=e,{props:o={}}=e,{title:i}=e,{closeSelf:r}=e;function u(s){s.key==="Escape"&&r()}return n.$$set=s=>{"component"in s&&t(0,l=s.component),"props"in s&&t(1,o=s.props),"title"in s&&t(2,i=s.title),"closeSelf"in s&&t(3,r=s.closeSelf)},[l,o,i,r,u]}class Ei extends ne{constructor(e){super(),le(this,e,Vi,zi,x,{component:0,props:1,title:2,closeSelf:3})}}const gt={policy:{primary:{name:"aff",columns:["1AC","1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!1},secondary:{name:"neg",columns:["1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!0},timerSpeeches:[{name:"1AC",time:8*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1NC",time:8*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!0},{name:"2AC",time:8*60*1e3,secondary:!1},{name:"2NC",time:8*60*1e3,secondary:!0},{name:"1NR",time:5*60*1e3,secondary:!0},{name:"1AR",time:5*60*1e3,secondary:!1},{name:"2NR",time:5*60*1e3,secondary:!0},{name:"2AR",time:5*60*1e3,secondary:!1}],prepTime:8*60*1e3},publicForum:{primary:{name:"aff",columns:["AC","NC","AR","NR","AS","NS","AFF","NFF"],columnsSwitch:["AC","NR","AR","NS","AS","NFF","AFF"],invert:!1},secondary:{name:"neg",columns:["NC","AR","NR","AS","NS","AFF","NFF"],columnsSwitch:["NC","AC","NR","AR","NS","AS","NFF","AFF"],invert:!0},timerSpeeches:[{name:"AC",time:4*60*1e3,secondary:!1},{name:"NC",time:4*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"AR",time:4*60*1e3,secondary:!1},{name:"NR",time:4*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"AS",time:3*60*1e3,secondary:!1},{name:"NS",time:3*60*1e3,secondary:!0},{name:"GCX",time:3*60*1e3,secondary:!1},{name:"AFF",time:2*60*1e3,secondary:!1},{name:"NFF",time:2*60*1e3,secondary:!0}],prepTime:4*60*1e3},lincolnDouglas:{primary:{name:"aff",columns:["AC","NC","1AR","NR","2AR"],starterBoxes:["value","criterion"],invert:!1},secondary:{name:"neg",columns:["NC","1AR","NR","2AR"],starterBoxes:["value","criterion"],invert:!0},timerSpeeches:[{name:"AC",time:6*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"NC",time:7*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1AR",time:4*60*1e3,secondary:!1},{name:"NR",time:6*60*1e3,secondary:!0},{name:"2AR",time:3*60*1e3,secondary:!1}],prepTime:4*60*1e3},congress:{primary:{name:"bill",columns:["1A","Q/1N","Q/2A","Q/2N","Q/3A","Q/3N","Q/4A","Q/4N","Q/5A","Q/5N"],invert:!1},timerSpeeches:[{name:"speech",time:3*60*1e3,secondary:!1}]}},_t=["policy","publicForum","lincolnDouglas","congress"];let pt;oe.subscribe(n=>{pt=n});function Ye(n,e,t,l){return{content:"",children:[],index:n,level:e,focus:t,placeholder:l}}function qi(n,e,t=!1){const l=gt[_t[K.data.debateStyle.value]];let o=0;for(let f=0;f<pt.length;f++)pt[f].id>=o&&(o=pt[f].id+1);let i;const r=l[e];if(r==null)return null;const u=r.starterBoxes;u!=null?i=u.map((f,c)=>Ye(c,1,!1,f)):i=[Ye(0,1,!1)];let s;r.columnsSwitch!=null&&t?s=r.columnsSwitch:s=r.columns;const a={content:"",level:0,columns:s,invert:r.invert,focus:!0,index:n,lastFocus:[],children:i,id:o,history:null};return a.history=new Ht(a),a}function fe(n,e,t=0){if(e.length==0&&t>=1)return null;let l=n;for(let o=0;o<e.length-t;o++)if(l=l==null?void 0:l.children[e[o]],l==null)return null;return l}function Ll(n){return JSON.parse(JSON.stringify(n))}let Tt;oe.subscribe(n=>{Tt=n});class Ht{constructor(e){He(this,"index");He(this,"data");He(this,"lastFocus");He(this,"flow");this.index=-1,this.data=[],this.lastFocus=null,this.flow=e}lastAction(){return this.data[this.index]}add(e,t,l){this.resolveAllPending();const o={type:e,path:t,lastFocus:this.lastFocus==null?null:[...this.lastFocus],nextFocus:null,other:l,pending:!1};this.data=this.data.slice(0,this.index+1),this.data.push(o),this.index=this.data.length-1,Ve()}addPending(e,t,l){this.data=this.data.slice(0,this.index+1),this.data.push({type:e,path:t,lastFocus:null,nextFocus:null,other:l,pending:!0}),this.index=this.data.length-1,Ve()}resolveAllPending(){let e=!1;const t=[...this.data];for(let l=0;l<this.data.length;l++){const o=this.data[l];if(o.pending){const i={type:o.type,path:o.path,lastFocus:o.path,nextFocus:o.path,other:o.other,pending:!1};let r=!0;i.type=="edit"&&(i.other.lastContent=o.other.lastContent,i.other.nextContent=o.other.getNextContent(),i.other.lastContent==i.other.nextContent&&(r=!1),o.other.createEditBreak()),r?(e=!0,t[l]=i):(t[l]=null,this.index>=l&&(this.index-=1))}}this.data=t.filter(l=>l!=null),e&&console.log("resolving all pending")}addFocus(e){this.lastFocus=e,this.lastAction()&&this.lastAction().nextFocus==null&&(this.lastAction().nextFocus=e)}undoAction(e){if(console.log("undo",this.index,this.data),e.type=="add"||e.type=="addBox"||e.type=="deleteBox"){const t=fe(this.flow,e.path,1);if(t==null)throw new Error(`parent of box at path ${e.path} is null`);const l=e.path[e.path.length-1],o=[...t.children];e.type=="add"||e.type=="addBox"?o.splice(l,1):e.type=="deleteBox"&&o.splice(l,0,e.other.box);for(let i=l;i<o.length;i++)o[i].index=i;t.children=[...o]}else if(e.type=="edit"){const t=fe(this.flow,e.path);if(t==null)throw new Error(`box at path ${e.path} is null`);t.content=e.other.lastContent}else if(e.type=="cross"){const t=fe(this.flow,e.path);if(t==null)throw new Error(`box at path ${e.path} is null`);t.crossed=!e.other.crossed}}redoAction(e){if(console.log("redo",this.index,this.data),e.type=="add"||e.type=="addBox"||e.type=="deleteBox"){const t=fe(this.flow,e.path,1),l=e.path[e.path.length-1];if(t==null)throw new Error(`parent of box at path ${e.path} is null`);const o=[...t.children];e.type=="add"?o.splice(l,0,Ye(l,t.level+1,!1)):e.type=="addBox"?o.splice(l,0,Ll(e.other.box)):e.type=="deleteBox"&&o.splice(l,1);for(let i=l;i<o.length;i++)o[i].index=i;t.children=[...o]}else if(e.type=="edit"){const t=fe(this.flow,e.path);if(t==null)throw new Error(`box at path ${e.path} is null`);t.content=e.other.nextContent}else if(e.type=="cross"){const t=fe(this.flow,e.path);if(t==null)throw new Error(`box at path ${e.path} is null`);t.crossed=e.other.crossed}}focus(e){if(e==null)return;const t=fe(this.flow,e);t!=null&&(t.focus=!0)}undo(){if(this.resolveAllPending(),this.index>-1){const e=this.lastAction();this.undoAction(e),this.focus(e.lastFocus),oe.set(Tt),this.index-=1}}redo(){if(this.resolveAllPending(),this.index<this.data.length-1){this.index+=1;const e=this.lastAction();this.redoAction(e),this.focus(e.nextFocus),oe.set(Tt)}}}let Je;oe.subscribe(n=>{Je=n});let zt;ve.subscribe(n=>{zt=n});let Sl;wt.subscribe(n=>{Sl=n});function Pi(n){return n.origin==="https://docs.google.com"}function kt(n){return new Promise((e,t)=>{const l=o=>{Pi(o)||t(new Error("Invalid event origin; make sure you're calling from a Google Sheet"));const i=o.data;i.message===n.message&&e(i),window.removeEventListener("message",l)};window.addEventListener("message",l),window.parent.postMessage(n,"*")})}let st=null;const Ui=window.self!==window.top;async function Wi(n){if(Ui)try{const e=await kt({message:"flower:init",data:null});if(!e.data.ready)return;if(!e.data.url.startsWith("https://docs.google.com/spreadsheets/d")){alert("Error starting sharing: invalid URL. Make sure you have a google sheet open.");return}if(e.data.version!="0.0.1")return;n(),Ji()}catch(e){alert("Error starting sharing: "+e.message);return}}function Ki(){st!=null&&clearInterval(st),wt.set(!1)}let At=!1;function Ji(){wt.set(!0),console.log("start sharing"),Xi()}Zt(()=>{At=!0});function Xi(){st!=null&&clearInterval(st),fn(),st=setInterval(fn,5e3)}async function fn(){if(At)await cn(),At=!1;else{const n=xi(),e=await Gi();e==null?(console.log("sheet data invalid, overwriting"),await cn()):await $i(e,n)}}let We=null;async function cn(){const n=Qi(Je),e=oo(n),t=[];for(let l=0;l<e.length;l++)t.push({row:l,col:0,value:ro(e[l])});We=document.activeElement,await kt({message:"flower:writeCell",data:t})}window.addEventListener("focusout",()=>{Sl&&We&&setTimeout(function(){window.focus(),We==null||We.focus(),We=null},0)});async function Gi(){const n=no(0,0,0,1);return await io(n)}function Qi(n){return JSON.stringify(n,(t,l)=>{if(!(t==="history"||t==="lastFocus"))return t==="focus"?!1:l})}function Yi(n){return JSON.parse(n)}let bt=!1;async function $i(n,e){var i;const t=Yi(n);let l=null;for(let r=0;r<t.length;r++){const u=t[r],s=(i=e.flowMap[u.id])==null?void 0:i.lastFocus;if(s!=null){let a=fe(u,s);a!=null?u.lastFocus=[...s]:(u.lastFocus=[],a=u),e.flowMap[u.id].lastFocusActive&&(a.focus=!0)}else u.lastFocus=[];u.id==e.selectedId&&(l=r),u.history=new Ht(u)}const o=t;l==null&&(l=Math.max(0,Math.min(zt,o.length-1))),bt=!0,ve.set(l),oe.set(o),await Ze(),bt=!1}function xi(){var e;const n={};for(const t of Je)n[t.id]={lastFocus:t.lastFocus,lastFocusActive:t.lastFocus==null?!1:fe(t,t.lastFocus)!=null};return{selectedId:(e=Je==null?void 0:Je[zt])==null?void 0:e.id,flowMap:n}}const eo=49e3;var Cl=(n=>(n.Single="single",n.Start="start",n.Continue="continue",n.End="end",n))(Cl||{});function to(n){if(!n.startsWith("flower:"))return console.log("wrong prefix"),null;const e=n.split(":");if(e.length<4)return console.log("too few parts"),null;const t=e[1];if(t.length!=36)return console.log("bad uid"),null;const l=e[2];if(!Object.values(Cl).includes(l))return console.log("bad head type"),null;const o={type:l,uuid:t},i=e.slice(3).join(":");return{head:o,body:i}}async function*no(n,e,t,l){let o=n,i=e;for(;;)yield(await kt({message:"flower:readCell",data:[{row:i,col:o}]})).data[0].value,o+=t,i+=l}async function lo(n){const e=[];let t,l="start";for await(const o of n){const i=to(o);if(i==null)return console.log("invalid block"),null;if(t==null)t=i.head.uuid;else if(t!=i.head.uuid)return console.log("uid mismatch"),null;if(l=="start")switch(i.head.type){case"single":return e.push(i),e;case"start":e.push(i),l="continue";break;default:return console.log("invalid start block type",i.head.type,i),null}else if(l=="continue")switch(i.head.type){case"continue":e.push(i);break;case"end":return e.push(i),e;default:return console.log("invalid continue block type",i.head.type,i),null}}return e}async function io(n){const e=await lo(n);if(e==null)return null;let t="";for(const l of e)t+=l.body;return t}function oo(n){const e=so(n,eo),t=[],l=crypto.randomUUID();if(e.length==1)t.push({head:{type:"single",uuid:l},body:e[0]});else{t.push({head:{type:"start",uuid:l},body:e[0]});for(let o=1;o<e.length-1;o++)t.push({head:{type:"continue",uuid:l},body:e[o]});t.push({head:{type:"end",uuid:l},body:e[e.length-1]})}return t}function so(n,e){const t=[];let l="",o=0;for(const i of n)o>=e&&(t.push(l),l="",o=0),l+=i,o+=1;return t.push(l),t}function ro(n){return`flower:${n.head.uuid}:${n.head.type}:${n.body}`}async function ao(){await kt({message:"flower:resizeMove",data:{width:"100vw",height:"100vh",top:"0px",left:"0px"}}),yl.set(!1)}function uo(n){let e,t,l,o;return{c(){e=F("textarea"),b(e,"spellcheck","false"),b(e,"placeholder",n[1]),b(e,"style",t=`--white-space:${n[4]};`),b(e,"class","svelte-1ilfv2h"),R(e,"strikethrough",n[2])},m(i,r){j(i,e,r),Ae(e,n[0]),n[14](e),l||(o=[W(e,"input",n[13]),W(e,"load",n[3]),W(e,"input",n[3]),W(e,"input",n[8]),W(e,"beforeinput",n[9]),W(e,"keydown",n[10]),W(e,"focus",n[11]),W(e,"blur",n[12])],l=!0)},p(i,[r]){r&2&&b(e,"placeholder",i[1]),r&16&&t!==(t=`--white-space:${i[4]};`)&&b(e,"style",t),r&1&&Ae(e,i[0]),r&4&&R(e,"strikethrough",i[2])},i:$,o:$,d(i){i&&D(e),n[14](null),l=!1,Ce(o)}}}function fo(n,e,t){let{value:l}=e,{placeholder:o=""}=e,{nowrap:i=!1}=e,{strikethrough:r=!1}=e,u,s;function a(){s&&(t(5,s.value=s.value.replace(/\r?\n|\r/g,""),s),t(5,s.style.height="0px",s),t(5,s.style.height=s.scrollHeight+"px",s))}gl(function(){a()}),ce(K.subscribe(["fontSize"],a));const f=()=>{s.focus()};function c(w){je.call(this,n,w)}function h(w){je.call(this,n,w)}function d(w){je.call(this,n,w)}function m(w){je.call(this,n,w)}function p(w){je.call(this,n,w)}function g(){l=this.value,t(0,l)}function v(w){U[w?"unshift":"push"](()=>{s=w,t(5,s)})}return n.$$set=w=>{"value"in w&&t(0,l=w.value),"placeholder"in w&&t(1,o=w.placeholder),"nowrap"in w&&t(6,i=w.nowrap),"strikethrough"in w&&t(2,r=w.strikethrough)},n.$$.update=()=>{n.$$.dirty&64&&(i?t(4,u="nowrap"):t(4,u="auto"))},[l,o,r,a,u,s,i,f,c,h,d,m,p,g,v]}class Vt extends ne{constructor(e){super(),le(this,e,fo,uo,x,{value:0,placeholder:1,nowrap:6,strikethrough:2,autoHeight:3,focus:7})}get autoHeight(){return this.$$.ctx[3]}get focus(){return this.$$.ctx[7]}}function dn(n,e,t){const l=n.slice();return l[65]=e[t],l[66]=e,l[67]=t,l}function co(n){let e,t,l,o,i,r,u,s,a,f,c,h,d,m,p,g,v;function w(y){n[36](y)}let _={placeholder:n[9]};n[1]!==void 0&&(_.value=n[1]),s=new Vt({props:_}),U.push(()=>X(s,"value",w)),n[37](s),s.$on("keydown",n[23]),s.$on("beforeinput",n[24]),s.$on("blur",n[22]),s.$on("focus",n[21]);let k=n[2].length==0&&n[7]<n[18]&&hn(n);return{c(){e=F("div"),t=F("div"),l=F("div"),r=Z(),u=F("div"),V(s.$$.fragment),f=Z(),c=F("div"),m=Z(),k&&k.c(),b(l,"class","line above svelte-16g6m0p"),b(l,"role","separator"),R(l,"left",n[2].length>0),R(l,"right",n[6]==0&&n[7]>1&&!n[5]),b(u,"class","text svelte-16g6m0p"),R(u,"crossed",n[3]),b(c,"class","line below svelte-16g6m0p"),b(c,"role","separator"),b(t,"class","barcontainer svelte-16g6m0p"),b(e,"class","content svelte-16g6m0p"),b(e,"style",`--this-background: ${n[19]}`),R(e,"root",n[4]),R(e,"left",n[2].length>0),R(e,"right",n[6]==0&&n[7]>1&&!n[5])},m(y,S){j(y,e,S),L(e,t),L(t,l),L(t,r),L(t,u),E(s,u,null),L(t,f),L(t,c),L(e,m),k&&k.m(e,null),p=!0,g||(v=[W(l,"click",n[35]),W(l,"mousedown",It),W(c,"click",n[38]),W(c,"mousedown",It)],g=!0)},p(y,S){(!p||S[0]&4)&&R(l,"left",y[2].length>0),(!p||S[0]&224)&&R(l,"right",y[6]==0&&y[7]>1&&!y[5]);const A={};S[0]&512&&(A.placeholder=y[9]),!a&&S[0]&2&&(a=!0,A.value=y[1],G(()=>a=!1)),s.$set(A),(!p||S[0]&8)&&R(u,"crossed",y[3]),y[2].length==0&&y[7]<y[18]?k?(k.p(y,S),S[0]&132&&C(k,1)):(k=hn(y),k.c(),C(k,1),k.m(e,null)):k&&(Q(),T(k,1,1,()=>{k=null}),Y()),(!p||S[0]&16)&&R(e,"root",y[4]),(!p||S[0]&4)&&R(e,"left",y[2].length>0),(!p||S[0]&224)&&R(e,"right",y[6]==0&&y[7]>1&&!y[5])},i(y){p||(ke(()=>{p&&(i&&i.end(1),o=Ge(l,Yt,{}),o.start())}),C(s.$$.fragment,y),ke(()=>{p&&(d&&d.end(1),h=Ge(c,Yt,{}),h.start())}),C(k),p=!0)},o(y){o&&o.invalidate(),i=Qe(l,$t,{}),T(s.$$.fragment,y),h&&h.invalidate(),d=Qe(c,$t,{}),T(k),p=!1},d(y){y&&D(e),y&&i&&i.end(),n[37](null),q(s),y&&d&&d.end(),k&&k.d(),g=!1,Ce(v)}}}function ho(n){let e;return{c(){e=F("div"),b(e,"class","content svelte-16g6m0p")},m(t,l){j(t,e,l)},p:$,i:$,o:$,d(t){t&&D(e)}}}function hn(n){let e,t,l,o,i,r,u;return t=new kl({props:{name:"add"}}),{c(){e=F("button"),V(t.$$.fragment),b(e,"class",l=se(`add palette-${n[16]}`)+" svelte-16g6m0p")},m(s,a){j(s,e,a),E(t,e,null),i=!0,r||(u=[W(e,"click",n[39]),W(e,"mousedown",It)],r=!0)},p(s,a){(!i||a[0]&65536&&l!==(l=se(`add palette-${s[16]}`)+" svelte-16g6m0p"))&&b(e,"class",l)},i(s){i||(C(t.$$.fragment,s),o||ke(()=>{o=Ge(e,hi,{}),o.start()}),i=!0)},o(s){T(t.$$.fragment,s),i=!1},d(s){s&&D(e),q(t),r=!1,Ce(u)}}}function pn(n,e){let t,l,o,i,r,u,s,a,f,c,h;function d(S){e[40](S,e[65])}function m(S){e[41](S,e[65])}function p(S){e[42](S,e[65])}function g(S){e[43](S,e[65])}function v(S){e[44](S,e[65])}function w(S){e[45](S,e[65])}function _(S){e[46](S,e[65])}function k(S){e[47](S,e[65])}let y={addSibling:e[25],deleteSelf:e[26],focusSibling:e[27],focusSiblingStrict:e[28],focusParent:e[29],dispatchSelfFocus:e[20],parentPath:e[12],parentIsEmpty:e[8]};return e[65].content!==void 0&&(y.content=e[65].content),e[65].children!==void 0&&(y.children=e[65].children),e[65].index!==void 0&&(y.index=e[65].index),e[65].level!==void 0&&(y.level=e[65].level),e[65].focus!==void 0&&(y.focus=e[65].focus),e[65].empty!==void 0&&(y.empty=e[65].empty),e[65].placeholder!==void 0&&(y.placeholder=e[65].placeholder),e[65].crossed!==void 0&&(y.crossed=e[65].crossed),l=new Ml({props:y}),U.push(()=>X(l,"content",d)),U.push(()=>X(l,"children",m)),U.push(()=>X(l,"index",p)),U.push(()=>X(l,"level",g)),U.push(()=>X(l,"focus",v)),U.push(()=>X(l,"empty",w)),U.push(()=>X(l,"placeholder",_)),U.push(()=>X(l,"crossed",k)),l.$on("saveFocus",e[48]),{key:n,first:null,c(){t=ge(),V(l.$$.fragment),this.first=t},m(S,A){j(S,t,A),E(l,S,A),h=!0},p(S,A){e=S;const I={};A[0]&4096&&(I.parentPath=e[12]),A[0]&256&&(I.parentIsEmpty=e[8]),!o&&A[0]&4&&(o=!0,I.content=e[65].content,G(()=>o=!1)),!i&&A[0]&4&&(i=!0,I.children=e[65].children,G(()=>i=!1)),!r&&A[0]&4&&(r=!0,I.index=e[65].index,G(()=>r=!1)),!u&&A[0]&4&&(u=!0,I.level=e[65].level,G(()=>u=!1)),!s&&A[0]&4&&(s=!0,I.focus=e[65].focus,G(()=>s=!1)),!a&&A[0]&4&&(a=!0,I.empty=e[65].empty,G(()=>a=!1)),!f&&A[0]&4&&(f=!0,I.placeholder=e[65].placeholder,G(()=>f=!1)),!c&&A[0]&4&&(c=!0,I.crossed=e[65].crossed,G(()=>c=!1)),l.$set(I)},i(S){h||(C(l.$$.fragment,S),h=!0)},o(S){T(l.$$.fragment,S),h=!1},d(S){S&&D(t),q(l,S)}}}function po(n){let e,t,l,o,i,r=[],u=new Map,s,a,f,c;const h=[ho,co],d=[];function m(v,w){return v[8]?0:1}t=m(n),l=d[t]=h[t](n);let p=n[2];const g=v=>v[65];for(let v=0;v<p.length;v+=1){let w=dn(n,p,v),_=g(w);u.set(_,r[v]=pn(_,w))}return{c(){e=F("div"),l.c(),o=Z(),i=F("ul");for(let v=0;v<r.length;v+=1)r[v].c();b(i,"class","children svelte-16g6m0p"),b(e,"class",s=se(`top palette-${n[15]}`)+" svelte-16g6m0p"),R(e,"childless",n[2].length==0),R(e,"empty",n[8]),R(e,"focus",n[0]),R(e,"childFocus",n[14]),R(e,"activeMouse",n[17]),R(e,"highlight",n[14]||n[0])},m(v,w){j(v,e,w),d[t].m(e,null),L(e,o),L(e,i);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(i,null);c=!0},p(v,w){n=v;let _=t;t=m(n),t===_?d[t].p(n,w):(Q(),T(d[_],1,1,()=>{d[_]=null}),Y(),l=d[t],l?l.p(n,w):(l=d[t]=h[t](n),l.c()),C(l,1),l.m(e,o)),w[0]&1041240324&&(p=n[2],Q(),r=Nt(r,w,g,1,n,p,u,i,_l,pn,null,dn),Y()),(!c||w[0]&32768&&s!==(s=se(`top palette-${n[15]}`)+" svelte-16g6m0p"))&&b(e,"class",s),(!c||w[0]&32772)&&R(e,"childless",n[2].length==0),(!c||w[0]&33024)&&R(e,"empty",n[8]),(!c||w[0]&32769)&&R(e,"focus",n[0]),(!c||w[0]&49152)&&R(e,"childFocus",n[14]),(!c||w[0]&163840)&&R(e,"activeMouse",n[17]),(!c||w[0]&49153)&&R(e,"highlight",n[14]||n[0])},i(v){if(!c){C(l);for(let w=0;w<p.length;w+=1)C(r[w]);ke(()=>{c&&(f&&f.end(1),a=Ge(e,ci,{skip:n[4]||bt}),a.start())}),c=!0}},o(v){T(l);for(let w=0;w<r.length;w+=1)T(r[w]);a&&a.invalidate(),f=Qe(e,di,{skip:n[4]||bt}),c=!1},d(v){v&&D(e),d[t].d();for(let w=0;w<r.length;w+=1)r[w].d();v&&f&&f.end()}}}function It(n){n.preventDefault()}function mo(n,e,t){let l,o,i,r;me(n,ve,B=>t(51,o=B)),me(n,oe,B=>t(52,i=B)),me(n,ot,B=>t(17,r=B));const u=vt();let{root:s=!1}=e,{parentIsEmpty:a=!1}=e,{content:f=""}=e,{children:c}=e,{index:h}=e,{level:d}=e,{focus:m=!1}=e,{parentPath:p=[]}=e,{empty:g=!1}=e,{crossed:v=!1}=e,{placeholder:w=d==1&&h==0?"type here":""}=e,{addSibling:_=()=>!1}=e,{deleteSelf:k=()=>{}}=e,{focusSibling:y=()=>{}}=e,{focusSiblingStrict:S=()=>!1}=e,{focusParent:A=()=>{}}=e,{dispatchSelfFocus:I=()=>{}}=e,z=Xt("invert")(),J=Xt("columnCount")(),ie,H,re=!1,Ie=-1;function Pe(B,P){P?(t(14,re=!0),Ie=B):B==Ie&&(t(14,re=!1),Ie=-1)}let Me=!1;function O(){m?(I(h,!0),d>=1&&(i[o].history.addFocus([...l]),u("saveFocus",l),ie&&ie.focus())):(I(h,!1),Me=!1)}qe(O);function ee(){m&&(I(h,!0),i[o].history.addFocus([...l]))}function be(){m||Re()}function Be(){m&&t(0,m=!1)}let De=Rt({"commandControl shift":{x:{handle:()=>jl()}},commandControl:{Backspace:{handle:()=>{Te(),k(h)}}},alt:{Enter:{handle:()=>{Te(),S(h,-1)||_(h,0)&&y(h,0)}}},shift:{Enter:{handle:()=>{Te(),yt(0,0)&&Oe(0,0)}},Tab:{handle:()=>{Te(),y(h,-1)}}},none:{Enter:{handle:()=>{Te(),S(h,1)||_(h,1)&&y(h,1)}},Backspace:{handle:()=>{Te(),k(h)},require:()=>f.length==0&&c.length==0},ArrowUp:{handle:()=>{Te(),Kt(-1)||(d==1?A():Re())}},ArrowDown:{handle:()=>{Te(),Kt(1)||Re()}},Tab:{handle:()=>{Te(),y(h,1)}},ArrowLeft:{handle:()=>{A()}},ArrowRight:{handle:()=>{Te(),c.length>0?Oe(0,0):Re()}}}});function _e(B){Me||i[o].history.addPending("edit",[...l],{lastContent:f,getNextContent(){return f},createEditBreak(){Me=!1}}),Me=!0,Ve()}function jl(){t(3,v=!v),i[o].history.add("cross",[...l],{crossed:v})}function yt(B,P){let te=B+P;if(d<J){let pe=[...c];pe.splice(te,0,Ye(te,d+1,!0));for(let et=te;et<pe.length;et++)pe[et].index=et;return i[o].history.add("add",[...l,te]),t(2,c=[...pe]),!0}else return Re(),!1}async function Nl(B){if(c.length>1||d>=1){if(g&&c.length==1){k(h);return}let P=[...c];i[o].history.add("deleteBox",[...l,B],{box:P[B]}),P[B].focus=!1,t(2,c=[...P]),await Ze(),P.splice(B,1);for(let te=0;te<P.length;te++)P[te].index=te;return t(2,c=[...P]),c[B-1]?Oe(B-1,0):c.length==0?Re():B==0&&Oe(0,0),!0}else return Oe(0,0),!1}function Oe(B,P){let te=B+P;if(te<0){Re();return}if(te>=c.length)if(c[c.length-1].children.length>0){let pe=c[c.length-1].children[0];pe.focus=!0}else t(2,c[B].focus=!0,c);else c[te].empty&&P!=0?Oe(te,P):t(2,c[te].focus=!0,c);t(2,c)}function Pt(B,P){let te=B+P;return te<0||te>=c.length?!1:c[te].empty&&P!=0?Pt(te,P):(t(2,c[te].focus=!0,c),t(2,c),!0)}function Ut(B){if(B.length==0)return null;let P=B[B.length-1];if(P==0){let te=B.slice(0,B.length-1);for(;;){if(te=Ut(te),te==null)return null;let pe=fe(i[o],te);if(pe.children.length>0)return[...te,pe.children.length-1]}}return[...B.slice(0,B.length-1),P-1]}function Wt(B){if(B.length==0)return null;let P=B[B.length-1],te=fe(i[o],B.slice(0,B.length-1));if(P==te.children.length-1){let pe=B.slice(0,B.length-1);for(;;){if(pe=Wt(pe),pe==null)return null;if(fe(i[o],pe).children.length>0)return[...pe,0]}}return[...B.slice(0,B.length-1),P+1]}function Kt(B){let P=[...l];for(;;){if(B==-1?P=Ut(P):B==1&&(P=Wt(P)),P==null)return!1;let te=fe(i[o],P);if(te==null)return!1;if(!te.empty)return te.focus=!0,!0}}function Re(){g?A():t(0,m=!0)}function Te(){t(0,m=!1)}let Lt,St;const Ol=()=>{_(h,0)&&y(h,0)};function Rl(B){f=B,t(1,f)}function Zl(B){U[B?"unshift":"push"](()=>{ie=B,t(13,ie)})}const Hl=()=>{_(h,1)&&y(h,1)},zl=()=>{yt(0,0),Oe(0,0)};function Vl(B,P){n.$$.not_equal(P.content,B)&&(P.content=B,t(2,c))}function El(B,P){n.$$.not_equal(P.children,B)&&(P.children=B,t(2,c))}function ql(B,P){n.$$.not_equal(P.index,B)&&(P.index=B,t(2,c))}function Pl(B,P){n.$$.not_equal(P.level,B)&&(P.level=B,t(2,c))}function Ul(B,P){n.$$.not_equal(P.focus,B)&&(P.focus=B,t(2,c))}function Wl(B,P){n.$$.not_equal(P.empty,B)&&(P.empty=B,t(2,c))}function Kl(B,P){n.$$.not_equal(P.placeholder,B)&&(P.placeholder=B,t(2,c))}function Jl(B,P){n.$$.not_equal(P.crossed,B)&&(P.crossed=B,t(2,c))}function Xl(B){je.call(this,n,B)}return n.$$set=B=>{"root"in B&&t(4,s=B.root),"parentIsEmpty"in B&&t(5,a=B.parentIsEmpty),"content"in B&&t(1,f=B.content),"children"in B&&t(2,c=B.children),"index"in B&&t(6,h=B.index),"level"in B&&t(7,d=B.level),"focus"in B&&t(0,m=B.focus),"parentPath"in B&&t(30,p=B.parentPath),"empty"in B&&t(8,g=B.empty),"crossed"in B&&t(3,v=B.crossed),"placeholder"in B&&t(9,w=B.placeholder),"addSibling"in B&&t(10,_=B.addSibling),"deleteSelf"in B&&t(31,k=B.deleteSelf),"focusSibling"in B&&t(11,y=B.focusSibling),"focusSiblingStrict"in B&&t(32,S=B.focusSiblingStrict),"focusParent"in B&&t(33,A=B.focusParent),"dispatchSelfFocus"in B&&t(34,I=B.dispatchSelfFocus)},n.$$.update=()=>{n.$$.dirty[0]&1073741904&&t(12,l=s?[]:[...p,h]),n.$$.dirty[0]&1&&O(),n.$$.dirty[0]&4096&&ee(),n.$$.dirty[0]&128&&(d%2==0&&!z||d%2==1&&z?t(15,Lt="accent-secondary"):t(15,Lt="accent")),n.$$.dirty[0]&128&&(d%2==0&&!z||d%2==1&&z?t(16,St="accent"):t(16,St="accent-secondary"))},[m,f,c,v,s,a,h,d,g,w,_,y,l,ie,re,Lt,St,r,J,H,Pe,be,Be,De,_e,yt,Nl,Oe,Pt,Re,p,k,S,A,I,Ol,Rl,Zl,Hl,zl,Vl,El,ql,Pl,Ul,Wl,Kl,Jl,Xl]}class Ml extends ne{constructor(e){super(),le(this,e,mo,po,x,{root:4,parentIsEmpty:5,content:1,children:2,index:6,level:7,focus:0,parentPath:30,empty:8,crossed:3,placeholder:9,addSibling:10,deleteSelf:31,focusSibling:11,focusSiblingStrict:32,focusParent:33,dispatchSelfFocus:34},null,[-1,-1,-1])}}function go(n){let e,t,l,o,i,r,u;return r=new ue({props:{icon:"add"}}),r.$on("click",function(){xe(n[1])&&n[1].apply(this,arguments)}),{c(){e=F("div"),t=F("div"),l=ae(n[0]),o=Z(),i=F("div"),V(r.$$.fragment),b(t,"class","text svelte-hup1mp"),b(i,"class","add svelte-hup1mp"),b(e,"class","top svelte-hup1mp")},m(s,a){j(s,e,a),L(e,t),L(t,l),L(e,o),L(e,i),E(r,i,null),u=!0},p(s,[a]){n=s,(!u||a&1)&&de(l,n[0])},i(s){u||(C(r.$$.fragment,s),u=!0)},o(s){T(r.$$.fragment,s),u=!1},d(s){s&&D(e),q(r)}}}function _o(n,e,t){let{column:l}=e,{addEmpty:o}=e;return n.$$set=i=>{"column"in i&&t(0,l=i.column),"addEmpty"in i&&t(1,o=i.addEmpty)},[l,o]}class bo extends ne{constructor(e){super(),le(this,e,_o,go,x,{column:0,addEmpty:1})}}function mn(n,e,t){const l=n.slice();return l[10]=e[t],l[12]=t,l}function gn(n,e,t){const l=n.slice();return l[13]=e[t],l[12]=t,l}function _n(n){let e,t,l,o,i;function r(){return n[8](n[12])}return t=new bo({props:{column:n[13],addEmpty:r}}),t.$on("focusFlow",n[9]),{c(){e=F("div"),V(t.$$.fragment),l=Z(),b(e,"class",o=se(`header palette-${!!(n[12]%2)==n[0].invert?"accent":"accent-secondary"}`)+" svelte-t7zfp9")},m(u,s){j(u,e,s),E(t,e,null),L(e,l),i=!0},p(u,s){n=u;const a={};s&1&&(a.column=n[13]),t.$set(a),(!i||s&1&&o!==(o=se(`header palette-${!!(n[12]%2)==n[0].invert?"accent":"accent-secondary"}`)+" svelte-t7zfp9"))&&b(e,"class",o)},i(u){i||(C(t.$$.fragment,u),i=!0)},o(u){T(t.$$.fragment,u),i=!1},d(u){u&&D(e),q(t)}}}function bn(n){let e,t;return{c(){e=F("div"),b(e,"class",t=se(`column palette-${!!(n[12]%2)==n[0].invert?"plain":"plain-secondary"}`)+" svelte-t7zfp9")},m(l,o){j(l,e,o)},p(l,o){o&1&&t!==(t=se(`column palette-${!!(l[12]%2)==l[0].invert?"plain":"plain-secondary"}`)+" svelte-t7zfp9")&&b(e,"class",t)},d(l){l&&D(e)}}}function vo(n){let e,t,l,o,i,r,u,s,a,f,c,h,d,m,p;function g(N){n[3](N)}function v(N){n[4](N)}function w(N){n[5](N)}function _(N){n[6](N)}function k(N){n[7](N)}let y={root:!0};n[0].content!==void 0&&(y.content=n[0].content),n[0].children!==void 0&&(y.children=n[0].children),n[0].index!==void 0&&(y.index=n[0].index),n[0].level!==void 0&&(y.level=n[0].level),n[0].focus!==void 0&&(y.focus=n[0].focus),o=new Ml({props:y}),U.push(()=>X(o,"content",g)),U.push(()=>X(o,"children",v)),U.push(()=>X(o,"index",w)),U.push(()=>X(o,"level",_)),U.push(()=>X(o,"focus",k)),o.$on("saveFocus",n[1]);let S=n[0].columns,A=[];for(let N=0;N<S.length;N+=1)A[N]=_n(gn(n,S,N));const I=N=>T(A[N],1,1,()=>{A[N]=null});let M=n[0].columns,z=[];for(let N=0;N<M.length;N+=1)z[N]=bn(mn(n,M,N));return{c(){e=F("div"),t=F("div"),l=F("div"),V(o.$$.fragment),f=Z(),c=F("div");for(let N=0;N<A.length;N+=1)A[N].c();h=Z(),d=F("div");for(let N=0;N<z.length;N+=1)z[N].c();b(l,"class","content svelte-t7zfp9"),b(c,"class","headers svelte-t7zfp9"),b(d,"class","columns svelte-t7zfp9"),b(t,"class","viewer svelte-t7zfp9"),b(e,"class","top svelte-t7zfp9"),b(e,"style",m=`--column-count: ${n[0].columns.length};`),R(e,"invert",n[0].invert)},m(N,J){j(N,e,J),L(e,t),L(t,l),E(o,l,null),L(t,f),L(t,c);for(let ie=0;ie<A.length;ie+=1)A[ie]&&A[ie].m(c,null);L(t,h),L(t,d);for(let ie=0;ie<z.length;ie+=1)z[ie]&&z[ie].m(d,null);p=!0},p(N,[J]){const ie={};if(!i&&J&1&&(i=!0,ie.content=N[0].content,G(()=>i=!1)),!r&&J&1&&(r=!0,ie.children=N[0].children,G(()=>r=!1)),!u&&J&1&&(u=!0,ie.index=N[0].index,G(()=>u=!1)),!s&&J&1&&(s=!0,ie.level=N[0].level,G(()=>s=!1)),!a&&J&1&&(a=!0,ie.focus=N[0].focus,G(()=>a=!1)),o.$set(ie),J&5){S=N[0].columns;let H;for(H=0;H<S.length;H+=1){const re=gn(N,S,H);A[H]?(A[H].p(re,J),C(A[H],1)):(A[H]=_n(re),A[H].c(),C(A[H],1),A[H].m(c,null))}for(Q(),H=S.length;H<A.length;H+=1)I(H);Y()}if(J&1){M=N[0].columns;let H;for(H=0;H<M.length;H+=1){const re=mn(N,M,H);z[H]?z[H].p(re,J):(z[H]=bn(re),z[H].c(),z[H].m(d,null))}for(;H<z.length;H+=1)z[H].d(1);z.length=M.length}(!p||J&1&&m!==(m=`--column-count: ${N[0].columns.length};`))&&b(e,"style",m),(!p||J&1)&&R(e,"invert",N[0].invert)},i(N){if(!p){C(o.$$.fragment,N);for(let J=0;J<S.length;J+=1)C(A[J]);p=!0}},o(N){T(o.$$.fragment,N),A=A.filter(Boolean);for(let J=0;J<A.length;J+=1)T(A[J]);p=!1},d(N){N&&D(e),q(o),we(A,N),we(z,N)}}}function wo(n,e,t){let{root:l}=e;Gt("invert",()=>l.invert),Gt("columnCount",()=>l.columns.length);function o(d){t(0,l.lastFocus=d.detail,l),t(0,l)}function i(d){let m=l,p=0,g=[...m.children],v={content:"",children:[],index:0,level:1,focus:!1,empty:!0};if(d==0)v.focus=!0,v.empty=!1;else{let w=v;for(let _=0;_<d;_++)w.children=[{content:"",children:[],index:0,level:_+2,focus:_==d-1,empty:_!=d-1}],w=w.children[0]}l.history.add("addBox",[0],{box:Ll(v)}),g.splice(0,0,v);for(let w=p;w<g.length;w++)g[w].index=w;m.children=[...g],t(0,l=m)}function r(d){n.$$.not_equal(l.content,d)&&(l.content=d,t(0,l))}function u(d){n.$$.not_equal(l.children,d)&&(l.children=d,t(0,l))}function s(d){n.$$.not_equal(l.index,d)&&(l.index=d,t(0,l))}function a(d){n.$$.not_equal(l.level,d)&&(l.level=d,t(0,l))}function f(d){n.$$.not_equal(l.focus,d)&&(l.focus=d,t(0,l))}const c=d=>i(d);function h(d){je.call(this,n,d)}return n.$$set=d=>{"root"in d&&t(0,l=d.root)},[l,o,i,r,u,s,a,f,c,h]}class ko extends ne{constructor(e){super(),le(this,e,wo,vo,x,{root:0})}}function yo(n){let e,t,l,o,i,r,u,s,a,f;function c(d){n[11](d)}let h={nowrap:!0,placeholder:"type name here"};return n[1]!==void 0&&(h.value=n[1]),o=new Vt({props:h}),U.push(()=>X(o,"value",c)),n[12](o),o.$on("blur",n[6]),o.$on("focus",n[7]),o.$on("keydown",n[8]),o.$on("beforeinput",n[9]),s=new ue({props:{icon:"trash",tooltip:"delete flow"}}),s.$on("click",function(){xe(n[3])&&n[3].apply(this,arguments)}),{c(){e=F("div"),t=F("div"),l=F("div"),V(o.$$.fragment),r=Z(),u=F("div"),V(s.$$.fragment),b(l,"class","text svelte-13op54x"),R(l,"focus",n[0]),b(u,"class","button svelte-13op54x"),b(t,"class",a=se(`content palette-${n[5]}`)+" svelte-13op54x"),b(e,"class",se("top")+" svelte-13op54x"),R(e,"invert",n[2])},m(d,m){j(d,e,m),L(e,t),L(t,l),E(o,l,null),L(t,r),L(t,u),E(s,u,null),f=!0},p(d,[m]){n=d;const p={};!i&&m&2&&(i=!0,p.value=n[1],G(()=>i=!1)),o.$set(p),(!f||m&1)&&R(l,"focus",n[0]),(!f||m&32&&a!==(a=se(`content palette-${n[5]}`)+" svelte-13op54x"))&&b(t,"class",a),(!f||m&4)&&R(e,"invert",n[2])},i(d){f||(C(o.$$.fragment,d),C(s.$$.fragment,d),f=!0)},o(d){T(o.$$.fragment,d),T(s.$$.fragment,d),f=!1},d(d){d&&D(e),n[12](null),q(o),q(s)}}}function Lo(n,e,t){let l,o,i;me(n,ve,A=>t(15,o=A)),me(n,oe,A=>t(16,i=A));const r=vt();let{content:u}=e,{children:s}=e,{focus:a}=e,{invert:f}=e,{deleteSelf:c=()=>{}}=e,h;function d(){a&&t(0,a=!1)}function m(){a||t(0,a=!0)}function p(){let A=s.find(I=>!I.empty);A&&(t(0,a=!1),A.focus=!0)}const g=Rt({none:{Enter:{handle:p},ArrowDown:{handle:p},ArrowRight:{handle:p}}});let v=!1;function w(){a?(i[o].history.addFocus([...l]),r("saveFocus",l),h&&h.focus()):v=!1}qe(w);function _(A){v||i[o].history.addPending("edit",[...l],{lastContent:u,getNextContent(){return u},createEditBreak(){v=!1}}),v=!0,Ve()}let k="plain";function y(A){u=A,t(1,u)}function S(A){U[A?"unshift":"push"](()=>{h=A,t(4,h)})}return n.$$set=A=>{"content"in A&&t(1,u=A.content),"children"in A&&t(10,s=A.children),"focus"in A&&t(0,a=A.focus),"invert"in A&&t(2,f=A.invert),"deleteSelf"in A&&t(3,c=A.deleteSelf)},n.$$.update=()=>{n.$$.dirty&1&&w(),n.$$.dirty&4&&(f?t(5,k="accent-secondary"):t(5,k="accent"))},l=[],[a,u,f,c,h,k,d,m,g,_,s,y,S]}class So extends ne{constructor(e){super(),le(this,e,Lo,yo,x,{content:1,children:10,focus:0,invert:2,deleteSelf:3})}}function vn(n,e,t){const l=n.slice();return l[13]=e[t],l}function wn(n,e,t){const l=n.slice();return l[13]=e[t],l}function kn(n){let e,t;const l=[n[13]];let o={};for(let i=0;i<l.length;i+=1)o=Ee(o,l[i]);return e=new ue({props:o}),{c(){V(e.$$.fragment)},m(i,r){E(e,i,r),t=!0},p(i,r){const u=r&8?Dt(l,[jt(i[13])]):{};e.$set(u)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function yn(n){let e,t;return e=new ue({props:{icon:n[1]?"delete":"ellipses"}}),e.$on("click",n[7]),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p(l,o){const i={};o&2&&(i.icon=l[1]?"delete":"ellipses"),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Ln(n){let e,t,l,o=n[2],i=[];for(let u=0;u<o.length;u+=1)i[u]=Sn(vn(n,o,u));const r=u=>T(i[u],1,1,()=>{i[u]=null});return{c(){e=F("div");for(let u=0;u<i.length;u+=1)i[u].c();b(e,"class","hidden svelte-1w0szyh")},m(u,s){j(u,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);l=!0},p(u,s){if(s&4){o=u[2];let a;for(a=0;a<o.length;a+=1){const f=vn(u,o,a);i[a]?(i[a].p(f,s),C(i[a],1)):(i[a]=Sn(f),i[a].c(),C(i[a],1),i[a].m(e,null))}for(Q(),a=o.length;a<i.length;a+=1)r(a);Y()}},i(u){if(!l){for(let s=0;s<o.length;s+=1)C(i[s]);ke(()=>{l&&(t||(t=ye(e,mt,{},!0)),t.run(1))}),l=!0}},o(u){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)T(i[s]);t||(t=ye(e,mt,{},!1)),t.run(0),l=!1},d(u){u&&D(e),we(i,u),u&&t&&t.end()}}}function Sn(n){let e,t;const l=[n[13]];let o={};for(let i=0;i<l.length;i+=1)o=Ee(o,l[i]);return e=new ue({props:o}),{c(){V(e.$$.fragment)},m(i,r){E(e,i,r),t=!0},p(i,r){const u=r&4?Dt(l,[jt(i[13])]):{};e.$set(u)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function Co(n){let e,t,l,o,i,r,u,s=n[3],a=[];for(let d=0;d<s.length;d+=1)a[d]=kn(wn(n,s,d));const f=d=>T(a[d],1,1,()=>{a[d]=null});let c=n[2].length>0&&yn(n),h=n[1]&&n[2].length>0&&Ln(n);return{c(){e=F("div"),t=F("div"),l=F("div");for(let d=0;d<a.length;d+=1)a[d].c();o=Z(),i=F("div"),c&&c.c(),r=Z(),h&&h.c(),b(l,"class","showButtons svelte-1w0szyh"),b(i,"class","hideButtons svelte-1w0szyh"),b(t,"class","buttons svelte-1w0szyh"),b(e,"class","top svelte-1w0szyh"),R(e,"allButtonsHidden",n[3].length==0)},m(d,m){j(d,e,m),L(e,t),L(t,l);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(l,null);L(t,o),L(t,i),c&&c.m(i,null),L(i,r),h&&h.m(i,null),n[8](e),u=!0},p(d,[m]){if(m&8){s=d[3];let p;for(p=0;p<s.length;p+=1){const g=wn(d,s,p);a[p]?(a[p].p(g,m),C(a[p],1)):(a[p]=kn(g),a[p].c(),C(a[p],1),a[p].m(l,null))}for(Q(),p=s.length;p<a.length;p+=1)f(p);Y()}d[2].length>0?c?(c.p(d,m),m&4&&C(c,1)):(c=yn(d),c.c(),C(c,1),c.m(i,r)):c&&(Q(),T(c,1,1,()=>{c=null}),Y()),d[1]&&d[2].length>0?h?(h.p(d,m),m&6&&C(h,1)):(h=Ln(d),h.c(),C(h,1),h.m(i,null)):h&&(Q(),T(h,1,1,()=>{h=null}),Y()),(!u||m&8)&&R(e,"allButtonsHidden",d[3].length==0)},i(d){if(!u){for(let m=0;m<s.length;m+=1)C(a[m]);C(c),C(h),u=!0}},o(d){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)T(a[m]);T(c),T(h),u=!1},d(d){d&&D(e),we(a,d),c&&c.d(),h&&h.d(),n[8](null)}}}function Mo(n,e,t){let l,o,{buttons:i}=e,{showCount:r=i.length}=e,{resize:u=!1}=e,s,a=K.data.buttonSize.value,f=K.data.padding.value;u&&(ce(K.subscribe(["padding"],g=>{f=K.data[g].value,h()})),ce(K.subscribe(["buttonSize"],g=>{a=K.data[g].value,h()})));let c;qe(()=>{u&&(c=new ResizeObserver(h),c.observe(s))}),ce(()=>{u&&c.unobserve(s)});function h(){if(s==null)return;let g=s.clientWidth;t(4,r=Math.max(0,Math.floor((g+f)/(a+f*3))-1)),r==i.length-1&&t(4,r=i.length)}let d=!1;const m=()=>t(1,d=!d);function p(g){U[g?"unshift":"push"](()=>{s=g,t(0,s)})}return n.$$set=g=>{"buttons"in g&&t(5,i=g.buttons),"showCount"in g&&t(4,r=g.showCount),"resize"in g&&t(6,u=g.resize)},n.$$.update=()=>{n.$$.dirty&48&&t(3,l=i.slice(0,r)),n.$$.dirty&48&&t(2,o=i.slice(r))},[s,d,o,l,r,i,u,m,p]}class Fl extends ne{constructor(e){super(),le(this,e,Mo,Co,x,{buttons:5,showCount:4,resize:6})}}function Fo(n){let e,t,l,o,i;return t=new Fl({props:{buttons:[...n[0],...n[1]],showCount:n[0].length}}),{c(){e=F("div"),V(t.$$.fragment),b(e,"class","top svelte-aroqqm")},m(r,u){j(r,e,u),E(t,e,null),l=!0,o||(i=W(e,"mousedown",To),o=!0)},p(r,[u]){const s={};u&3&&(s.buttons=[...r[0],...r[1]]),u&1&&(s.showCount=r[0].length),t.$set(s)},i(r){l||(C(t.$$.fragment,r),l=!0)},o(r){T(t.$$.fragment,r),l=!1},d(r){r&&D(e),q(t),o=!1,i()}}}let nt="no cell selected";function To(n){n.preventDefault()}function Ao(n,e,t){let l,o;me(n,ve,_=>t(6,l=_)),me(n,oe,_=>t(7,o=_));let{flow:i}=e,r=!1;async function u(){if(await Ze(),i.lastFocus&&i.lastFocus.length>0){let _=fe(i,i.lastFocus);t(3,r=(_==null?void 0:_.focus)??!1)}else t(3,r=!1)}gl(function(){u()});async function s(){if(!r)return;let _=fe(i,i.lastFocus,1),k=fe(i,i.lastFocus);if(_==null||k==null)return;let y=[..._.children];if(y.length>1||_.level>=1){i.history.add("deleteBox",i.lastFocus,{box:y[k.index]}),y[k.index].focus=!1,_.children=[...y],t(2,i),await Ze(),y.splice(k.index,1);for(let S=k.index;S<y.length;S++)y[S].index=S;y.length<=0?_.focus=!0:k.index>=y.length?y[y.length-1].focus=!0:y[k.index].focus=!0,_.children=[...y],t(2,i)}}function a(){if(!r)return;let _=fe(i,i.lastFocus);if(_==null)return;let k=[..._.children];if(_.level<i.columns.length){k.splice(0,0,Ye(0,_.level+1,!1));for(let y=0;y<k.length;y++)k[y].index=y;i.history.add("add",[...i.lastFocus,0]),_.children=[...k],t(2,i)}}function f(_){if(!r)return;let k=fe(i,i.lastFocus,1),y=fe(i,i.lastFocus);if(k==null||y==null)return;let S=[...k.children];S.splice(y.index+_,0,Ye(y.index+_,y.level,!1));for(let I=y.index;I<S.length;I++)S[I].index=I;let A=[...i.lastFocus];_==0?(A[A.length-1]-=0,t(2,i.lastFocus[i.lastFocus.length-1]+=1,i)):A[A.length-1]+=1,i.history.add("add",A),k.children=[...S],t(2,i)}function c(){if(!r)return;let _=fe(i,i.lastFocus);_!=null&&(_.crossed=!_.crossed,o[l].history.add("cross",[...i.lastFocus],{crossed:_.crossed}),t(2,i))}let h=d();function d(){return{showUndoRedoButtons:[{icon:"undo",disabled:i.history.index==-1,onclick:()=>i.history.undo(),tooltip:"undo",shortcut:["commandControl","z"],disabledReason:"nothing to undo"},{disabled:i.history.index==i.history.data.length-1,icon:"redo",onclick:()=>i.history.redo(),tooltip:"redo",shortcut:["commandControl","shift","z"],disabledReason:"nothing to redo"}],showBoxCreationButtons:[{icon:"addRight",onclick:a,disabled:!r,tooltip:"add response",shortcut:["shift","return"],disabledReason:nt},{icon:"addUp",onclick:()=>f(0),disabled:!r,tooltip:"add argument above",shortcut:["option","return"],disabledReason:nt},{icon:"addDown",onclick:()=>f(1),disabled:!r,tooltip:"add argument below",shortcut:["return"],disabledReason:nt},{icon:"trash",onclick:s,disabled:!r,tooltip:"delete selected",shortcut:["commandControl","delete"],disabledReason:nt}],showBoxFormatButtons:[{icon:"cross",onclick:c,disabled:!r,tooltip:"toggle crossed out",shortcut:["commandControl","x"],disabledReason:nt}]}}function m(){t(4,h=d())}let p={};for(let _ of Object.keys(h))p[_]=K.data[_].value;ce(K.subscribe(Object.keys(h),_=>{t(5,p[_]=K.data[_].value,p),t(5,p)}));let g,v;function w(){t(0,g=[]),t(1,v=[]);for(let _ of Object.keys(h))p[_]?t(0,g=[...g,...h[_]]):t(1,v=[...v,...h[_]])}return n.$$set=_=>{"flow"in _&&t(2,i=_.flow)},n.$$.update=()=>{n.$$.dirty&12&&m(),n.$$.dirty&48&&w()},[g,v,i,r,h,p]}class Io extends ne{constructor(e){super(),le(this,e,Ao,Fo,x,{flow:2})}}function Tl(n){return JSON.stringify(n,(e,t)=>{if(e!=="history")return t})}function Bo(n){const e=Tl(n);Al(e,"flow.json")}function Al(n,e){const t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8, "+encodeURIComponent(n)),t.setAttribute("download",e),document.body.appendChild(t),t.click(),document.body.removeChild(t)}function Il(n){return JSON.parse(n).map(l=>(l.history=new Ht(l),l))}function Do(n){let e,t,l,o,i,r,u,s,a,f,c,h,d;return l=new ue({props:{icon:"download",text:"download as JSON",tooltip:"saves JSON file on your computer",tooltipLayout:"top",disabled:n[1].length==0,disabledReason:"nothing to download",palette:"accent"}}),l.$on("click",n[3]),f=new ue({props:{icon:"upload",text:"choose file from computer",tooltip:"upload a JSON file from your computer",tooltipLayout:"top",palette:"accent"}}),f.$on("click",n[2]),{c(){e=F("div"),t=F("section"),V(l.$$.fragment),o=Z(),i=F("ul"),i.innerHTML=`<li>Can reopen file in this editor</li> 
			<li>More data is saved (last focused cell etc.)</li>`,r=Z(),u=F("ul"),u.innerHTML="<li>Anyone can view it</li>",s=Z(),a=F("section"),V(f.$$.fragment),c=Z(),h=F("p"),h.textContent="Or drag and drop a JSON file anywhere in this window",b(i,"class","svelte-tgfy9h"),b(u,"class","svelte-tgfy9h"),b(t,"class","download svelte-tgfy9h"),b(h,"class","svelte-tgfy9h"),b(a,"class","upload svelte-tgfy9h"),b(e,"class","top svelte-tgfy9h")},m(m,p){j(m,e,p),L(e,t),E(l,t,null),L(t,o),L(t,i),L(t,r),L(t,u),L(e,s),L(e,a),E(f,a,null),L(a,c),L(a,h),d=!0},p(m,[p]){const g={};p&2&&(g.disabled=m[1].length==0),l.$set(g)},i(m){d||(C(l.$$.fragment,m),C(f.$$.fragment,m),d=!0)},o(m){T(l.$$.fragment,m),T(f.$$.fragment,m),d=!1},d(m){m&&D(e),q(l),q(f)}}}function jo(n,e,t){let l;me(n,oe,u=>t(1,l=u));let{closePopup:o}=e;function i(){document.getElementById("uploadId").click(),o()}const r=()=>{Bo(l),o()};return n.$$set=u=>{"closePopup"in u&&t(0,o=u.closePopup)},[o,l,i,r]}class No extends ne{constructor(e){super(),le(this,e,jo,Do,x,{closePopup:0})}}function Oo(n){let e,t,l,o,i;return{c(){e=F("div"),t=F("p"),l=F("strong"),l.textContent="Error:",o=Z(),i=ae(n[0]),b(t,"class","svelte-1g7texn"),b(e,"class","top svelte-1g7texn")},m(r,u){j(r,e,u),L(e,t),L(t,l),L(t,o),L(t,i)},p(r,[u]){u&1&&de(i,r[0])},i:$,o:$,d(r){r&&D(e)}}}function Ro(n,e,t){const l=()=>{};let{message:o=""}=e;return n.$$set=i=>{"message"in i&&t(0,o=i.message)},[o,l]}let Cn=class extends ne{constructor(e){super(),le(this,e,Ro,Oo,x,{closePopup:1,message:0})}get closePopup(){return this.$$.ctx[1]}};function Zo(n){let e,t,l,o,i,r,u;return{c(){e=F("label"),t=F("input"),l=Z(),o=F("div"),o.innerHTML='<div class="switch svelte-8bq301"></div>',b(t,"type","checkbox"),b(t,"class","svelte-8bq301"),b(o,"class","background svelte-8bq301"),b(e,"class",i=se(`palette-${n[1]}`)+" svelte-8bq301")},m(s,a){j(s,e,a),L(e,t),t.checked=n[0],L(e,l),L(e,o),r||(u=W(t,"change",n[3]),r=!0)},p(s,[a]){a&1&&(t.checked=s[0]),a&2&&i!==(i=se(`palette-${s[1]}`)+" svelte-8bq301")&&b(e,"class",i)},i:$,o:$,d(s){s&&D(e),r=!1,u()}}}function Ho(n,e,t){let{value:l=!0}=e,{auto:o=!0}=e,i;function r(){l=this.checked,t(0,l)}return n.$$set=u=>{"value"in u&&t(0,l=u.value),"auto"in u&&t(2,o=u.auto)},n.$$.update=()=>{n.$$.dirty&5&&(l?l==o?t(1,i="accent-secondary"):t(1,i="accent"):t(1,i="plain"))},[l,i,o,r]}class zo extends ne{constructor(e){super(),le(this,e,Ho,Zo,x,{value:0,auto:2})}}function Mn(n,e,t){const l=n.slice();return l[12]=e[t],l[14]=t,l}function Fn(n){let e;return{c(){e=F("p"),e.textContent="default",b(e,"class","optionInfo svelte-1pw4c7y")},m(t,l){j(t,e,l)},d(t){t&&D(e)}}}function Tn(n){let e,t,l,o,i,r,u=n[12]+"",s,a,f,c,h,d=n[14]==n[3]&&Fn();return f=bl(n[7][0]),{c(){e=F("label"),t=F("input"),o=Z(),i=F("li"),r=F("p"),s=ae(u),a=Z(),d&&d.c(),b(t,"type","radio"),b(t,"name",n[2]),t.checked=l=n[14]==n[0],t.__value=n[14],t.value=t.__value,b(t,"class","svelte-1pw4c7y"),b(r,"class","svelte-1pw4c7y"),b(i,"class","svelte-1pw4c7y"),b(e,"class","svelte-1pw4c7y"),f.p(t)},m(m,p){j(m,e,p),L(e,t),t.checked=t.__value===n[0],L(e,o),L(e,i),L(i,r),L(r,s),L(i,a),d&&d.m(i,null),c||(h=W(t,"change",n[6]),c=!0)},p(m,p){p&4&&b(t,"name",m[2]),p&1&&l!==(l=m[14]==m[0])&&(t.checked=l),p&1&&(t.checked=t.__value===m[0]),p&2&&u!==(u=m[12]+"")&&de(s,u),m[14]==m[3]?d||(d=Fn(),d.c(),d.m(i,null)):d&&(d.d(1),d=null)},d(m){m&&D(e),d&&d.d(),f.r(),c=!1,h()}}}function An(n){let e,t,l,o,i=!1,r,u,s,a,f,c,h,d,m;function p(w){n[9](w)}let g={placeholder:"custom",nowrap:!0};n[1].customOptionValue!==void 0&&(g.value=n[1].customOptionValue),s=new Vt({props:g}),U.push(()=>X(s,"value",p)),s.$on("input",n[10]),s.$on("focus",n[11]);let v=n[1].customOptionValue!=""&&In();return h=bl(n[7][0]),{c(){e=F("label"),t=F("input"),r=Z(),u=F("li"),V(s.$$.fragment),f=Z(),v&&v.c(),b(t,"type","radio"),b(t,"name",n[2]),t.checked=l=n[0]==n[1].options.length,t.__value=o=n[1].options.length,t.value=t.__value,b(t,"class","svelte-1pw4c7y"),b(u,"class","svelte-1pw4c7y"),b(e,"class","svelte-1pw4c7y"),h.p(t)},m(w,_){j(w,e,_),L(e,t),t.checked=t.__value===n[0],L(e,r),L(e,u),E(s,u,null),L(u,f),v&&v.m(u,null),c=!0,d||(m=W(t,"change",n[8]),d=!0)},p(w,_){(!c||_&4)&&b(t,"name",w[2]),(!c||_&3&&l!==(l=w[0]==w[1].options.length))&&(t.checked=l),(!c||_&2&&o!==(o=w[1].options.length))&&(t.__value=o,t.value=t.__value,i=!0),(i||_&1)&&(t.checked=t.__value===w[0]);const k={};!a&&_&2&&(a=!0,k.value=w[1].customOptionValue,G(()=>a=!1)),s.$set(k),w[1].customOptionValue!=""?v||(v=In(),v.c(),v.m(u,null)):v&&(v.d(1),v=null)},i(w){c||(C(s.$$.fragment,w),c=!0)},o(w){T(s.$$.fragment,w),c=!1},d(w){w&&D(e),q(s),v&&v.d(),h.r(),d=!1,m()}}}function In(n){let e;return{c(){e=F("p"),e.textContent="custom",b(e,"class","optionInfo svelte-1pw4c7y")},m(t,l){j(t,e,l)},d(t){t&&D(e)}}}function Vo(n){let e,t,l,o,i,r,u,s,a,f=n[1].options,c=[];for(let d=0;d<f.length;d+=1)c[d]=Tn(Mn(n,f,d));let h=n[1].customOption&&n[1].customOptionValue!=null&&An(n);return{c(){e=F("div"),t=F("div"),l=F("div"),i=Z(),r=F("ul");for(let d=0;d<c.length;d+=1)c[d].c();u=Z(),h&&h.c(),b(l,"class","switch svelte-1pw4c7y"),b(l,"style",o=`--pos:calc(${n[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`),b(t,"class","background svelte-1pw4c7y"),b(r,"class","svelte-1pw4c7y"),b(e,"class",s=se(`top palette-${n[4]}`)+" svelte-1pw4c7y")},m(d,m){j(d,e,m),L(e,t),L(t,l),L(e,i),L(e,r);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(r,null);L(r,u),h&&h.m(r,null),a=!0},p(d,[m]){if((!a||m&1&&o!==(o=`--pos:calc(${d[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`))&&b(l,"style",o),m&15){f=d[1].options;let p;for(p=0;p<f.length;p+=1){const g=Mn(d,f,p);c[p]?c[p].p(g,m):(c[p]=Tn(g),c[p].c(),c[p].m(r,u))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}d[1].customOption&&d[1].customOptionValue!=null?h?(h.p(d,m),m&2&&C(h,1)):(h=An(d),h.c(),C(h,1),h.m(r,null)):h&&(Q(),T(h,1,1,()=>{h=null}),Y()),(!a||m&16&&s!==(s=se(`top palette-${d[4]}`)+" svelte-1pw4c7y"))&&b(e,"class",s)},i(d){a||(C(h),a=!0)},o(d){T(h),a=!1},d(d){d&&D(e),we(c,d),h&&h.d()}}}function Eo(n,e,t){let l,{name:o}=e,{value:i}=e,{auto:r}=e;const u=vt();let{detail:s}=e;const a=[[]];function f(){i=this.__value,t(0,i)}function c(){i=this.__value,t(0,i)}function h(p){n.$$.not_equal(s.customOptionValue,p)&&(s.customOptionValue=p,t(1,s))}const d=()=>u("forceUpdate"),m=()=>t(0,i=s.options.length);return n.$$set=p=>{"name"in p&&t(2,o=p.name),"value"in p&&t(0,i=p.value),"auto"in p&&t(3,r=p.auto),"detail"in p&&t(1,s=p.detail)},n.$$.update=()=>{n.$$.dirty&9&&t(4,l=r==i?"accent-secondary":"accent")},[i,s,o,r,l,u,f,a,c,h,d,m]}class qo extends ne{constructor(e){super(),le(this,e,Eo,Vo,x,{name:2,value:0,auto:3,detail:1})}}function Po(n){let e,t,l,o,i,r,u,s,a,f,c,h,d,m,p,g,v,w;return{c(){e=F("div"),t=F("label"),l=F("div"),i=Z(),r=F("input"),f=Z(),c=F("label"),h=F("input"),b(l,"class","switch svelte-p4xmvl"),b(l,"style",o=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(n[0],n[1].max),n[1].min)-n[1].min)/(n[1].max-n[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${n[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`),b(r,"class","slider svelte-p4xmvl"),b(r,"type","range"),b(r,"min",u=n[1].min),b(r,"max",s=n[1].max),b(r,"step",a=n[1].step),b(t,"class","svelte-p4xmvl"),b(h,"type","number"),b(h,"class","svelte-p4xmvl"),b(c,"class","small svelte-p4xmvl"),b(e,"class",d=se(`top palette-${n[3]}`)+" svelte-p4xmvl"),b(e,"style",m=`--value: ${n[0]}`),b(e,"aria-valuemin",p=n[1].min),b(e,"aria-valuemax",g=n[1].max),b(e,"aria-valuenow",n[0]),b(e,"role","slider"),b(e,"tabindex","0"),R(e,"hue",n[1].hue)},m(_,k){j(_,e,k),L(e,t),L(t,l),L(t,i),L(t,r),Ae(r,n[0]),L(e,f),L(e,c),L(c,h),Ae(h,n[0]),v||(w=[W(r,"change",n[8]),W(r,"input",n[8]),W(h,"input",n[9]),W(e,"mousedown",n[4]),W(e,"mousemove",n[5]),W(e,"mouseup",n[6])],v=!0)},p(_,[k]){k&7&&o!==(o=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(_[0],_[1].max),_[1].min)-_[1].min)/(_[1].max-_[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${_[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`)&&b(l,"style",o),k&2&&u!==(u=_[1].min)&&b(r,"min",u),k&2&&s!==(s=_[1].max)&&b(r,"max",s),k&2&&a!==(a=_[1].step)&&b(r,"step",a),k&1&&Ae(r,_[0]),k&1&&Ft(h.value)!==_[0]&&Ae(h,_[0]),k&8&&d!==(d=se(`top palette-${_[3]}`)+" svelte-p4xmvl")&&b(e,"class",d),k&1&&m!==(m=`--value: ${_[0]}`)&&b(e,"style",m),k&2&&p!==(p=_[1].min)&&b(e,"aria-valuemin",p),k&2&&g!==(g=_[1].max)&&b(e,"aria-valuemax",g),k&1&&b(e,"aria-valuenow",_[0]),k&10&&R(e,"hue",_[1].hue)},i:$,o:$,d(_){_&&D(e),v=!1,Ce(w)}}}function Uo(n,e,t){let l,{value:o}=e,{auto:i}=e,{detail:r}=e,u=!1,s=!1,a=0;function f(p){u=!0,a=p.pageX,t(2,s=!1)}function c(p){u&&Math.abs(a-p.pageX)>3&&t(2,s=!0)}function h(p){u=!1,t(2,s=!1)}function d(){o=Ft(this.value),t(0,o)}function m(){o=Ft(this.value),t(0,o)}return n.$$set=p=>{"value"in p&&t(0,o=p.value),"auto"in p&&t(7,i=p.auto),"detail"in p&&t(1,r=p.detail)},n.$$.update=()=>{n.$$.dirty&129&&t(3,l=i==o?"accent-secondary":"accent")},[o,r,s,l,f,c,h,i,d,m]}class Wo extends ne{constructor(e){super(),le(this,e,Uo,Po,x,{value:0,auto:7,detail:1})}}function Bn(n){return Object.prototype.toString.call(n)==="[object Date]"}function Bt(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const l=e.map((o,i)=>Bt(n[i],o));return o=>l.map(i=>i(o))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Bn(n)&&Bn(e)){n=n.getTime(),e=e.getTime();const i=e-n;return r=>new Date(n+r*i)}const l=Object.keys(e),o={};return l.forEach(i=>{o[i]=Bt(n[i],e[i])}),i=>{const r={};return l.forEach(u=>{r[u]=o[u](i)}),r}}if(t==="number"){const l=e-n;return o=>n+o*l}throw new Error(`Cannot interpolate ${t} values`)}function Dn(n,e={}){const t=Ne(n);let l,o=n;function i(r,u){if(n==null)return t.set(n=r),Promise.resolve();o=r;let s=l,a=!1,{delay:f=0,duration:c=400,easing:h=ti,interpolate:d=Bt}=Ee(Ee({},e),u);if(c===0)return s&&(s.abort(),s=null),t.set(n=o),Promise.resolve();const m=xl()+f;let p;return l=ei(g=>{if(g<m)return!0;a||(p=d(n,r),typeof c=="function"&&(c=c(n,r)),a=!0),s&&(s.abort(),s=null);const v=g-m;return v>c?(t.set(n=r),!1):(t.set(n=p(h(v/c))),!0)}),l.promise}return{set:i,update:(r,u)=>i(r(o,n),u),subscribe:t.subscribe}}function jn(n){let e,t,l;function o(r){n[9](r)}let i={auto:n[0].auto};return n[1]!==void 0&&(i.value=n[1]),e=new zo({props:i}),U.push(()=>X(e,"value",o)),{c(){V(e.$$.fragment)},m(r,u){E(e,r,u),l=!0},p(r,u){const s={};u&1&&(s.auto=r[0].auto),!t&&u&2&&(t=!0,s.value=r[1],G(()=>t=!1)),e.$set(s)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){T(e.$$.fragment,r),l=!1},d(r){q(e,r)}}}function Nn(n){let e,t=n[0].info+"",l;return{c(){e=F("p"),l=ae(t),b(e,"class","svelte-wlg8m2")},m(o,i){j(o,e,i),L(e,l)},p(o,i){i&1&&t!==(t=o[0].info+"")&&de(l,t)},d(o){o&&D(e)}}}function On(n){let e,t,l;function o(r){n[10](r)}let i={name:n[0].name,auto:n[0].auto,detail:n[0].detail};return n[1]!==void 0&&(i.value=n[1]),e=new qo({props:i}),U.push(()=>X(e,"value",o)),e.$on("forceUpdate",n[11]),{c(){V(e.$$.fragment)},m(r,u){E(e,r,u),l=!0},p(r,u){const s={};u&1&&(s.name=r[0].name),u&1&&(s.auto=r[0].auto),u&1&&(s.detail=r[0].detail),!t&&u&2&&(t=!0,s.value=r[1],G(()=>t=!1)),e.$set(s)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){T(e.$$.fragment,r),l=!1},d(r){q(e,r)}}}function Rn(n){let e,t,l;function o(r){n[12](r)}let i={auto:n[0].auto,detail:n[0].detail};return n[1]!==void 0&&(i.value=n[1]),e=new Wo({props:i}),U.push(()=>X(e,"value",o)),{c(){V(e.$$.fragment)},m(r,u){E(e,r,u),l=!0},p(r,u){const s={};u&1&&(s.auto=r[0].auto),u&1&&(s.detail=r[0].detail),!t&&u&2&&(t=!0,s.value=r[1],G(()=>t=!1)),e.$set(s)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){T(e.$$.fragment,r),l=!1},d(r){q(e,r)}}}function Ko(n){let e,t,l,o,i=n[0].name+"",r,u,s,a,f,c,h,d,m,p;a=new ue({props:{icon:"arrowRoundLeft",tooltip:"reset to default",tooltipLayout:"right"}}),a.$on("click",n[6]);let g=n[0].type=="toggle"&&jn(n),v=n[0].info&&Nn(n),w=n[0].type=="radio"&&On(n),_=n[0].type=="slider"&&Rn(n);return{c(){e=F("div"),t=F("span"),l=F("div"),o=F("h2"),r=ae(i),u=Z(),s=F("div"),V(a.$$.fragment),f=Z(),g&&g.c(),c=Z(),v&&v.c(),h=Z(),w&&w.c(),d=Z(),_&&_.c(),b(o,"class","svelte-wlg8m2"),b(s,"class","reset svelte-wlg8m2"),R(s,"hidden",n[1]==n[0].auto),b(l,"class","titleReset svelte-wlg8m2"),b(t,"class","above svelte-wlg8m2"),b(e,"class","top svelte-wlg8m2"),b(e,"style",m=`--spotlight:${n[4]}`)},m(k,y){j(k,e,y),L(e,t),L(t,l),L(l,o),L(o,r),L(l,u),L(l,s),E(a,s,null),L(t,f),g&&g.m(t,null),L(t,c),v&&v.m(t,null),L(e,h),w&&w.m(e,null),L(e,d),_&&_.m(e,null),n[13](e),p=!0},p(k,[y]){(!p||y&1)&&i!==(i=k[0].name+"")&&de(r,i),(!p||y&3)&&R(s,"hidden",k[1]==k[0].auto),k[0].type=="toggle"?g?(g.p(k,y),y&1&&C(g,1)):(g=jn(k),g.c(),C(g,1),g.m(t,c)):g&&(Q(),T(g,1,1,()=>{g=null}),Y()),k[0].info?v?v.p(k,y):(v=Nn(k),v.c(),v.m(t,null)):v&&(v.d(1),v=null),k[0].type=="radio"?w?(w.p(k,y),y&1&&C(w,1)):(w=On(k),w.c(),C(w,1),w.m(e,d)):w&&(Q(),T(w,1,1,()=>{w=null}),Y()),k[0].type=="slider"?_?(_.p(k,y),y&1&&C(_,1)):(_=Rn(k),_.c(),C(_,1),_.m(e,null)):_&&(Q(),T(_,1,1,()=>{_=null}),Y()),(!p||y&16&&m!==(m=`--spotlight:${k[4]}`))&&b(e,"style",m)},i(k){p||(C(a.$$.fragment,k),C(g),C(w),C(_),p=!0)},o(k){T(a.$$.fragment,k),T(g),T(w),T(_),p=!1},d(k){k&&D(e),q(a),g&&g.d(),v&&v.d(),w&&w.d(),_&&_.d(),n[13](null)}}}function Jo(n,e,t){let l,o=$,i=()=>(o(),o=ni(c,_=>t(4,l=_)),c);n.$$.on_destroy.push(()=>o());let{setting:r}=e,{key:u}=e,s=r.value;function a(_){K.setValue(u,_),_=r.value}function f(){K.setValue(u,r.auto),t(1,s=r.value)}ce(K.subscribe([u],function(_){r.value!=s&&t(1,s=r.value)}));let c=Dn(0);i();let h;function d(){h.scrollIntoView(),i(t(2,c=Dn(1,{duration:2e3}))),he(c,l=0,l)}function m(_){s=_,t(1,s)}function p(_){s=_,t(1,s)}const g=()=>a(s);function v(_){s=_,t(1,s)}function w(_){U[_?"unshift":"push"](()=>{h=_,t(3,h)})}return n.$$set=_=>{"setting"in _&&t(0,r=_.setting),"key"in _&&t(7,u=_.key)},n.$$.update=()=>{n.$$.dirty&2&&a(s)},[r,s,c,h,l,a,f,u,d,m,p,g,v,w]}class Xo extends ne{constructor(e){super(),le(this,e,Jo,Ko,x,{setting:0,key:7,scrollToSelf:8})}get scrollToSelf(){return this.$$.ctx[8]}}function Zn(n,e,t){const l=n.slice();return l[7]=e[t],l[8]=e,l[9]=t,l}function Hn(n,e,t){const l=n.slice();return l[10]=e[t],l[11]=e,l[12]=t,l}function zn(n,e,t){const l=n.slice();return l[7]=e[t],l[9]=t,l}function Vn(n,e,t){const l=n.slice();return l[10]=e[t],l[12]=t,l}function En(n){let e,t,l=K.data[n[10]].name+"",o,i,r,u;function s(){return n[3](n[9],n[12])}return{c(){e=F("li"),t=F("button"),o=ae(l),i=Z(),b(t,"class","svelte-kez20y")},m(a,f){j(a,e,f),L(e,t),L(t,o),L(e,i),r||(u=W(t,"click",s),r=!0)},p(a,f){n=a},d(a){a&&D(e),r=!1,u()}}}function qn(n){let e,t=n[7].name+"",l,o,i,r=n[7].settings,u=[];for(let s=0;s<r.length;s+=1)u[s]=En(Vn(n,r,s));return{c(){e=F("li"),l=ae(t),o=Z();for(let s=0;s<u.length;s+=1)u[s].c();i=ge(),b(e,"class","title svelte-kez20y")},m(s,a){j(s,e,a),L(e,l),j(s,o,a);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(s,a);j(s,i,a)},p(s,a){if(a&2){r=s[7].settings;let f;for(f=0;f<r.length;f+=1){const c=Vn(s,r,f);u[f]?u[f].p(c,a):(u[f]=En(c),u[f].c(),u[f].m(i.parentNode,i))}for(;f<u.length;f+=1)u[f].d(1);u.length=r.length}},d(s){s&&D(e),s&&D(o),we(u,s),s&&D(i)}}}function Pn(n){let e,t=n[9],l=n[12],o;const i=()=>n[6](e,t,l),r=()=>n[6](null,t,l);let u={key:n[10],setting:K.data[n[10]]};return e=new Xo({props:u}),i(),{c(){V(e.$$.fragment)},m(s,a){E(e,s,a),o=!0},p(s,a){(t!==s[9]||l!==s[12])&&(r(),t=s[9],l=s[12],i());const f={};e.$set(f)},i(s){o||(C(e.$$.fragment,s),o=!0)},o(s){T(e.$$.fragment,s),o=!1},d(s){r(),q(e,s)}}}function Un(n){let e,t,l=n[7].name+"",o,i,r,u,s=n[7].settings,a=[];for(let c=0;c<s.length;c+=1)a[c]=Pn(Hn(n,s,c));const f=c=>T(a[c],1,1,()=>{a[c]=null});return{c(){e=F("li"),t=F("h1"),o=ae(l),i=Z();for(let c=0;c<a.length;c+=1)a[c].c();r=ge(),b(t,"class","svelte-kez20y"),b(e,"class","title svelte-kez20y")},m(c,h){j(c,e,h),L(e,t),L(t,o),j(c,i,h);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(c,h);j(c,r,h),u=!0},p(c,h){if(h&1){s=c[7].settings;let d;for(d=0;d<s.length;d+=1){const m=Hn(c,s,d);a[d]?(a[d].p(m,h),C(a[d],1)):(a[d]=Pn(m),a[d].c(),C(a[d],1),a[d].m(r.parentNode,r))}for(Q(),d=s.length;d<a.length;d+=1)f(d);Y()}},i(c){if(!u){for(let h=0;h<s.length;h+=1)C(a[h]);u=!0}},o(c){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)T(a[h]);u=!1},d(c){c&&D(e),c&&D(i),we(a,c),c&&D(r)}}}function Go(n){let e,t,l,o,i,r,u,s,a,f,c,h,d,m,p=lt,g=[];for(let k=0;k<p.length;k+=1)g[k]=qn(zn(n,p,k));s=new ue({props:{icon:"arrowRoundLeft",text:"reset all settings"}}),s.$on("click",n[4]),f=new ue({props:{icon:"dots",text:"randomize settings",tooltip:"why would you click this"}}),f.$on("click",n[5]);let v=lt,w=[];for(let k=0;k<v.length;k+=1)w[k]=Un(Zn(n,v,k));const _=k=>T(w[k],1,1,()=>{w[k]=null});return{c(){e=F("div"),t=F("div"),l=F("div"),o=F("ul");for(let k=0;k<g.length;k+=1)g[k].c();i=Z(),r=F("div"),u=F("section"),V(s.$$.fragment),a=Z(),V(f.$$.fragment),c=Z(),h=F("section"),d=F("ul");for(let k=0;k<w.length;k+=1)w[k].c();b(o,"class","svelte-kez20y"),b(l,"class","outlineScroll svelte-kez20y"),b(t,"class","outline svelte-kez20y"),b(u,"class","controls svelte-kez20y"),b(d,"class","svelte-kez20y"),b(h,"class","settings svelte-kez20y"),b(r,"class","content svelte-kez20y"),b(e,"class","top palette-plain svelte-kez20y")},m(k,y){j(k,e,y),L(e,t),L(t,l),L(l,o);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(o,null);L(e,i),L(e,r),L(r,u),E(s,u,null),L(u,a),E(f,u,null),L(r,c),L(r,h),L(h,d);for(let S=0;S<w.length;S+=1)w[S]&&w[S].m(d,null);m=!0},p(k,[y]){if(y&2){p=lt;let S;for(S=0;S<p.length;S+=1){const A=zn(k,p,S);g[S]?g[S].p(A,y):(g[S]=qn(A),g[S].c(),g[S].m(o,null))}for(;S<g.length;S+=1)g[S].d(1);g.length=p.length}if(y&1){v=lt;let S;for(S=0;S<v.length;S+=1){const A=Zn(k,v,S);w[S]?(w[S].p(A,y),C(w[S],1)):(w[S]=Un(A),w[S].c(),C(w[S],1),w[S].m(d,null))}for(Q(),S=v.length;S<w.length;S+=1)_(S);Y()}},i(k){if(!m){C(s.$$.fragment,k),C(f.$$.fragment,k);for(let y=0;y<v.length;y+=1)C(w[y]);m=!0}},o(k){T(s.$$.fragment,k),T(f.$$.fragment,k),w=w.filter(Boolean);for(let y=0;y<w.length;y+=1)T(w[y]);m=!1},d(k){k&&D(e),we(g,k),q(s),q(f),we(w,k)}}}function Qo(n,e,t){const l=()=>{};ce(()=>{K.saveToLocalStorage()});let o=[];for(let f=0;f<lt.length;f++)o.push([]);function i(f,c){o[f][c].scrollToSelf()}const r=(f,c)=>i(f,c),u=()=>K.resetToAuto(),s=()=>K.randomize();function a(f,c,h){U[f?"unshift":"push"](()=>{o[c][h]=f,t(0,o)})}return[o,i,l,r,u,s,a]}class Yo extends ne{constructor(e){super(),le(this,e,Qo,Go,x,{closePopup:2})}get closePopup(){return this.$$.ctx[2]}}function $o(n,e){var t={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(t[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(n);o<l.length;o++)e.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(n,l[o])&&(t[l[o]]=n[l[o]]);return t}function xo(n){var{fallback:e}=n,t=$o(n,["fallback"]);const l=new Map,o=new Map;function i(u,s,a){const{delay:f=0,duration:c=A=>Math.sqrt(A)*30,easing:h=vl}=Ee(Ee({},t),a),d=u.getBoundingClientRect(),m=s.getBoundingClientRect(),p=d.left-m.left,g=d.top-m.top,v=d.width/m.width,w=d.height/m.height,_=Math.sqrt(p*p+g*g),k=getComputedStyle(s),y=k.transform==="none"?"":k.transform,S=+k.opacity;return{delay:f,duration:xe(c)?c(_):c,easing:h,css:(A,I)=>`
				opacity: ${A*S};
				transform-origin: top left;
				transform: ${y} translate(${I*p}px,${I*g}px) scale(${A+(1-A)*v}, ${A+(1-A)*w});
			`}}function r(u,s,a){return(f,c)=>(u.set(c.key,f),()=>{if(s.has(c.key)){const h=s.get(c.key);return s.delete(c.key),i(h,f,c)}return u.delete(c.key),e&&e(f,c,a)})}return[r(o,l,!1),r(l,o,!0)]}function es(n,{from:e,to:t},l={}){const o=getComputedStyle(n),i=o.transform==="none"?"":o.transform,[r,u]=o.transformOrigin.split(" ").map(parseFloat),s=e.left+e.width*r/t.width-(t.left+r),a=e.top+e.height*u/t.height-(t.top+u),{delay:f=0,duration:c=d=>Math.sqrt(d)*120,easing:h=vl}=l;return{delay:f,duration:xe(c)?c(Math.sqrt(s*s+a*a)):c,easing:h,css:(d,m)=>{const p=m*s,g=m*a,v=d+m*e.width/t.width,w=d+m*e.height/t.height;return`transform: ${i} translate(${p}px, ${g}px) scale(${v}, ${w});`}}}function Wn(n,e,t){const l=n.slice();return l[22]=e[t],l[24]=t,l}const ts=n=>({item:n&1,index:n&1}),Kn=n=>({item:n[22],index:n[24]});function Jn(n){let e,t=[],l=new Map,o,i,r=n[0];const u=s=>s[12](s[22]);for(let s=0;s<r.length;s+=1){let a=Wn(n,r,s),f=u(a);l.set(f,t[s]=Xn(f,a))}return{c(){e=F("ul");for(let s=0;s<t.length;s+=1)t[s].c();b(e,"class","svelte-f52ckd")},m(s,a){j(s,e,a);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);n[16](e),i=!0},p(s,a){if(a&24349){r=s[0],Q();for(let f=0;f<t.length;f+=1)t[f].r();t=Nt(t,a,u,1,s,r,l,e,li,Xn,null,Wn);for(let f=0;f<t.length;f+=1)t[f].a();Y()}},i(s){if(!i){for(let a=0;a<r.length;a+=1)C(t[a]);o&&o.end(1),i=!0}},o(s){for(let a=0;a<t.length;a+=1)T(t[a]);o=Qe(e,mi,{}),i=!1},d(s){s&&D(e);for(let a=0;a<t.length;a+=1)t[a].d();n[16](null),s&&o&&o.end()}}}function Xn(n,e){let t,l,o,i,r,u,s,a=$,f,c,h;const d=e[15].default,m=rt(d,e,e[14],Kn);return{key:n,first:null,c(){t=F("li"),m&&m.c(),l=Z(),b(t,"data-index",o=e[24]),b(t,"data-id",i=JSON.stringify(e[12](e[22]))),b(t,"draggable","true"),b(t,"class","svelte-f52ckd"),R(t,"overFirst",e[24]===e[2]),R(t,"overSecond",e[24]===e[3]),R(t,"dragSource",e[24]===e[4]),this.first=t},m(p,g){j(p,t,g),m&&m.m(t,null),L(t,l),f=!0,c||(h=[W(t,"dragstart",e[8]),W(t,"dragover",e[9]),W(t,"dragleave",e[10]),W(t,"drop",e[11])],c=!0)},p(p,g){e=p,m&&m.p&&(!f||g&16385)&&at(m,d,e,e[14],f?ft(d,e[14],g,ts):ut(e[14]),Kn),(!f||g&1&&o!==(o=e[24]))&&b(t,"data-index",o),(!f||g&1&&i!==(i=JSON.stringify(e[12](e[22]))))&&b(t,"data-id",i),(!f||g&5)&&R(t,"overFirst",e[24]===e[2]),(!f||g&9)&&R(t,"overSecond",e[24]===e[3]),(!f||g&17)&&R(t,"dragSource",e[24]===e[4])},r(){s=t.getBoundingClientRect()},f(){ii(t),a(),oi(t,s)},a(){a(),a=si(t,s,es,{duration:e[1]})},i(p){f||(C(m,p),ke(()=>{f&&(u&&u.end(1),r=Ge(t,e[7],{key:e[12](e[22])}),r.start())}),f=!0)},o(p){T(m,p),r&&r.invalidate(),u=Qe(t,e[6],{key:e[12](e[22])}),f=!1},d(p){p&&D(t),m&&m.d(p),p&&u&&u.end(),c=!1,Ce(h)}}}function ns(n){let e,t,l=n[0]&&n[0].length&&Jn(n);return{c(){l&&l.c(),e=ge()},m(o,i){l&&l.m(o,i),j(o,e,i),t=!0},p(o,[i]){o[0]&&o[0].length?l?(l.p(o,i),i&1&&C(l,1)):(l=Jn(o),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Q(),T(l,1,1,()=>{l=null}),Y())},i(o){t||(C(l),t=!0)},o(o){T(l),t=!1},d(o){l&&l.d(o),o&&D(e)}}}function ls(n,e,t){let{$$slots:l={},$$scope:o}=e,i=K.data.transitionSpeed.value;ce(K.subscribe(["transitionSpeed"],M=>{t(1,i=K.data[M].value)}));const[r,u]=xo({duration:M=>Math.sqrt(M*i),fallback:pi});let s=null,a=null,f=null;const c=M=>{let z=M.target.getBoundingClientRect(),N=M.clientY-z.top,J=z.height/2;return N>J},h=M=>M.dataset&&M.dataset.index?M.dataset:h(M.parentNode),d=M=>{M.dataTransfer.setData("source",M.target.dataset.index),t(4,f=parseInt(M.target.dataset.index))},m=M=>{M.preventDefault();let z=h(M.target),N=parseInt(z.index);c(M)?(t(2,s=N),t(3,a=N+1)):(t(2,s=N-1),t(3,a=N))},p=M=>{let z=h(M.target);parseInt(z.index),t(2,s=null),t(3,a=null)},g=M=>{M.preventDefault(),t(2,s=null),t(3,a=null),t(4,f=null);let z=h(M.target),N=parseInt(M.dataTransfer.getData("source")),J=parseInt(z.index);c(M)||(J-=1),w({from:N,to:J})},v=vt(),w=({from:M,to:z})=>{v("sort",{from:M,to:z})},_=M=>y?M[y]:M;let{list:k}=e,{key:y}=e,S;async function A(M=!1){M&&S!=null&&t(5,S.style.height="auto",S),await Ze();let z=0;for(let N=0;N<k.length;N++)z+=S.children[N].scrollHeight;S!=null&&t(5,S.style.height=`calc(${z}px)`,S)}qe(()=>{A(!0)}),ce(K.subscribe(["sidebarWidth","fontSize","padding"],()=>A()));function I(M){U[M?"unshift":"push"](()=>{S=M,t(5,S)})}return n.$$set=M=>{"list"in M&&t(0,k=M.list),"key"in M&&t(13,y=M.key),"$$scope"in M&&t(14,o=M.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&A()},[k,i,s,a,f,S,r,u,d,m,p,g,_,y,o,l,I]}class is extends ne{constructor(e){super(),le(this,e,ls,ns,x,{list:0,key:13})}}function Gn(n){let e,t;return e=new ue({props:{text:n[2].secondary.name,palette:"accent-secondary",icon:"add",tooltip:"create new "+n[2].secondary.name+" flow",shortcut:["control","shift","n"]}}),e.$on("click",n[6]),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.text=l[2].secondary.name),o&4&&(i.tooltip="create new "+l[2].secondary.name+" flow"),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Qn(n){let e,t,l;return t=new ue({props:{text:"first",icon:"arrowLeft",palette:n[0]?"accent-secondary":"accent",tooltip:n[0]?`set ${n[2].primary.name} to first speaker`:`set ${n[2].secondary.name} to first speaker`}}),t.$on("click",n[7]),{c(){e=F("div"),V(t.$$.fragment),b(e,"class","switch")},m(o,i){j(o,e,i),E(t,e,null),l=!0},p(o,i){const r={};i&1&&(r.palette=o[0]?"accent-secondary":"accent"),i&5&&(r.tooltip=o[0]?`set ${o[2].primary.name} to first speaker`:`set ${o[2].secondary.name} to first speaker`),t.$set(r)},i(o){l||(C(t.$$.fragment,o),l=!0)},o(o){T(t.$$.fragment,o),l=!1},d(o){o&&D(e),q(t)}}}function os(n){let e,t,l,o,i,r;l=new ue({props:{text:n[2].primary.name,palette:"accent",icon:"add",tooltip:"create new "+n[2].primary.name+" flow",shortcut:["control","n"]}}),l.$on("click",n[5]);let u=n[2].secondary!=null&&Gn(n),s=n[2].secondary!=null&&n[3]&&Qn(n);return{c(){e=F("div"),t=F("div"),V(l.$$.fragment),o=Z(),u&&u.c(),i=Z(),s&&s.c(),b(t,"class","buttons svelte-24oktg"),b(e,"class","addTab svelte-24oktg"),R(e,"hasSwitch",n[3]),R(e,"switch",n[0])},m(a,f){j(a,e,f),L(e,t),E(l,t,null),L(t,o),u&&u.m(t,null),L(e,i),s&&s.m(e,null),r=!0},p(a,[f]){const c={};f&4&&(c.text=a[2].primary.name),f&4&&(c.tooltip="create new "+a[2].primary.name+" flow"),l.$set(c),a[2].secondary!=null?u?(u.p(a,f),f&4&&C(u,1)):(u=Gn(a),u.c(),C(u,1),u.m(t,null)):u&&(Q(),T(u,1,1,()=>{u=null}),Y()),a[2].secondary!=null&&a[3]?s?(s.p(a,f),f&12&&C(s,1)):(s=Qn(a),s.c(),C(s,1),s.m(e,null)):s&&(Q(),T(s,1,1,()=>{s=null}),Y()),(!r||f&8)&&R(e,"hasSwitch",a[3]),(!r||f&1)&&R(e,"switch",a[0])},i(a){r||(C(l.$$.fragment,a),C(u),C(s),r=!0)},o(a){T(l.$$.fragment,a),T(u),T(s),r=!1},d(a){a&&D(e),q(l),u&&u.d(),s&&s.d()}}}function ss(n,e,t){let l,o,{addFlow:i}=e,{switchSpeakers:r}=e,u=K.data.debateStyle.value;ce(K.subscribe(["debateStyle"],c=>{t(4,u=K.data[c].value)}));const s=()=>i("primary"),a=()=>i("secondary"),f=()=>t(0,r=!r);return n.$$set=c=>{"addFlow"in c&&t(1,i=c.addFlow),"switchSpeakers"in c&&t(0,r=c.switchSpeakers)},n.$$.update=()=>{n.$$.dirty&16&&t(2,l=gt[_t[u]]),n.$$.dirty&4&&t(3,o=l.primary.columnsSwitch!=null)},[r,i,l,o,u,s,a,f]}class rs extends ne{constructor(e){super(),le(this,e,ss,os,x,{addFlow:1,switchSpeakers:0})}}function as(n){let e;return{c(){e=ae("no name")},m(t,l){j(t,e,l)},p:$,d(t){t&&D(e)}}}function us(n){let e=n[0].content+"",t;return{c(){t=ae(e)},m(l,o){j(l,t,o)},p(l,o){o&1&&e!==(e=l[0].content+"")&&de(t,e)},d(l){l&&D(t)}}}function fs(n){let e,t,l,o,i;function r(a,f){return a[0].content?us:as}let u=r(n),s=u(n);return{c(){e=F("div"),t=F("button"),s.c(),b(t,"class","svelte-m60q9q"),R(t,"selected",n[1]),R(t,"empty",n[0].content.length==0),b(e,"class",l=se(`top palette-${n[2]}`)+" svelte-m60q9q"),R(e,"invert",n[0].invert)},m(a,f){j(a,e,f),L(e,t),s.m(t,null),o||(i=W(t,"click",n[3]),o=!0)},p(a,[f]){u===(u=r(a))&&s?s.p(a,f):(s.d(1),s=u(a),s&&(s.c(),s.m(t,null))),f&2&&R(t,"selected",a[1]),f&1&&R(t,"empty",a[0].content.length==0),f&4&&l!==(l=se(`top palette-${a[2]}`)+" svelte-m60q9q")&&b(e,"class",l),f&5&&R(e,"invert",a[0].invert)},i:$,o:$,d(a){a&&D(e),s.d(),o=!1,i()}}}function cs(n,e,t){let{flow:l}=e,{selected:o}=e,i;function r(u){je.call(this,n,u)}return n.$$set=u=>{"flow"in u&&t(0,l=u.flow),"selected"in u&&t(1,o=u.selected)},n.$$.update=()=>{n.$$.dirty&1&&(l.invert?t(2,i="accent-secondary"):t(2,i="accent"))},[l,o,i,r]}class ds extends ne{constructor(e){super(),le(this,e,cs,fs,x,{flow:0,selected:1})}}let Ke=null;const $e=Ne(Et()),hs=ri($e,n=>n),Bl=20;function ps(){return`flow:${crypto.randomUUID()}`}let ze;oe.subscribe(n=>{ze=n});let Dl;wt.subscribe(n=>{Dl=n});let Le;$e.subscribe(n=>{Le=n,localStorage.setItem("savedFlows",JSON.stringify(n))});let Yn=Date.now();function ms(){if(ze.length==0||Dl||ze.length==1&&ze[0].content.length==0&&ze[0].children.length==1&&ze[0].children[0].content.length==0)return;const n=Date.now();n-Yn<5e3||(Yn=n,_s(ze))}Zt(ms);function Et(){const n=localStorage.getItem("savedFlows");return n===null?(localStorage.setItem("savedFlows",JSON.stringify({})),{}):JSON.parse(n)}function $n(n,e=!1){const t=localStorage.getItem(n);if(t===null)return[];const l=Il(t);oe.set(l),e&&(Ke=n)}function gs(n){$e.set(Et()),localStorage.removeItem(n),Object.hasOwn(Le,n)&&(delete Le[n],$e.set(Le))}function _s(n){var l;$e.set(Et());const e=Tl(n);Ke===null&&(Ke=ps()),localStorage.setItem(Ke,e),Le[Ke]={created:((l=Le[Ke])==null?void 0:l.created)??new Date().toISOString(),modified:new Date().toISOString(),flowInfos:n.map(o=>({content:o.content,invert:o.invert}))};const t=Object.keys(Le);if(t.length>Bl){const o=t.reduce((i,r)=>Le[i].modified<Le[r].modified?i:r);delete Le[o],localStorage.removeItem(o)}$e.set(Le)}function bs(n){const e=localStorage.getItem(n);if(e===null)return;const t=JSON.parse(e);Al(JSON.stringify(t),"flow.json")}function xn(n,e,t){const l=n.slice();return l[8]=e[t],l}function el(n){let e,t=n[8].content+"",l,o;return{c(){e=F("div"),l=ae(t),o=Z(),b(e,"class","info svelte-7294jv"),R(e,"palette-accent",!n[8].invert),R(e,"palette-accent-secondary",n[8].invert)},m(i,r){j(i,e,r),L(e,l),L(e,o)},p(i,r){r&1&&t!==(t=i[8].content+"")&&de(l,t),r&1&&R(e,"palette-accent",!i[8].invert),r&1&&R(e,"palette-accent-secondary",i[8].invert)},d(i){i&&D(e)}}}function tl(n){let e,t,l,o=Xe(n[0].created)+"",i,r,u,s,a=Xe(n[0].modified)+"",f,c,h,d,m,p,g,v,w;return h=new ue({props:{icon:"copy",text:"open copy",tooltip:"save changes in new"}}),h.$on("click",n[5]),m=new ue({props:{icon:"download",text:"download",tooltip:"download as JSON"}}),m.$on("click",n[6]),g=new ue({props:{icon:"trash",text:"delete",tooltip:"delete flow data"}}),g.$on("click",n[7]),{c(){e=F("div"),t=F("div"),l=ae("created "),i=ae(o),r=Z(),u=F("div"),s=ae("edited "),f=ae(a),c=Z(),V(h.$$.fragment),d=Z(),V(m.$$.fragment),p=Z(),V(g.$$.fragment),b(t,"class","time svelte-7294jv"),b(u,"class","time svelte-7294jv"),b(e,"class","hidden svelte-7294jv")},m(_,k){j(_,e,k),L(e,t),L(t,l),L(t,i),L(e,r),L(e,u),L(u,s),L(u,f),L(e,c),E(h,e,null),L(e,d),E(m,e,null),L(e,p),E(g,e,null),w=!0},p(_,k){(!w||k&1)&&o!==(o=Xe(_[0].created)+"")&&de(i,o),(!w||k&1)&&a!==(a=Xe(_[0].modified)+"")&&de(f,a)},i(_){w||(C(h.$$.fragment,_),C(m.$$.fragment,_),C(g.$$.fragment,_),ke(()=>{w&&(v||(v=ye(e,mt,{},!0)),v.run(1))}),w=!0)},o(_){T(h.$$.fragment,_),T(m.$$.fragment,_),T(g.$$.fragment,_),v||(v=ye(e,mt,{},!1)),v.run(0),w=!1},d(_){_&&D(e),q(h),q(m),q(g),_&&v&&v.end()}}}function vs(n){let e,t,l,o,i,r,u,s=Xe(n[0].modified)+"",a,f,c,h,d,m,p,g,v,w=n[0].flowInfos,_=[];for(let y=0;y<w.length;y+=1)_[y]=el(xn(n,w,y));h=new ue({props:{icon:"upload",text:"open"}}),h.$on("click",n[3]),m=new ue({props:{icon:n[2]?"delete":"ellipses"}}),m.$on("click",n[4]);let k=n[2]&&tl(n);return{c(){e=F("div"),t=F("div"),l=F("div");for(let y=0;y<_.length;y+=1)_[y].c();o=Z(),i=F("div"),r=F("div"),u=F("div"),a=ae(s),f=Z(),c=F("div"),V(h.$$.fragment),d=Z(),V(m.$$.fragment),p=Z(),k&&k.c(),b(l,"class","infos svelte-7294jv"),b(t,"class","infoView svelte-7294jv"),b(u,"class","time svelte-7294jv"),b(r,"class","times svelte-7294jv"),b(c,"class","flowButtons svelte-7294jv"),b(i,"class","fixed svelte-7294jv"),b(e,"class","flow svelte-7294jv")},m(y,S){j(y,e,S),L(e,t),L(t,l);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(l,null);L(e,o),L(e,i),L(i,r),L(r,u),L(u,a),L(i,f),L(i,c),E(h,c,null),L(c,d),E(m,c,null),L(c,p),k&&k.m(c,null),v=!0},p(y,[S]){if(S&1){w=y[0].flowInfos;let I;for(I=0;I<w.length;I+=1){const M=xn(y,w,I);_[I]?_[I].p(M,S):(_[I]=el(M),_[I].c(),_[I].m(l,null))}for(;I<_.length;I+=1)_[I].d(1);_.length=w.length}(!v||S&1)&&s!==(s=Xe(y[0].modified)+"")&&de(a,s);const A={};S&4&&(A.icon=y[2]?"delete":"ellipses"),m.$set(A),y[2]?k?(k.p(y,S),S&4&&C(k,1)):(k=tl(y),k.c(),C(k,1),k.m(c,null)):k&&(Q(),T(k,1,1,()=>{k=null}),Y())},i(y){v||(C(h.$$.fragment,y),C(m.$$.fragment,y),C(k),ke(()=>{v&&(g||(g=ye(e,tn,{},!0)),g.run(1))}),v=!0)},o(y){T(h.$$.fragment,y),T(m.$$.fragment,y),T(k),g||(g=ye(e,tn,{},!1)),g.run(0),v=!1},d(y){y&&D(e),we(_,y),q(h),q(m),k&&k.d(),y&&g&&g.end()}}}function Xe(n){const e=new Date,t=new Date(n);return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()?t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function ws(n,e,t){let{flowData:l}=e,{key:o}=e,i=!1;const r=()=>{$n(o,!0)},u=()=>t(2,i=!i),s=()=>{$n(o,!1)},a=()=>{bs(o)},f=()=>{gs(o)};return n.$$set=c=>{"flowData"in c&&t(0,l=c.flowData),"key"in c&&t(1,o=c.key)},[l,o,i,r,u,s,a,f]}class ks extends ne{constructor(e){super(),le(this,e,ws,vs,x,{flowData:0,key:1})}}function nl(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1],l}function ll(n,e){let t,l,o;return l=new ks({props:{flowData:e[4],key:e[3]}}),{key:n,first:null,c(){t=ge(),V(l.$$.fragment),this.first=t},m(i,r){j(i,t,r),E(l,i,r),o=!0},p(i,r){e=i;const u={};r&1&&(u.flowData=e[4]),r&1&&(u.key=e[3]),l.$set(u)},i(i){o||(C(l.$$.fragment,i),o=!0)},o(i){T(l.$$.fragment,i),o=!1},d(i){i&&D(t),q(l,i)}}}function ys(n){let e,t,l,o,i,r,u,s,a=[],f=new Map,c,h=n[0];const d=m=>m[3];for(let m=0;m<h.length;m+=1){let p=nl(n,h,m),g=d(p);f.set(g,a[m]=ll(g,p))}return{c(){e=F("div"),t=F("div"),l=F("div"),l.innerHTML='<h1 class="svelte-1ijc8ye">saved flows</h1>',o=Z(),i=F("p"),i.textContent=`up to ${Bl} flows saved in your browser but lost when you clear cookies`,r=Z(),u=F("div"),s=F("div");for(let m=0;m<a.length;m+=1)a[m].c();b(l,"class","title svelte-1ijc8ye"),b(i,"class","svelte-1ijc8ye"),b(t,"class","above svelte-1ijc8ye"),b(s,"class","flows svelte-1ijc8ye"),b(u,"class","view svelte-1ijc8ye"),b(e,"class","top svelte-1ijc8ye")},m(m,p){j(m,e,p),L(e,t),L(t,l),L(t,o),L(t,i),L(e,r),L(e,u),L(u,s);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(s,null);c=!0},p(m,[p]){p&1&&(h=m[0],Q(),a=Nt(a,p,d,1,m,h,f,s,_l,ll,null,nl),Y())},i(m){if(!c){for(let p=0;p<h.length;p+=1)C(a[p]);c=!0}},o(m){for(let p=0;p<a.length;p+=1)T(a[p]);c=!1},d(m){m&&D(e);for(let p=0;p<a.length;p+=1)a[p].d()}}}function Ls(n,e,t){let l,{savedFlowsDatas:o}=e,{showTutorial:i=!1}=e;return n.$$set=r=>{"savedFlowsDatas"in r&&t(1,o=r.savedFlowsDatas),"showTutorial"in r&&t(2,i=r.showTutorial)},n.$$.update=()=>{n.$$.dirty&2&&t(0,l=Object.entries(o).sort((r,u)=>new Date(u[1].modified).getTime()-new Date(r[1].modified).getTime()))},[l,o,i]}class Ss extends ne{constructor(e){super(),le(this,e,Ls,ys,x,{savedFlowsDatas:1,showTutorial:2})}}function Cs(n){return{c:$,m:$,p:$,i:$,o:$,d:$}}function Ms(n){let e,t,l;function o(r){n[3](r)}let i={savedFlowsDatas:n[0]};return n[1]!==void 0&&(i.showTutorial=n[1]),e=new Ss({props:i}),U.push(()=>X(e,"showTutorial",o)),{c(){V(e.$$.fragment)},m(r,u){E(e,r,u),l=!0},p(r,u){const s={};u&1&&(s.savedFlowsDatas=r[0]),!t&&u&2&&(t=!0,s.showTutorial=r[1],G(()=>t=!1)),e.$set(s)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){T(e.$$.fragment,r),l=!1},d(r){q(e,r)}}}function Fs(n){let e,t,l,o;const i=[Ms,Cs],r=[];function u(s,a){return s[2]?0:1}return e=u(n),t=r[e]=i[e](n),{c(){t.c(),l=ge()},m(s,a){r[e].m(s,a),j(s,l,a),o=!0},p(s,[a]){let f=e;e=u(s),e===f?r[e].p(s,a):(Q(),T(r[f],1,1,()=>{r[f]=null}),Y(),t=r[e],t?t.p(s,a):(t=r[e]=i[e](s),t.c()),C(t,1),t.m(l.parentNode,l))},i(s){o||(C(t),o=!0)},o(s){T(t),o=!1},d(s){r[e].d(s),s&&D(l)}}}function Ts(n,e,t){let l,o;me(n,hs,u=>t(0,o=u));let i=!1;function r(u){i=u,t(1,i)}return n.$$.update=()=>{n.$$.dirty&1&&t(2,l=Object.keys(o).length>0)},[o,i,l,r]}class As extends ne{constructor(e){super(),le(this,e,Ts,Fs,x,{})}}function Is(n){let e,t,l,o,i,r,u,s,a,f,c,h;return{c(){var d,m,p,g;e=F("div"),t=F("input"),i=Z(),r=F("span"),r.textContent=":",u=Z(),s=F("input"),b(t,"type","text"),b(t,"style",l="--chars: "+(n[2]==null?1:((m=(d=n[2])==null?void 0:d.toString())==null?void 0:m.length)??1).toString()),b(t,"class","minutes svelte-5oq7m1"),t.disabled=o=n[1].name=="running",b(s,"type","text"),b(s,"style",a="--chars: "+(n[3]==null?1:((g=(p=n[3])==null?void 0:p.toString())==null?void 0:g.length)??1).toString()),b(s,"class","seconds svelte-5oq7m1"),s.disabled=f=n[1].name=="running",b(e,"class","time svelte-5oq7m1"),R(e,"invalid",n[6]),R(e,"done",n[0]==0&&n[1].name=="running")},m(d,m){j(d,e,m),L(e,t),Ae(t,n[2]),n[14](t),L(e,i),L(e,r),L(e,u),L(e,s),Ae(s,n[3]),n[16](s),c||(h=[W(t,"input",n[13]),W(t,"focus",il),W(t,"keydown",n[7]),W(t,"change",n[9]),W(s,"input",n[15]),W(s,"focus",il),W(s,"keydown",n[8]),W(s,"change",n[9])],c=!0)},p(d,[m]){var p,g,v,w;m&4&&l!==(l="--chars: "+(d[2]==null?1:((g=(p=d[2])==null?void 0:p.toString())==null?void 0:g.length)??1).toString())&&b(t,"style",l),m&2&&o!==(o=d[1].name=="running")&&(t.disabled=o),m&4&&t.value!==d[2]&&Ae(t,d[2]),m&8&&a!==(a="--chars: "+(d[3]==null?1:((w=(v=d[3])==null?void 0:v.toString())==null?void 0:w.length)??1).toString())&&b(s,"style",a),m&2&&f!==(f=d[1].name=="running")&&(s.disabled=f),m&8&&s.value!==d[3]&&Ae(s,d[3]),m&64&&R(e,"invalid",d[6]),m&3&&R(e,"done",d[0]==0&&d[1].name=="running")},i:$,o:$,d(d){d&&D(e),n[14](null),n[16](null),c=!1,Ce(h)}}}function il(n){const e=n.target;n.preventDefault(),e.setSelectionRange(0,e.value.length)}function ol(n){let e=parseInt(n.toString()),t=Math.min(59,Math.max(0,e!=e?0:e)).toString();return t.length==1?"0"+t:t}function Bs(n,e,t){let{time:l}=e,o,i;w();let r,u,{state:s}=e,a=null;s.name=="running"&&c();function f(){s.name=="running"&&(a&&clearInterval(a),t(1,s={name:"paused"}))}ce(()=>{a&&clearInterval(a)});function c(){a=setInterval(()=>{s.name=="running"&&(t(0,l=s.ogTime-(Date.now()-s.startTime)),l<=0&&t(0,l=0),w())},100)}function h(){t(1,s={name:"running",startTime:Date.now(),ogTime:l}),c()}function d(I){f(),t(0,l=I),w()}function m(I){let M=parseInt(o.toString());switch(I.key){case"ArrowUp":I.preventDefault(),t(2,o=(M+1).toString()),v();break;case"ArrowDown":I.preventDefault(),t(2,o=(M-1).toString()),v();break;case"ArrowRight":I.preventDefault(),r.blur(),u.focus();break}}function p(I){let M=parseInt(i.toString());switch(I.key){case"ArrowUp":I.preventDefault(),t(3,i=(M+1).toString()),v();break;case"ArrowDown":I.preventDefault(),t(3,i=(M-1).toString()),v();break;case"ArrowLeft":I.preventDefault(),u.blur(),r.focus();break}}let g=!1;function v(){_();let I=parseInt(o.toString()),M=parseInt(i.toString());t(6,g=!1),t(0,l=I*60*1e3+M*1e3)}function w(){let I=Math.floor(l/6e4);t(2,o=I.toString()),t(3,i=Math.floor((l-I*60*1e3)/1e3).toString()),_()}function _(){t(2,o=ol(o)),t(3,i=ol(i))}function k(){o=this.value,t(2,o)}function y(I){U[I?"unshift":"push"](()=>{r=I,t(4,r)})}function S(){i=this.value,t(3,i)}function A(I){U[I?"unshift":"push"](()=>{u=I,t(5,u)})}return n.$$set=I=>{"time"in I&&t(0,l=I.time),"state"in I&&t(1,s=I.state)},[l,s,o,i,r,u,g,m,p,v,f,h,d,k,y,S,A]}class Ds extends ne{constructor(e){super(),le(this,e,Bs,Is,x,{time:0,state:1,pause:10,start:11,set:12})}get pause(){return this.$$.ctx[10]}get start(){return this.$$.ctx[11]}get set(){return this.$$.ctx[12]}}function js(n){let e,t;return e=new ue({props:{icon:"play",preventBlur:!1}}),e.$on("click",n[3]),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p:$,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Ns(n){let e,t;return e=new ue({props:{icon:"pause",preventBlur:!1}}),e.$on("click",n[4]),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p:$,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Os(n){let e,t,l,o,i,r,u,s,a,f,c,h,d,m;const p=[Ns,js],g=[];function v(I,M){var z;return((z=I[1])==null?void 0:z.name)=="running"?0:1}t=v(n),l=g[t]=p[t](n);function w(I){n[10](I)}function _(I){n[11](I)}function k(I){n[12](I)}function y(I){n[13](I)}function S(I){n[14](I)}let A={};return n[7]!==void 0&&(A.start=n[7]),n[8]!==void 0&&(A.pause=n[8]),n[9]!==void 0&&(A.set=n[9]),n[1]!==void 0&&(A.state=n[1]),n[0]!==void 0&&(A.time=n[0]),i=new Ds({props:A}),U.push(()=>X(i,"start",w)),U.push(()=>X(i,"pause",_)),U.push(()=>X(i,"set",k)),U.push(()=>X(i,"state",y)),U.push(()=>X(i,"time",S)),h=new ue({props:{icon:"arrowRoundLeft",disabled:n[0]==n[2],preventBlur:!1}}),h.$on("click",n[15]),{c(){e=F("div"),l.c(),o=Z(),V(i.$$.fragment),c=Z(),V(h.$$.fragment),b(e,"class",d="top palette-"+n[6]+" svelte-wbxmw5")},m(I,M){j(I,e,M),g[t].m(e,null),L(e,o),E(i,e,null),L(e,c),E(h,e,null),m=!0},p(I,[M]){let z=t;t=v(I),t===z?g[t].p(I,M):(Q(),T(g[z],1,1,()=>{g[z]=null}),Y(),l=g[t],l?l.p(I,M):(l=g[t]=p[t](I),l.c()),C(l,1),l.m(e,o));const N={};!r&&M&128&&(r=!0,N.start=I[7],G(()=>r=!1)),!u&&M&256&&(u=!0,N.pause=I[8],G(()=>u=!1)),!s&&M&512&&(s=!0,N.set=I[9],G(()=>s=!1)),!a&&M&2&&(a=!0,N.state=I[1],G(()=>a=!1)),!f&&M&1&&(f=!0,N.time=I[0],G(()=>f=!1)),i.$set(N);const J={};M&5&&(J.disabled=I[0]==I[2]),h.$set(J),(!m||M&64&&d!==(d="top palette-"+I[6]+" svelte-wbxmw5"))&&b(e,"class",d)},i(I){m||(C(l),C(i.$$.fragment,I),C(h.$$.fragment,I),m=!0)},o(I){T(l),T(i.$$.fragment,I),T(h.$$.fragment,I),m=!1},d(I){I&&D(e),g[t].d(),q(i),q(h)}}}function Rs(n,e,t){let{resetTime:l}=e,{time:o=l}=e,{state:i}=e,r,u,s;function a(){r()}function f(){u()}function c(){s(l)}let{palette:h="plain"}=e;function d(_){r=_,t(7,r)}function m(_){u=_,t(8,u)}function p(_){s=_,t(9,s)}function g(_){i=_,t(1,i)}function v(_){o=_,t(0,o)}const w=()=>c();return n.$$set=_=>{"resetTime"in _&&t(2,l=_.resetTime),"time"in _&&t(0,o=_.time),"state"in _&&t(1,i=_.state),"palette"in _&&t(6,h=_.palette)},[o,i,l,a,f,c,h,r,u,s,d,m,p,g,v,w]}class qt extends ne{constructor(e){super(),le(this,e,Rs,Os,x,{resetTime:2,time:0,state:1,start:3,pause:4,reset:5,palette:6})}get start(){return this.$$.ctx[3]}get pause(){return this.$$.ctx[4]}get reset(){return this.$$.ctx[5]}}function sl(n,e,t){const l=n.slice();return l[19]=e[t],l[21]=t,l}function rl(n){let e,t,l,o,i,r,u=n[3],s=[];for(let a=0;a<u.length;a+=1)s[a]=al(sl(n,u,a));return i=new ue({props:{icon:n[0]==n[3].length-1?"arrowLeft":"arrowRight",palette:n[3][(n[0]+1)%n[3].length].secondary?"accent-secondary":"accent"}}),i.$on("click",n[10]),{c(){e=F("div"),t=F("div"),l=F("div");for(let a=0;a<s.length;a+=1)s[a].c();o=Z(),V(i.$$.fragment),b(l,"class","speeches svelte-1dibtdm"),b(t,"class","speechesScroll svelte-1dibtdm"),b(e,"class","over svelte-1dibtdm")},m(a,f){j(a,e,f),L(e,t),L(t,l);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(l,null);L(e,o),E(i,e,null),r=!0},p(a,f){if(f&25){u=a[3];let h;for(h=0;h<u.length;h+=1){const d=sl(a,u,h);s[h]?s[h].p(d,f):(s[h]=al(d),s[h].c(),s[h].m(l,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=u.length}const c={};f&9&&(c.icon=a[0]==a[3].length-1?"arrowLeft":"arrowRight"),f&9&&(c.palette=a[3][(a[0]+1)%a[3].length].secondary?"accent-secondary":"accent"),i.$set(c)},i(a){r||(C(i.$$.fragment,a),r=!0)},o(a){T(i.$$.fragment,a),r=!1},d(a){a&&D(e),we(s,a),q(i)}}}function Zs(n){let e,t=n[19].name+"",l,o,i,r;function u(){return n[8](n[21])}function s(){return n[9](n[21])}return{c(){e=F("button"),l=ae(t),b(e,"class",o=se(`speech ${n[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")},m(a,f){j(a,e,f),L(e,l),i||(r=[W(e,"click",u),W(e,"click",s)],i=!0)},p(a,f){n=a,f&8&&t!==(t=n[19].name+"")&&de(l,t),f&8&&o!==(o=se(`speech ${n[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")&&b(e,"class",o)},d(a){a&&D(e),i=!1,Ce(r)}}}function Hs(n){let e,t=n[19].name+"",l,o;return{c(){e=F("button"),l=ae(t),b(e,"class",o=se(`speech selected ${n[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")},m(i,r){j(i,e,r),L(e,l),n[7](e)},p(i,r){r&8&&t!==(t=i[19].name+"")&&de(l,t),r&8&&o!==(o=se(`speech selected ${i[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")&&b(e,"class",o)},d(i){i&&D(e),n[7](null)}}}function al(n){let e;function t(i,r){return i[21]==i[0]?Hs:Zs}let l=t(n),o=l(n);return{c(){o.c(),e=ge()},m(i,r){o.m(i,r),j(i,e,r)},p(i,r){l===(l=t(i))&&o?o.p(i,r):(o.d(1),o=l(i),o&&(o.c(),o.m(e.parentNode,e)))},d(i){o.d(i),i&&D(e)}}}function zs(n){let e,t,l,o,i,r,u,s,a,f=n[3].length>1&&rl(n);function c(g){n[11](g)}function h(g){n[12](g)}function d(g){n[13](g)}function m(g){n[14](g)}let p={palette:n[3][n[0]].secondary?"accent-secondary":"accent",resetTime:n[3][n[0]].time};return n[2]!==void 0&&(p.state=n[2]),n[1]!==void 0&&(p.time=n[1]),n[5]!==void 0&&(p.pause=n[5]),n[6]!==void 0&&(p.reset=n[6]),o=new qt({props:p}),U.push(()=>X(o,"state",c)),U.push(()=>X(o,"time",h)),U.push(()=>X(o,"pause",d)),U.push(()=>X(o,"reset",m)),{c(){e=F("div"),f&&f.c(),t=Z(),l=F("div"),V(o.$$.fragment),b(l,"class","timer svelte-1dibtdm"),b(e,"class","top svelte-1dibtdm")},m(g,v){j(g,e,v),f&&f.m(e,null),L(e,t),L(e,l),E(o,l,null),a=!0},p(g,[v]){g[3].length>1?f?(f.p(g,v),v&8&&C(f,1)):(f=rl(g),f.c(),C(f,1),f.m(e,t)):f&&(Q(),T(f,1,1,()=>{f=null}),Y());const w={};v&9&&(w.palette=g[3][g[0]].secondary?"accent-secondary":"accent"),v&9&&(w.resetTime=g[3][g[0]].time),!i&&v&4&&(i=!0,w.state=g[2],G(()=>i=!1)),!r&&v&2&&(r=!0,w.time=g[1],G(()=>r=!1)),!u&&v&32&&(u=!0,w.pause=g[5],G(()=>u=!1)),!s&&v&64&&(s=!0,w.reset=g[6],G(()=>s=!1)),o.$set(w)},i(g){a||(C(f),C(o.$$.fragment,g),a=!0)},o(g){T(f),T(o.$$.fragment,g),a=!1},d(g){g&&D(e),f&&f.d(),q(o)}}}function Vs(n,e,t){let{resetTimeIndex:l}=e,{speeches:o}=e,{time:i=o[l].time}=e,{state:r}=e,u,s=!1;function a(){u&&(s&&u.scrollIntoView({behavior:"smooth",inline:"center"}),s=!0)}qe(()=>{setTimeout(()=>{u&&u.scrollIntoView({behavior:"instant",inline:"center"})},50)});let f=!1;async function c(){f&&(await Ze(),h(),d()),f=!0}let h,d;function m(S){U[S?"unshift":"push"](()=>{u=S,t(4,u)})}const p=S=>{t(0,l=S)},g=S=>{t(0,l=S)},v=()=>{t(0,l+=1),t(0,l%=o.length)};function w(S){r=S,t(2,r)}function _(S){i=S,t(1,i)}function k(S){h=S,t(5,h)}function y(S){d=S,t(6,d)}return n.$$set=S=>{"resetTimeIndex"in S&&t(0,l=S.resetTimeIndex),"speeches"in S&&t(3,o=S.speeches),"time"in S&&t(1,i=S.time),"state"in S&&t(2,r=S.state)},n.$$.update=()=>{n.$$.dirty&16&&a(),n.$$.dirty&1&&c()},[l,i,r,o,u,h,d,m,p,g,v,w,_,k,y]}class Es extends ne{constructor(e){super(),le(this,e,Vs,zs,x,{resetTimeIndex:0,speeches:3,time:1,state:2})}}function ul(n){let e,t,l,o;function i(s){n[3](s)}function r(s){n[4](s)}let u={resetTime:n[0].prep.resetTime,palette:"accent"};return n[0].prep.time!==void 0&&(u.time=n[0].prep.time),n[0].prep.state!==void 0&&(u.state=n[0].prep.state),e=new qt({props:u}),U.push(()=>X(e,"time",i)),U.push(()=>X(e,"state",r)),{c(){V(e.$$.fragment)},m(s,a){E(e,s,a),o=!0},p(s,a){const f={};a&1&&(f.resetTime=s[0].prep.resetTime),!t&&a&1&&(t=!0,f.time=s[0].prep.time,G(()=>t=!1)),!l&&a&1&&(l=!0,f.state=s[0].prep.state,G(()=>l=!1)),e.$set(f)},i(s){o||(C(e.$$.fragment,s),o=!0)},o(s){T(e.$$.fragment,s),o=!1},d(s){q(e,s)}}}function fl(n){let e,t,l,o;function i(s){n[5](s)}function r(s){n[6](s)}let u={resetTime:n[0].prepSecondary.resetTime,palette:"accent-secondary"};return n[0].prepSecondary.time!==void 0&&(u.time=n[0].prepSecondary.time),n[0].prepSecondary.state!==void 0&&(u.state=n[0].prepSecondary.state),e=new qt({props:u}),U.push(()=>X(e,"time",i)),U.push(()=>X(e,"state",r)),{c(){V(e.$$.fragment)},m(s,a){E(e,s,a),o=!0},p(s,a){const f={};a&1&&(f.resetTime=s[0].prepSecondary.resetTime),!t&&a&1&&(t=!0,f.time=s[0].prepSecondary.time,G(()=>t=!1)),!l&&a&1&&(l=!0,f.state=s[0].prepSecondary.state,G(()=>l=!1)),e.$set(f)},i(s){o||(C(e.$$.fragment,s),o=!0)},o(s){T(e.$$.fragment,s),o=!1},d(s){q(e,s)}}}function cl(n){let e,t,l,o,i,r,u,s,a,f=n[0].prep&&ul(n),c=n[0].prepSecondary&&fl(n);function h(g){n[7](g)}function d(g){n[8](g)}function m(g){n[9](g)}let p={speeches:n[2].timerSpeeches};return n[0].speech.resetTimeIndex!==void 0&&(p.resetTimeIndex=n[0].speech.resetTimeIndex),n[0].speech.time!==void 0&&(p.time=n[0].speech.time),n[0].speech.state!==void 0&&(p.state=n[0].speech.state),o=new Es({props:p}),U.push(()=>X(o,"resetTimeIndex",h)),U.push(()=>X(o,"time",d)),U.push(()=>X(o,"state",m)),{c(){e=F("div"),f&&f.c(),t=Z(),c&&c.c(),l=Z(),V(o.$$.fragment),b(e,"class","timer svelte-10onzka")},m(g,v){j(g,e,v),f&&f.m(e,null),L(e,t),c&&c.m(e,null),L(e,l),E(o,e,null),a=!0},p(g,v){g[0].prep?f?(f.p(g,v),v&1&&C(f,1)):(f=ul(g),f.c(),C(f,1),f.m(e,t)):f&&(Q(),T(f,1,1,()=>{f=null}),Y()),g[0].prepSecondary?c?(c.p(g,v),v&1&&C(c,1)):(c=fl(g),c.c(),C(c,1),c.m(e,l)):c&&(Q(),T(c,1,1,()=>{c=null}),Y());const w={};v&4&&(w.speeches=g[2].timerSpeeches),!i&&v&1&&(i=!0,w.resetTimeIndex=g[0].speech.resetTimeIndex,G(()=>i=!1)),!r&&v&1&&(r=!0,w.time=g[0].speech.time,G(()=>r=!1)),!u&&v&1&&(u=!0,w.state=g[0].speech.state,G(()=>u=!1)),o.$set(w)},i(g){a||(C(f),C(c),C(o.$$.fragment,g),ke(()=>{a&&(s||(s=ye(e,nn,{},!0)),s.run(1))}),a=!0)},o(g){T(f),T(c),T(o.$$.fragment,g),s||(s=ye(e,nn,{},!1)),s.run(0),a=!1},d(g){g&&D(e),f&&f.d(),c&&c.d(),q(o),g&&s&&s.end()}}}function qs(n){let e,t=n[1],l,o=cl(n);return{c(){e=F("div"),o.c(),b(e,"class","top svelte-10onzka")},m(i,r){j(i,e,r),o.m(e,null),l=!0},p(i,[r]){r&2&&x(t,t=i[1])?(Q(),T(o,1,1,$),Y(),o=cl(i),o.c(),C(o,1),o.m(e,null)):o.p(i,r)},i(i){l||(C(o),l=!0)},o(i){T(o),l=!1},d(i){i&&D(e),o.d(i)}}}function Ps(n,e,t){let l,o=!1,i=K.data.debateStyle.value,r=gt[_t[i]];ce(K.subscribe(["debateStyle"],p=>{let g=K.data[p].value;g!==i&&(i=g,t(2,r=gt[_t[i]]),u(),t(1,o=!o))}));function u(){let p={speech:{resetTimeIndex:0,time:r==null?void 0:r.timerSpeeches[0].time,state:{name:"paused"}}};(r==null?void 0:r.prepTime)!=null&&(p.prep={resetTime:r.prepTime,time:r.prepTime,state:{name:"paused"}},p.prepSecondary={resetTime:r.prepTime,time:r.prepTime,state:{name:"paused"}}),t(0,l=p)}u();function s(p){n.$$.not_equal(l.prep.time,p)&&(l.prep.time=p,t(0,l))}function a(p){n.$$.not_equal(l.prep.state,p)&&(l.prep.state=p,t(0,l))}function f(p){n.$$.not_equal(l.prepSecondary.time,p)&&(l.prepSecondary.time=p,t(0,l))}function c(p){n.$$.not_equal(l.prepSecondary.state,p)&&(l.prepSecondary.state=p,t(0,l))}function h(p){n.$$.not_equal(l.speech.resetTimeIndex,p)&&(l.speech.resetTimeIndex=p,t(0,l))}function d(p){n.$$.not_equal(l.speech.time,p)&&(l.speech.time=p,t(0,l))}function m(p){n.$$.not_equal(l.speech.state,p)&&(l.speech.state=p,t(0,l))}return[l,o,r,s,a,f,c,h,d,m]}class Us extends ne{constructor(e){super(),le(this,e,Ps,qs,x,{})}}const{document:dt}=wl;function Ws(n){let e,t,l;function o(u){n[16](u,n[32])}function i(){return n[17](n[32])}let r={selected:n[32]==n[2]};return n[0][n[32]]!==void 0&&(r.flow=n[0][n[32]]),e=new ds({props:r}),U.push(()=>X(e,"flow",o)),e.$on("click",i),{c(){V(e.$$.fragment)},m(u,s){E(e,u,s),l=!0},p(u,s){n=u;const a={};s[0]&4|s[1]&2&&(a.selected=n[32]==n[2]),!t&&s[0]&1|s[1]&2&&(t=!0,a.flow=n[0][n[32]],G(()=>t=!1)),e.$set(a)},i(u){l||(C(e.$$.fragment,u),l=!0)},o(u){T(e.$$.fragment,u),l=!1},d(u){q(e,u)}}}function Ks(n){let e,t,l;return t=new As({}),{c(){e=F("div"),V(t.$$.fragment),b(e,"class","prelude svelte-1jekm0r")},m(o,i){j(o,e,i),E(t,e,null),l=!0},p:$,i(o){l||(C(t.$$.fragment,o),l=!0)},o(o){T(t.$$.fragment,o),l=!1},d(o){o&&D(e),q(t)}}}function Js(n){let e=n[2],t,l,o=hl(n);return{c(){o.c(),t=ge()},m(i,r){o.m(i,r),j(i,t,r),l=!0},p(i,r){r[0]&4&&x(e,e=i[2])?(Q(),T(o,1,1,$),Y(),o=hl(i),o.c(),C(o,1),o.m(t.parentNode,t)):o.p(i,r)},i(i){l||(C(o),l=!0)},o(i){T(o),l=!1},d(i){i&&D(t),o.d(i)}}}function dl(n){let e,t,l,o,i,r,u,s,a,f,c,h,d,m,p;function g(M){n[20](M)}function v(M){n[21](M)}function w(M){n[22](M)}function _(M){n[23](M)}let k={deleteSelf:n[19]};n[0][n[2]].content!==void 0&&(k.content=n[0][n[2]].content),n[0][n[2]].children!==void 0&&(k.children=n[0][n[2]].children),n[0][n[2]].focus!==void 0&&(k.focus=n[0][n[2]].focus),n[0][n[2]].invert!==void 0&&(k.invert=n[0][n[2]].invert),t=new So({props:k}),U.push(()=>X(t,"content",g)),U.push(()=>X(t,"children",v)),U.push(()=>X(t,"focus",w)),U.push(()=>X(t,"invert",_));function y(M){n[24](M)}let S={};n[0][n[2]]!==void 0&&(S.flow=n[0][n[2]]),a=new Io({props:S}),U.push(()=>X(a,"flow",y));function A(M){n[25](M)}let I={};return n[0][n[2]]!==void 0&&(I.root=n[0][n[2]]),d=new ko({props:I}),U.push(()=>X(d,"root",A)),d.$on("focusFlow",n[4]),{c(){e=F("div"),V(t.$$.fragment),u=Z(),s=F("div"),V(a.$$.fragment),c=Z(),h=F("div"),V(d.$$.fragment),b(e,"class","title svelte-1jekm0r"),b(s,"class","box-control svelte-1jekm0r"),b(h,"class","flow svelte-1jekm0r")},m(M,z){j(M,e,z),E(t,e,null),j(M,u,z),j(M,s,z),E(a,s,null),j(M,c,z),j(M,h,z),E(d,h,null),p=!0},p(M,z){const N={};z[0]&4&&(N.deleteSelf=M[19]),!l&&z[0]&5&&(l=!0,N.content=M[0][M[2]].content,G(()=>l=!1)),!o&&z[0]&5&&(o=!0,N.children=M[0][M[2]].children,G(()=>o=!1)),!i&&z[0]&5&&(i=!0,N.focus=M[0][M[2]].focus,G(()=>i=!1)),!r&&z[0]&5&&(r=!0,N.invert=M[0][M[2]].invert,G(()=>r=!1)),t.$set(N);const J={};!f&&z[0]&5&&(f=!0,J.flow=M[0][M[2]],G(()=>f=!1)),a.$set(J);const ie={};!m&&z[0]&5&&(m=!0,ie.root=M[0][M[2]],G(()=>m=!1)),d.$set(ie)},i(M){p||(C(t.$$.fragment,M),C(a.$$.fragment,M),C(d.$$.fragment,M),p=!0)},o(M){T(t.$$.fragment,M),T(a.$$.fragment,M),T(d.$$.fragment,M),p=!1},d(M){M&&D(e),q(t),M&&D(u),M&&D(s),q(a),M&&D(c),M&&D(h),q(d)}}}function hl(n){let e=n[0].length,t,l,o=dl(n);return{c(){o.c(),t=ge()},m(i,r){o.m(i,r),j(i,t,r),l=!0},p(i,r){r[0]&1&&x(e,e=i[0].length)?(Q(),T(o,1,1,$),Y(),o=dl(i),o.c(),C(o,1),o.m(t.parentNode,t)):o.p(i,r)},i(i){l||(C(o),l=!0)},o(i){T(o),l=!1},d(i){i&&D(t),o.d(i)}}}function Xs(n){let e,t,l,o,i,r,u,s,a,f,c,h,d,m,p,g,v,w,_,k,y,S,A,I;s=new Fl({props:{resize:!0,buttons:[{icon:"home",link:"/",tooltip:"go home",tutorialHighlight:1},{icon:"gear",onclick:n[13],tooltip:"settings",tutorialHighlight:2},{icon:"file",onclick:n[14],tooltip:"download & upload file",tutorialHighlight:3},{icon:"people",onclick:n[15],tooltip:"share",tutorialHighlight:4}]}}),h=new is({props:{list:n[0],key:"id",$$slots:{default:[Ws,({index:H})=>({32:H}),({index:H})=>[0,H?2:0]]},$$scope:{ctx:n}}}),h.$on("sort",n[7]);function M(H){n[18](H)}let z={addFlow:n[5]};n[1]!==void 0&&(z.switchSpeakers=n[1]),m=new rs({props:z}),U.push(()=>X(m,"switchSpeakers",M)),w=new Us({});const N=[Js,Ks],J=[];function ie(H,re){return H[0].length>0&&H[0][H[2]]?0:1}return k=ie(n),y=J[k]=N[k](n),{c(){e=Z(),t=F("main"),l=F("input"),o=Z(),i=F("div"),r=F("div"),u=F("div"),V(s.$$.fragment),a=Z(),f=F("div"),c=F("div"),V(h.$$.fragment),d=Z(),V(m.$$.fragment),g=Z(),v=F("div"),V(w.$$.fragment),_=Z(),y.c(),b(l,"id","uploadId"),b(l,"type","file"),l.hidden=!0,b(u,"class","header svelte-1jekm0r"),b(c,"class","tabScroll svelte-1jekm0r"),b(f,"class","tabs svelte-1jekm0r"),b(v,"class","timer"),b(r,"class","sidebar svelte-1jekm0r"),b(i,"class","grid svelte-1jekm0r"),R(i,"showPrelude",n[0].length==0),b(t,"class","palette-plain"),R(t,"activeMouse",ot)},m(H,re){j(H,e,re),j(H,t,re),L(t,l),L(t,o),L(t,i),L(i,r),L(r,u),E(s,u,null),L(r,a),L(r,f),L(f,c),E(h,c,null),L(c,d),E(m,c,null),L(r,g),L(r,v),E(w,v,null),L(i,_),J[k].m(i,null),S=!0,A||(I=[W(dt.body,"keydown",n[9]),W(dt.body,"mousemove",n[8]),W(dt.body,"dragenter",Gs),W(dt.body,"drop",n[10]),W(l,"change",n[11])],A=!0)},p(H,re){const Ie={};re[0]&1&&(Ie.list=H[0]),re[0]&5|re[1]&6&&(Ie.$$scope={dirty:re,ctx:H}),h.$set(Ie);const Pe={};!p&&re[0]&2&&(p=!0,Pe.switchSpeakers=H[1],G(()=>p=!1)),m.$set(Pe);let Me=k;k=ie(H),k===Me?J[k].p(H,re):(Q(),T(J[Me],1,1,()=>{J[Me]=null}),Y(),y=J[k],y?y.p(H,re):(y=J[k]=N[k](H),y.c()),C(y,1),y.m(i,null)),(!S||re[0]&1)&&R(i,"showPrelude",H[0].length==0)},i(H){S||(C(s.$$.fragment,H),C(h.$$.fragment,H),C(m.$$.fragment,H),C(w.$$.fragment,H),C(y),S=!0)},o(H){T(s.$$.fragment,H),T(h.$$.fragment,H),T(m.$$.fragment,H),T(w.$$.fragment,H),T(y),S=!1},d(H){H&&D(e),H&&D(t),q(s),q(h),q(m),q(w),J[k].d(),A=!1,Ce(I)}}}function Gs(n){n.preventDefault()}function Qs(n,e,t){let l,o,i,r;me(n,ve,O=>t(2,o=O)),me(n,oe,O=>t(0,i=O)),me(n,ot,O=>t(27,r=O));let u=[],s=!0;Zt(()=>{t(12,s=!1)}),qe(()=>{window.addEventListener("dragover",function(O){O.preventDefault()},!1),window.addEventListener("drop",function(O){O.preventDefault()},!1),window.addEventListener("beforeunload",function(O){if(l&&!dev){let ee="Are you sure you want to leave?";return O.returnValue=ee,ee}})}),ce(()=>{u.forEach(O=>O())});function a(O){c(),he(ve,o=O,o),f()}function f(){var ee;let O=fe(i[o],(ee=i[o])==null?void 0:ee.lastFocus);O==null&&(O=i[o]),O.focus=!0,oe.set(i)}function c(){if(i.length>0){let O=fe(i[o],i[o].lastFocus);O||(O=i[o]),O.focus=!1,oe.set(i),document.activeElement.blur()}}function h(O){c();let ee=qi(i.length,O,y);ee!=null&&(i.push(ee),he(ve,o=i.length-1,o),oe.set(i),Ve())}async function d(O){c(),i.splice(O,1),O==0?he(ve,o=0,o):he(ve,o=O-1,o);for(let ee=O;ee<i.length;ee++)he(oe,i[ee].index=ee,i);oe.set(i),Ve(),i.length>0&&f()}function m(O){let{from:ee,to:be}=O.detail,Be=i[o].id,Fe=[...i];ee>be&&(be+=1);let De=Fe.splice(ee,1)[0];Fe.splice(be,0,De);for(let _e=0;_e<Fe.length;_e++)Fe[_e].index=_e;he(oe,i=Fe,i),Ve(),he(ve,o=i.findIndex(_e=>_e.id==Be),o)}function p(O){he(ot,r=!0,r)}const g=Rt({control:{n:{handle:()=>h("primary")}},"control shift":{n:{handle:()=>h("secondary")}},"commandControl shift":{z:{handle:()=>{i[o].history.redo()},require:()=>i.length>0,stopRepeat:!1}},commandControl:{z:{handle:()=>i[o].history.undo(),require:()=>i.length>0,stopRepeat:!1}},"commandControl alt":{ArrowUp:{handle:()=>{let O=o-1<0?i.length-1:o-1;a(O)},require:()=>i.length>0,stopRepeat:!1},ArrowDown:{handle:()=>{let O=o+1>=i.length?0:o+1;a(O)},require:()=>i.length>0,stopRepeat:!1}}});function v(O){he(ot,r=!1,r),g(O)}function w(O){var Be;O.preventDefault();let ee=(Be=O==null?void 0:O.dataTransfer)==null?void 0:Be.files[0];if(ee==null)return;let be=new FileReader;be.onload=function(Fe){var _e;let De=(_e=Fe.target)==null?void 0:_e.result;De!=null&&k(De.toString())},ee.type=="text/plain"||ee.type=="application/json"?be.readAsText(ee,"UTF-8"):Ue(Cn,"File Error",{props:{message:"Invalid file"}})}function _(){var Be;const O=(Be=document.getElementById("uploadId"))==null?void 0:Be.files;if(O==null)return;let ee=O[0],be=new FileReader;be.onload=function(Fe){var _e;let De=(_e=Fe.target)==null?void 0:_e.result;De!=null&&k(De.toString())},be.readAsText(ee,"UTF-8")}async function k(O){let ee=null;try{ee=Il(O)}catch{Ue(Cn,"File Error",{props:{message:"Invalid file"}})}ee!=null&&(!l||confirm("Are you sure you want to overwrite your current flows?"))&&(he(oe,i=ee,i),he(ve,o=0,o))}let y=!1;const S=()=>Ue(Yo,"Settings"),A=()=>Ue(No,"File"),I=()=>Ue(Share,"Save online & share");function M(O,ee){n.$$.not_equal(i[ee],O)&&(i[ee]=O,oe.set(i))}const z=O=>a(O);function N(O){y=O,t(1,y)}const J=()=>d(o);function ie(O){n.$$.not_equal(i[o].content,O)&&(i[o].content=O,oe.set(i))}function H(O){n.$$.not_equal(i[o].children,O)&&(i[o].children=O,oe.set(i))}function re(O){n.$$.not_equal(i[o].focus,O)&&(i[o].focus=O,oe.set(i))}function Ie(O){n.$$.not_equal(i[o].invert,O)&&(i[o].invert=O,oe.set(i))}function Pe(O){n.$$.not_equal(i[o],O)&&(i[o]=O,oe.set(i))}function Me(O){n.$$.not_equal(i[o],O)&&(i[o]=O,oe.set(i))}return n.$$.update=()=>{n.$$.dirty[0]&4097&&(l=i.length>0&&!s)},[i,y,o,a,f,h,d,m,p,v,w,_,s,S,A,I,M,z,N,J,ie,H,re,Ie,Pe,Me]}class Ys extends ne{constructor(e){super(),le(this,e,Qs,Xs,x,{},null,[-1,-1])}}const{document:Mt}=wl;function $s(n){let e,t,l,o;e=new Ys({});let i=n[1].length>0&&pl(n);return{c(){V(e.$$.fragment),t=Z(),i&&i.c(),l=ge()},m(r,u){E(e,r,u),j(r,t,u),i&&i.m(r,u),j(r,l,u),o=!0},p(r,u){r[1].length>0?i?(i.p(r,u),u&2&&C(i,1)):(i=pl(r),i.c(),C(i,1),i.m(l.parentNode,l)):i&&(Q(),T(i,1,1,()=>{i=null}),Y())},i(r){o||(C(e.$$.fragment,r),C(i),o=!0)},o(r){T(e.$$.fragment,r),T(i),o=!1},d(r){q(e,r),r&&D(t),i&&i.d(r),r&&D(l)}}}function xs(n){let e,t,l;return t=new ue({props:{icon:"undo",text:"unminimize"}}),t.$on("click",n[2]),{c(){e=F("div"),V(t.$$.fragment),b(e,"class","minimized")},m(o,i){j(o,e,i),E(t,e,null),l=!0},p:$,i(o){l||(C(t.$$.fragment,o),l=!0)},o(o){T(t.$$.fragment,o),l=!1},d(o){o&&D(e),q(t)}}}function pl(n){let e,t,l=n[1],o,i,r,u,s=ml(n);return{c(){e=F("div"),t=F("div"),s.c(),b(t,"class","popups"),b(e,"class","screen")},m(a,f){j(a,e,f),L(e,t),s.m(t,null),i=!0,r||(u=[W(t,"click",Qt(n[4])),W(e,"click",Qt(n[5]))],r=!0)},p(a,f){f&2&&x(l,l=a[1])?(Q(),T(s,1,1,$),Y(),s=ml(a),s.c(),C(s,1),s.m(t,null)):s.p(a,f)},i(a){i||(C(s),ke(()=>{i&&(o||(o=ye(e,en,{},!0)),o.run(1))}),i=!0)},o(a){T(s),o||(o=ye(e,en,{},!1)),o.run(0),i=!1},d(a){a&&D(e),s.d(a),a&&o&&o.end(),r=!1,Ce(u)}}}function ml(n){let e,t;return e=new Ei({props:{component:n[1][0].component,closeSelf:n[3],title:n[1][0].title,props:n[1][0].props}}),{c(){V(e.$$.fragment)},m(l,o){E(e,l,o),t=!0},p(l,o){const i={};o&2&&(i.component=l[1][0].component),o&2&&(i.title=l[1][0].title),o&2&&(i.props=l[1][0].props),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function er(n){let e,t,l,o,i,r,u;const s=[xs,$s],a=[];function f(c,h){return c[0]?0:1}return o=f(n),i=a[o]=s[o](n),{c(){e=F("meta"),t=F("link"),l=Z(),i.c(),r=ge(),Mt.title="Flow",b(e,"name","description"),b(e,"content","App for flowing in competitive debate, better than Excel or Google Sheets. Supports Policy, Lincoln-Douglas, Public Forum, and Congress debate."),b(t,"rel","canonical"),b(t,"href","https://debate-flow.vercel.app/")},m(c,h){L(Mt.head,e),L(Mt.head,t),j(c,l,h),a[o].m(c,h),j(c,r,h),u=!0},p(c,[h]){let d=o;o=f(c),o===d?a[o].p(c,h):(Q(),T(a[d],1,1,()=>{a[d]=null}),Y(),i=a[o],i?i.p(c,h):(i=a[o]=s[o](c),i.c()),C(i,1),i.m(r.parentNode,r))},i(c){u||(C(i),u=!0)},o(c){T(i),u=!1},d(c){D(e),D(t),c&&D(l),a[o].d(c),c&&D(r)}}}function tr(n,e,t){let l,o;me(n,yl,h=>t(0,l=h)),me(n,Ot,h=>t(1,o=h)),qe(()=>{Wi(()=>{Ue(Share,"Sharing")})}),ce(Ki);const i=window.matchMedia("(prefers-color-scheme: dark)");i.matches&&document.body.classList.add("dark"),K.init();function r(){K.data.colorTheme.value==0&&document.body.classList.toggle("dark",i.matches)}i.addEventListener("change",r),ce(K.subscribe(["colorTheme"],function(){K.data.colorTheme.value==1?document.body.classList.remove("dark"):K.data.colorTheme.value==2?document.body.classList.add("dark"):r()}));const u={accentHue:{name:"accent-hue",unit:""},accentSecondaryHue:{name:"accent-secondary-hue",unit:""},transitionSpeed:{name:"transition-speed",unit:"ms"},columnWidth:{name:"column-width",unit:"px"},borderRadius:{name:"border-radius",unit:"px"},padding:{name:"padding",unit:"px"},fontSize:{name:"font-size",unit:"rem"},fontWeight:{name:"font-weight",unit:""},fontWeightBold:{name:"font-weight-bold",unit:""},gap:{name:"gap",unit:"px"},buttonSize:{name:"button-size",unit:"px"},lineWidth:{name:"line-width",unit:"px"},sidebarWidth:{name:"sidebar-width",unit:"px"}};return ce(K.subscribe(["fontFamily"],function(h){const d=K.data.fontFamily;if(d.type!="radio")return;const m=d.value;let p;d.detail.customOption&&d.detail.options.length==m?p=d.detail.customOptionValue:d.detail.options[m]&&(p=d.detail.options[m]),p?document.body.style.setProperty("--font-family",`'${p}', 'Merriweather Sans', sans-serif`):document.body.style.setProperty("--font-family","'Merriweather Sans', sans-serif")})),ce(K.subscribe(Object.keys(u),function(h){const d=u[h].name,m=K.data[h].value,p=u[h].unit;document.body.style.setProperty(`--${d}`,`${m}${p}`)})),[l,o,()=>{ao()},()=>Ct(0),()=>{Ct(0)},()=>{Ct(0)}]}class nr extends ne{constructor(e){super(),le(this,e,tr,er,x,{})}}function lr(){new nr({target:document.body})}document.addEventListener("DOMContentLoaded",lr);
